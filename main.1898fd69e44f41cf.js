"use strict";(self.webpackChunkwycieczki=self.webpackChunkwycieczki||[]).push([[179],{2011:(vt,Ee,O)=>{O.d(Ee,{Dh:()=>me,GT:()=>ye,cc:()=>Ae,hO:()=>$e,on:()=>Q,pX:()=>de,xv:()=>be});var a=O(4650),$=O(9260),N=O(2122);vt=O.hmd(vt);const le=["ngOnDestroy"],de=(Te,Se,Pe,ze={})=>new Proxy(Te,{get:(Ne,Ve)=>Pe.runOutsideAngular(()=>{var Ye;if(Te[Ve])return!(null===(Ye=ze?.spy)||void 0===Ye)&&Ye.get&&ze.spy.get(Ve,Te[Ve]),Te[Ve];if(le.indexOf(Ve)>-1)return()=>{};const re=Se.toPromise().then(pe=>{const we=pe&&pe[Ve];return"function"==typeof we?we.bind(pe):we&&we.then?we.then(te=>Pe.run(()=>te)):Pe.run(()=>we)});return new Proxy(()=>{},{get:(pe,we)=>re[we],apply:(pe,we,te)=>re.then(ee=>{var _e;const ue=ee&&ee(...te);return!(null===(_e=ze?.spy)||void 0===_e)&&_e.apply&&ze.spy.apply(Ve,te,ue),ue})})})}),ye=(Te,Se)=>{Se.forEach(Pe=>{Object.getOwnPropertyNames(Pe.prototype||Pe).forEach(ze=>{Object.defineProperty(Te.prototype,ze,Object.getOwnPropertyDescriptor(Pe.prototype||Pe,ze))})})};class ce{constructor(Se){return Se}}const me=new a.OlP("angularfire2.app.options"),be=new a.OlP("angularfire2.app.name");function Q(Te,Se,Pe){const Ne="object"==typeof Pe&&Pe||{};Ne.name=Ne.name||"string"==typeof Pe&&Pe||"[DEFAULT]";const Ye=$.Z.apps.filter(re=>re&&re.name===Ne.name)[0]||Se.runOutsideAngular(()=>$.Z.initializeApp(Te,Ne));try{JSON.stringify(Te)!==JSON.stringify(Ye.options)&&Y("error",`${Ye.name} Firebase App already initialized with different options${vt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ce(Ye)}const Y=(Te,...Se)=>{(0,a.X6Q)()&&typeof console<"u"&&console[Te](...Se)},ne={provide:ce,useFactory:Q,deps:[me,a.R0b,[new a.FiY,be]]};let $e=(()=>{class Te{constructor(Pe){$.Z.registerVersion("angularfire",N.q4.full,"core"),$.Z.registerVersion("angularfire",N.q4.full,"app-compat"),$.Z.registerVersion("angular",a.q4F.full,Pe.toString())}static initializeApp(Pe,ze){return{ngModule:Te,providers:[{provide:me,useValue:Pe},{provide:be,useValue:ze}]}}}return Te.\u0275fac=function(Pe){return new(Pe||Te)(a.LFG(a.Lbi))},Te.\u0275mod=a.oAB({type:Te}),Te.\u0275inj=a.cJS({providers:[ne]}),Te})();function Ae(Te,Se,Pe,ze,Ne){const[,Ve,Ye]=globalThis.\u0275AngularfireInstanceCache.find(re=>re[0]===Te)||[];if(Ve)return function Je(Te,Se){try{return Te.toString()===Se.toString()}catch{return Te===Se}}(Ne,Ye)||(xe("error",`${Se} was already initialized on the ${Pe} Firebase App with different settings.${at?" You may need to reload as Firebase is not HMR aware.":""}`),xe("warn",{is:Ne,was:Ye})),Ve;{const re=ze();return globalThis.\u0275AngularfireInstanceCache.push([Te,re,Ne]),re}}const at=!!vt.hot,xe=(Te,...Se)=>{(0,a.X6Q)()&&typeof console<"u"&&console[Te](...Se)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(vt,Ee,O)=>{O.d(Ee,{q4:()=>Yh,iC:()=>Qs,HU:()=>Tc,vb:()=>Qn,JM:()=>Qt,u3:()=>zl});var a=O(4650),$=O(259),N=O(5861),le=O(9681),de=O(2090),ye=O(4859),ce=O(1877),me=O(8766);const be="@firebase/installations",Q="0.6.0",ne=`w:${Q}`,$e="FIS_v2",Se=new de.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Pe(E){return E instanceof de.ZR&&E.code.includes("request-failed")}function ze({projectId:E}){return`https://firebaseinstallations.googleapis.com/v1/projects/${E}/installations`}function Ne(E){return{token:E.token,requestStatus:2,expiresIn:ee(E.expiresIn),creationTime:Date.now()}}function Ve(E,D){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,N.Z)(function*(E,D){const G=(yield D.json()).error;return Se.create("request-failed",{requestName:E,serverCode:G.code,serverMessage:G.message,serverStatus:G.status})})).apply(this,arguments)}function re({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function pe(E,{refreshToken:D}){const V=re(E);return V.append("Authorization",function _e(E){return`${$e} ${E}`}(D)),V}function we(E){return te.apply(this,arguments)}function te(){return(te=(0,N.Z)(function*(E){const D=yield E();return D.status>=500&&D.status<600?E():D})).apply(this,arguments)}function ee(E){return Number(E.replace("s","000"))}function ue(E,D){return Be.apply(this,arguments)}function Be(){return(Be=(0,N.Z)(function*({appConfig:E,heartbeatServiceProvider:D},{fid:V}){const G=ze(E),ie=re(E),fe=D.getImmediate({optional:!0});if(fe){const gt=yield fe.getHeartbeatsHeader();gt&&ie.append("x-firebase-client",gt)}const nt={method:"POST",headers:ie,body:JSON.stringify({fid:V,authVersion:$e,appId:E.appId,sdkVersion:ne})},mt=yield we(()=>fetch(G,nt));if(mt.ok){const gt=yield mt.json();return{fid:gt.fid||V,registrationStatus:2,refreshToken:gt.refreshToken,authToken:Ne(gt.authToken)}}throw yield Ve("Create Installation",mt)})).apply(this,arguments)}function Ue(E){return new Promise(D=>{setTimeout(D,E)})}const mn=/^[cdef][\w-]{21}$/;function zt(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const V=function Kt(E){return function bt(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return mn.test(V)?V:""}catch{return""}}function Mt(E){return`${E.appName}!${E.appId}`}const fn=new Map;function Ti(E,D){const V=Mt(E);Yr(V,D),function Sr(E,D){const V=function $n(){return!Ui&&"BroadcastChannel"in self&&(Ui=new BroadcastChannel("[Firebase] FID Change"),Ui.onmessage=E=>{Yr(E.data.key,E.data.fid)}),Ui}();V&&V.postMessage({key:E,fid:D}),function fs(){0===fn.size&&Ui&&(Ui.close(),Ui=null)}()}(V,D)}function Yr(E,D){const V=fn.get(E);if(V)for(const G of V)G(D)}let Ui=null;const ti="firebase-installations-store";let Er=null;function Zr(){return Er||(Er=(0,me.X3)("firebase-installations-database",1,{upgrade:(E,D)=>{0===D&&E.createObjectStore(ti)}})),Er}function En(E,D){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,N.Z)(function*(E,D){const V=Mt(E),ie=(yield Zr()).transaction(ti,"readwrite"),fe=ie.objectStore(ti),He=yield fe.get(V);return yield fe.put(D,V),yield ie.done,(!He||He.fid!==D.fid)&&Ti(E,D.fid),D})).apply(this,arguments)}function ct(E){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,N.Z)(function*(E){const D=Mt(E),G=(yield Zr()).transaction(ti,"readwrite");yield G.objectStore(ti).delete(D),yield G.done})).apply(this,arguments)}function ji(E,D){return li.apply(this,arguments)}function li(){return(li=(0,N.Z)(function*(E,D){const V=Mt(E),ie=(yield Zr()).transaction(ti,"readwrite"),fe=ie.objectStore(ti),He=yield fe.get(V),nt=D(He);return void 0===nt?yield fe.delete(V):yield fe.put(nt,V),yield ie.done,nt&&(!He||He.fid!==nt.fid)&&Ti(E,nt.fid),nt})).apply(this,arguments)}function ni(E){return pr.apply(this,arguments)}function pr(){return(pr=(0,N.Z)(function*(E){let D;const V=yield ji(E.appConfig,G=>{const ie=Pt(G),fe=Ct(E,ie);return D=fe.registrationPromise,fe.installationEntry});return""===V.fid?{installationEntry:yield D}:{installationEntry:V,registrationPromise:D}})).apply(this,arguments)}function Pt(E){return fi(E||{fid:zt(),registrationStatus:0})}function Ct(E,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(Se.create("app-offline"))};const V={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},G=function Rt(E,D){return An.apply(this,arguments)}(E,V);return{installationEntry:V,registrationPromise:G}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:ui(E)}:{installationEntry:D}}function An(){return(An=(0,N.Z)(function*(E,D){try{const V=yield ue(E,D);return En(E.appConfig,V)}catch(V){throw Pe(V)&&409===V.customData.serverCode?yield ct(E.appConfig):yield En(E.appConfig,{fid:D.fid,registrationStatus:0}),V}})).apply(this,arguments)}function ui(E){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,N.Z)(function*(E){let D=yield Dr(E.appConfig);for(;1===D.registrationStatus;)yield Ue(100),D=yield Dr(E.appConfig);if(0===D.registrationStatus){const{installationEntry:V,registrationPromise:G}=yield ni(E);return G||V}return D})).apply(this,arguments)}function Dr(E){return ji(E,D=>{if(!D)throw Se.create("installation-not-found");return fi(D)})}function fi(E){return function Kr(E){return 1===E.registrationStatus&&E.registrationTime+1e4<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function qt(E,D){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,N.Z)(function*({appConfig:E,heartbeatServiceProvider:D},V){const G=Jt(E,V),ie=pe(E,V),fe=D.getImmediate({optional:!0});if(fe){const gt=yield fe.getHeartbeatsHeader();gt&&ie.append("x-firebase-client",gt)}const nt={method:"POST",headers:ie,body:JSON.stringify({installation:{sdkVersion:ne,appId:E.appId}})},mt=yield we(()=>fetch(G,nt));if(mt.ok)return Ne(yield mt.json());throw yield Ve("Generate Auth Token",mt)})).apply(this,arguments)}function Jt(E,{fid:D}){return`${ze(E)}/${D}/authTokens:generate`}function Ji(E){return ii.apply(this,arguments)}function ii(){return(ii=(0,N.Z)(function*(E,D=!1){let V;const G=yield ji(E.appConfig,fe=>{if(!an(fe))throw Se.create("not-registered");const He=fe.authToken;if(!D&&K(He))return fe;if(1===He.requestStatus)return V=qe(E,D),fe;{if(!navigator.onLine)throw Se.create("app-offline");const nt=J(fe);return V=Vt(E,nt),nt}});return V?yield V:G.authToken})).apply(this,arguments)}function qe(E,D){return Me.apply(this,arguments)}function Me(){return(Me=(0,N.Z)(function*(E,D){let V=yield st(E.appConfig);for(;1===V.authToken.requestStatus;)yield Ue(100),V=yield st(E.appConfig);const G=V.authToken;return 0===G.requestStatus?Ji(E,D):G})).apply(this,arguments)}function st(E){return ji(E,D=>{if(!an(D))throw Se.create("not-registered");return function j(E){return 1===E.requestStatus&&E.requestTime+1e4<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function Vt(E,D){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,N.Z)(function*(E,D){try{const V=yield qt(E,D),G=Object.assign(Object.assign({},D),{authToken:V});return yield En(E.appConfig,G),V}catch(V){if(!Pe(V)||401!==V.customData.serverCode&&404!==V.customData.serverCode){const G=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield En(E.appConfig,G)}else yield ct(E.appConfig);throw V}})).apply(this,arguments)}function an(E){return void 0!==E&&2===E.registrationStatus}function K(E){return 2===E.requestStatus&&!function W(E){const D=Date.now();return D<E.creationTime||E.creationTime+E.expiresIn<D+36e5}(E)}function J(E){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:D})}function U(){return(U=(0,N.Z)(function*(E){const D=E,{installationEntry:V,registrationPromise:G}=yield ni(D);return G?G.catch(console.error):Ji(D).catch(console.error),V.fid})).apply(this,arguments)}function Le(){return(Le=(0,N.Z)(function*(E,D=!1){const V=E;return yield dt(V),(yield Ji(V,D)).token})).apply(this,arguments)}function dt(E){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,N.Z)(function*(E){const{registrationPromise:D}=yield ni(E);D&&(yield D)})).apply(this,arguments)}function ic(E){return Se.create("missing-app-config-values",{valueName:E})}const rc="installations",wa=E=>{const D=E.getProvider("app").getImmediate(),V=function Ca(E){if(!E||!E.options)throw ic("App Configuration");if(!E.name)throw ic("App Name");const D=["projectId","apiKey","appId"];for(const V of D)if(!E.options[V])throw ic(V);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(D);return{app:D,appConfig:V,heartbeatServiceProvider:(0,le._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},pl=E=>{const D=E.getProvider("app").getImmediate(),V=(0,le._getProvider)(D,rc).getImmediate();return{getId:()=>function z(E){return U.apply(this,arguments)}(V),getToken:ie=>function he(E){return Le.apply(this,arguments)}(V,ie)}};(function sc(){(0,le._registerComponent)(new ye.wA(rc,wa,"PUBLIC")),(0,le._registerComponent)(new ye.wA("installations-internal",pl,"PRIVATE"))})(),(0,le.registerVersion)(be,Q),(0,le.registerVersion)(be,Q,"esm2017");const K2="@firebase/remote-config",ri=new de.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Tr{constructor(D,V,G,ie){this.client=D,this.storage=V,this.storageCache=G,this.logger=ie}isCachedDataFresh(D,V){if(!V)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const G=Date.now()-V,ie=G<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${G}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${ie}.`),ie}fetch(D){var V=this;return(0,N.Z)(function*(){const[G,ie]=yield Promise.all([V.storage.getLastSuccessfulFetchTimestampMillis(),V.storage.getLastSuccessfulFetchResponse()]);if(ie&&V.isCachedDataFresh(D.cacheMaxAgeMillis,G))return ie;D.eTag=ie&&ie.eTag;const fe=yield V.client.fetch(D),He=[V.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===fe.status&&He.push(V.storage.setLastSuccessfulFetchResponse(fe)),yield Promise.all(He),fe})()}}function Gi(E=navigator){return E.languages&&E.languages[0]||E.language}class Ir{constructor(D,V,G,ie,fe,He){this.firebaseInstallations=D,this.sdkVersion=V,this.namespace=G,this.projectId=ie,this.apiKey=fe,this.appId=He}fetch(D){var V=this;return(0,N.Z)(function*(){const[G,ie]=yield Promise.all([V.firebaseInstallations.getId(),V.firebaseInstallations.getToken()]),He=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${V.projectId}/namespaces/${V.namespace}:fetch?key=${V.apiKey}`,nt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},mt={sdk_version:V.sdkVersion,app_instance_id:G,app_instance_id_token:ie,app_id:V.appId,language_code:Gi()},gt={method:"POST",headers:nt,body:JSON.stringify(mt)},Ut=fetch(He,gt),Ht=new Promise((vn,Hs)=>{D.signal.addEventListener(()=>{const bo=new Error("The operation was aborted.");bo.name="AbortError",Hs(bo)})});let zr;try{yield Promise.race([Ut,Ht]),zr=yield Ut}catch(vn){let Hs="fetch-client-network";throw"AbortError"===vn?.name&&(Hs="fetch-timeout"),ri.create(Hs,{originalErrorMessage:vn?.message})}let wn=zr.status;const _r=zr.headers.get("ETag")||void 0;let Nr,Gn;if(200===zr.status){let vn;try{vn=yield zr.json()}catch(Hs){throw ri.create("fetch-client-parse",{originalErrorMessage:Hs?.message})}Nr=vn.entries,Gn=vn.state}if("INSTANCE_STATE_UNSPECIFIED"===Gn?wn=500:"NO_CHANGE"===Gn?wn=304:("NO_TEMPLATE"===Gn||"EMPTY_CONFIG"===Gn)&&(Nr={}),304!==wn&&200!==wn)throw ri.create("fetch-status",{httpStatus:wn});return{status:wn,eTag:_r,config:Nr}})()}}class Ss{constructor(D,V){this.client=D,this.storage=V}fetch(D){var V=this;return(0,N.Z)(function*(){const G=(yield V.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return V.attemptFetch(D,G)})()}attemptFetch(D,{throttleEndTimeMillis:V,backoffCount:G}){var ie=this;return(0,N.Z)(function*(){yield function mr(E,D){return new Promise((V,G)=>{const ie=Math.max(D-Date.now(),0),fe=setTimeout(V,ie);E.addEventListener(()=>{clearTimeout(fe),G(ri.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,V);try{const fe=yield ie.client.fetch(D);return yield ie.storage.deleteThrottleMetadata(),fe}catch(fe){if(!function Vn(E){if(!(E instanceof de.ZR&&E.customData))return!1;const D=Number(E.customData.httpStatus);return 429===D||500===D||503===D||504===D}(fe))throw fe;const He={throttleEndTimeMillis:Date.now()+(0,de.$s)(G),backoffCount:G+1};return yield ie.storage.setThrottleMetadata(He),ie.attemptFetch(D,He)}})()}}class oc{constructor(D,V,G,ie,fe){this.app=D,this._client=V,this._storageCache=G,this._storage=ie,this._logger=fe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Es(E,D){const V=E.target.error||void 0;return ri.create(D,{originalErrorMessage:V&&V?.message})}const Ds="app_namespace_store";class Wi{constructor(D,V,G,ie=function x4(){return new Promise((E,D)=>{try{const V=indexedDB.open("firebase_remote_config",1);V.onerror=G=>{D(Es(G,"storage-open"))},V.onsuccess=G=>{E(G.target.result)},V.onupgradeneeded=G=>{0===G.oldVersion&&G.target.result.createObjectStore(Ds,{keyPath:"compositeKey"})}}catch(V){D(ri.create("storage-open",{originalErrorMessage:V?.message}))}})}()){this.appId=D,this.appName=V,this.namespace=G,this.openDbPromise=ie}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var V=this;return(0,N.Z)(function*(){const G=yield V.openDbPromise;return new Promise((ie,fe)=>{const nt=G.transaction([Ds],"readonly").objectStore(Ds),mt=V.createCompositeKey(D);try{const gt=nt.get(mt);gt.onerror=Ut=>{fe(Es(Ut,"storage-get"))},gt.onsuccess=Ut=>{const Ht=Ut.target.result;ie(Ht?Ht.value:void 0)}}catch(gt){fe(ri.create("storage-get",{originalErrorMessage:gt?.message}))}})})()}set(D,V){var G=this;return(0,N.Z)(function*(){const ie=yield G.openDbPromise;return new Promise((fe,He)=>{const mt=ie.transaction([Ds],"readwrite").objectStore(Ds),gt=G.createCompositeKey(D);try{const Ut=mt.put({compositeKey:gt,value:V});Ut.onerror=Ht=>{He(Es(Ht,"storage-set"))},Ut.onsuccess=()=>{fe()}}catch(Ut){He(ri.create("storage-set",{originalErrorMessage:Ut?.message}))}})})()}delete(D){var V=this;return(0,N.Z)(function*(){const G=yield V.openDbPromise;return new Promise((ie,fe)=>{const nt=G.transaction([Ds],"readwrite").objectStore(Ds),mt=V.createCompositeKey(D);try{const gt=nt.delete(mt);gt.onerror=Ut=>{fe(Es(Ut,"storage-delete"))},gt.onsuccess=()=>{ie()}}catch(gt){fe(ri.create("storage-delete",{originalErrorMessage:gt?.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class zi{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,N.Z)(function*(){const V=D.storage.getLastFetchStatus(),G=D.storage.getLastSuccessfulFetchTimestampMillis(),ie=D.storage.getActiveConfig(),fe=yield V;fe&&(D.lastFetchStatus=fe);const He=yield G;He&&(D.lastSuccessfulFetchTimestampMillis=He);const nt=yield ie;nt&&(D.activeConfig=nt)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function Is(){return h2.apply(this,arguments)}function h2(){return(h2=(0,N.Z)(function*(){if(!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch{return!1}})).apply(this,arguments)}!function d2(){(0,le._registerComponent)(new ye.wA("remote-config",function E(D,{instanceIdentifier:V}){const G=D.getProvider("app").getImmediate(),ie=D.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ri.create("registration-window");if(!(0,de.hl)())throw ri.create("indexed-db-unavailable");const{projectId:fe,apiKey:He,appId:nt}=G.options;if(!fe)throw ri.create("registration-project-id");if(!He)throw ri.create("registration-api-key");if(!nt)throw ri.create("registration-app-id");const mt=new Wi(nt,G.name,V=V||"firebase"),gt=new zi(mt),Ut=new ce.Yd(K2);Ut.logLevel=ce.in.ERROR;const Ht=new Ir(ie,le.SDK_VERSION,V,fe,He,nt),zr=new Ss(Ht,mt),wn=new Tr(zr,mt,gt,Ut),_r=new oc(G,wn,gt,mt,Ut);return function dn(E){const D=(0,de.m9)(E);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(_r),_r},"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(K2,"0.4.0"),(0,le.registerVersion)(K2,"0.4.0","esm2017")}();const lo="/firebase-messaging-sw.js",Ea="/firebase-cloud-messaging-push-scope",Ho="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",b4="google.c.a.c_id",X2="google.c.a.c_l",ml="google.c.a.ts",zo="google.c.a.e";var No=(()=>{return(E=No||(No={})).PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",No;var E})();function hs(E){const D=new Uint8Array(E);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function gl(E){const V=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),G=atob(V),ie=new Uint8Array(G.length);for(let fe=0;fe<G.length;++fe)ie[fe]=G.charCodeAt(fe);return ie}const J2="fcm_token_details_db",_l="fcm_token_object_Store";function xf(E){return e1.apply(this,arguments)}function e1(){return e1=(0,N.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(fe=>fe.name).includes(J2))return null;let D=null;return(yield(0,me.X3)(J2,5,{upgrade:(G=(0,N.Z)(function*(ie,fe,He,nt){var mt;if(fe<2||!ie.objectStoreNames.contains(_l))return;const gt=nt.objectStore(_l),Ut=yield gt.index("fcmSenderId").get(E);if(yield gt.clear(),Ut)if(2===fe){const Ht=Ut;if(!Ht.auth||!Ht.p256dh||!Ht.endpoint)return;D={token:Ht.fcmToken,createTime:null!==(mt=Ht.createTime)&&void 0!==mt?mt:Date.now(),subscriptionOptions:{auth:Ht.auth,p256dh:Ht.p256dh,endpoint:Ht.endpoint,swScope:Ht.swScope,vapidKey:"string"==typeof Ht.vapidKey?Ht.vapidKey:hs(Ht.vapidKey)}}}else if(3===fe){const Ht=Ut;D={token:Ht.fcmToken,createTime:Ht.createTime,subscriptionOptions:{auth:hs(Ht.auth),p256dh:hs(Ht.p256dh),endpoint:Ht.endpoint,swScope:Ht.swScope,vapidKey:hs(Ht.vapidKey)}}}else if(4===fe){const Ht=Ut;D={token:Ht.fcmToken,createTime:Ht.createTime,subscriptionOptions:{auth:hs(Ht.auth),p256dh:hs(Ht.p256dh),endpoint:Ht.endpoint,swScope:Ht.swScope,vapidKey:hs(Ht.vapidKey)}}}}),function(fe,He,nt,mt){return G.apply(this,arguments)})})).close(),yield(0,me.Lj)(J2),yield(0,me.Lj)("fcm_vapid_details_db"),yield(0,me.Lj)("undefined"),t1(D)?D:null;var G}),e1.apply(this,arguments)}function t1(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:D}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}const Da="firebase-messaging-store";let n1=null;function Xr(){return n1||(n1=(0,me.X3)("firebase-messaging-database",1,{upgrade:(E,D)=>{0===D&&E.createObjectStore(Da)}})),n1}function r1(E){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,N.Z)(function*(E){const D=Ta(E),G=yield(yield Xr()).transaction(Da).objectStore(Da).get(D);if(G)return G;{const ie=yield xf(E.appConfig.senderId);if(ie)return yield Po(E,ie),ie}})).apply(this,arguments)}function Po(E,D){return lc.apply(this,arguments)}function lc(){return(lc=(0,N.Z)(function*(E,D){const V=Ta(E),ie=(yield Xr()).transaction(Da,"readwrite");return yield ie.objectStore(Da).put(D,V),yield ie.done,D})).apply(this,arguments)}function p2(E){return s1.apply(this,arguments)}function s1(){return(s1=(0,N.Z)(function*(E){const D=Ta(E),G=(yield Xr()).transaction(Da,"readwrite");yield G.objectStore(Da).delete(D),yield G.done})).apply(this,arguments)}function Ta({appConfig:E}){return E.appId}const Zn=new de.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function uc(E,D){return qi.apply(this,arguments)}function qi(){return(qi=(0,N.Z)(function*(E,D){const V=yield On(E),G=fc(D),ie={method:"POST",headers:V,body:JSON.stringify(G)};let fe;try{fe=yield(yield fetch(vl(E.appConfig),ie)).json()}catch(He){throw Zn.create("token-subscribe-failed",{errorInfo:He?.toString()})}if(fe.error)throw Zn.create("token-subscribe-failed",{errorInfo:fe.error.message});if(!fe.token)throw Zn.create("token-subscribe-no-token");return fe.token})).apply(this,arguments)}function Oo(E,D){return m2.apply(this,arguments)}function m2(){return(m2=(0,N.Z)(function*(E,D){const V=yield On(E),G=fc(D.subscriptionOptions),ie={method:"PATCH",headers:V,body:JSON.stringify(G)};let fe;try{fe=yield(yield fetch(`${vl(E.appConfig)}/${D.token}`,ie)).json()}catch(He){throw Zn.create("token-update-failed",{errorInfo:He?.toString()})}if(fe.error)throw Zn.create("token-update-failed",{errorInfo:fe.error.message});if(!fe.token)throw Zn.create("token-update-no-token");return fe.token})).apply(this,arguments)}function a1(E,D){return c1.apply(this,arguments)}function c1(){return(c1=(0,N.Z)(function*(E,D){const G={method:"DELETE",headers:yield On(E)};try{const fe=yield(yield fetch(`${vl(E.appConfig)}/${D}`,G)).json();if(fe.error)throw Zn.create("token-unsubscribe-failed",{errorInfo:fe.error.message})}catch(ie){throw Zn.create("token-unsubscribe-failed",{errorInfo:ie?.toString()})}})).apply(this,arguments)}function vl({projectId:E}){return`https://fcmregistrations.googleapis.com/v1/projects/${E}/registrations`}function On(E){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,N.Z)(function*({appConfig:E,installations:D}){const V=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${V}`})})).apply(this,arguments)}function fc({p256dh:E,auth:D,endpoint:V,vapidKey:G}){const ie={web:{endpoint:V,auth:D,p256dh:E}};return G!==Ho&&(ie.web.applicationPubKey=G),ie}const Aa=6048e5;function Ar(E){return g2.apply(this,arguments)}function g2(){return(g2=(0,N.Z)(function*(E){const D=yield uo(E.swRegistration,E.vapidKey),V={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:D.endpoint,auth:hs(D.getKey("auth")),p256dh:hs(D.getKey("p256dh"))},G=yield r1(E.firebaseDependencies);if(G){if(dc(G.subscriptionOptions,V))return Date.now()>=G.createTime+Aa?Jr(E,{token:G.token,createTime:Date.now(),subscriptionOptions:V}):G.token;try{yield a1(E.firebaseDependencies,G.token)}catch(ie){console.warn(ie)}return Va(E.firebaseDependencies,V)}return Va(E.firebaseDependencies,V)})).apply(this,arguments)}function l1(E){return As.apply(this,arguments)}function As(){return(As=(0,N.Z)(function*(E){const D=yield r1(E.firebaseDependencies);D&&(yield a1(E.firebaseDependencies,D.token),yield p2(E.firebaseDependencies));const V=yield E.swRegistration.pushManager.getSubscription();return!V||V.unsubscribe()})).apply(this,arguments)}function Jr(E,D){return _2.apply(this,arguments)}function _2(){return(_2=(0,N.Z)(function*(E,D){try{const V=yield Oo(E.firebaseDependencies,D),G=Object.assign(Object.assign({},D),{token:V,createTime:Date.now()});return yield Po(E.firebaseDependencies,G),V}catch(V){throw yield l1(E),V}})).apply(this,arguments)}function Va(E,D){return v2.apply(this,arguments)}function v2(){return(v2=(0,N.Z)(function*(E,D){const G={token:yield uc(E,D),createTime:Date.now(),subscriptionOptions:D};return yield Po(E,G),G.token})).apply(this,arguments)}function uo(E,D){return y2.apply(this,arguments)}function y2(){return(y2=(0,N.Z)(function*(E,D){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:gl(D)})})).apply(this,arguments)}function dc(E,D){return D.vapidKey===E.vapidKey&&D.endpoint===E.endpoint&&D.auth===E.auth&&D.p256dh===E.p256dh}function lt(E){const D={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function C4(E,D){if(!D.notification)return;E.notification={};const V=D.notification.title;V&&(E.notification.title=V);const G=D.notification.body;G&&(E.notification.body=G);const ie=D.notification.image;ie&&(E.notification.image=ie);const fe=D.notification.icon;fe&&(E.notification.icon=fe)}(D,E),function Wh(E,D){!D.data||(E.data=D.data)}(D,E),function yl(E,D){var V,G,ie,fe,He;if(!(D.fcmOptions||null!==(V=D.notification)&&void 0!==V&&V.click_action))return;E.fcmOptions={};const nt=null!==(ie=null===(G=D.fcmOptions)||void 0===G?void 0:G.link)&&void 0!==ie?ie:null===(fe=D.notification)||void 0===fe?void 0:fe.click_action;nt&&(E.fcmOptions.link=nt);const mt=null===(He=D.fcmOptions)||void 0===He?void 0:He.analytics_label;mt&&(E.fcmOptions.analyticsLabel=mt)}(D,E),D}function Cf(E){return"object"==typeof E&&!!E&&b4 in E}function w4(E,D){const V=[];for(let G=0;G<E.length;G++)V.push(E.charAt(G)),G<D.length&&V.push(D.charAt(G));return V.join("")}function pc(E){return Zn.create("missing-app-config-values",{valueName:E})}w4("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),w4("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class xl{constructor(D,V,G){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ie=function hc(E){if(!E||!E.options)throw pc("App Configuration Object");if(!E.name)throw pc("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:V}=E;for(const G of D)if(!V[G])throw pc(G);return{appName:E.name,projectId:V.projectId,apiKey:V.apiKey,appId:V.appId,senderId:V.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:ie,installations:V,analyticsProvider:G}}_delete(){return Promise.resolve()}}function ke(E){return rn.apply(this,arguments)}function rn(){return(rn=(0,N.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(lo,{scope:Ea}),E.swRegistration.update().catch(()=>{})}catch(D){throw Zn.create("failed-service-worker-registration",{browserErrorMessage:D?.message})}})).apply(this,arguments)}function mc(E,D){return La.apply(this,arguments)}function La(){return(La=(0,N.Z)(function*(E,D){if(!D&&!E.swRegistration&&(yield ke(E)),D||!E.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw Zn.create("invalid-sw-registration");E.swRegistration=D}})).apply(this,arguments)}function Ni(E,D){return fo.apply(this,arguments)}function fo(){return(fo=(0,N.Z)(function*(E,D){D?E.vapidKey=D:E.vapidKey||(E.vapidKey=Ho)})).apply(this,arguments)}function Vr(){return(Vr=(0,N.Z)(function*(E,D){if(!navigator)throw Zn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Zn.create("permission-blocked");return yield Ni(E,D?.vapidKey),yield mc(E,D?.serviceWorkerRegistration),Ar(E)})).apply(this,arguments)}function bl(E,D,V){return ho.apply(this,arguments)}function ho(){return(ho=(0,N.Z)(function*(E,D,V){const G=M4(D);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(G,{message_id:V[b4],message_name:V[X2],message_time:V[ml],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function M4(E){switch(E){case No.NOTIFICATION_CLICKED:return"notification_open";case No.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function u1(){return(u1=(0,N.Z)(function*(E,D){const V=D.data;if(!V.isFirebaseMessaging)return;E.onMessageHandler&&V.messageType===No.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(lt(V)):E.onMessageHandler.next(lt(V)));const G=V.data;Cf(G)&&"1"===G[zo]&&(yield bl(E,V.messageType,G))})).apply(this,arguments)}const f1="@firebase/messaging",Lr=E=>{const D=new xl(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",V=>function S4(E,D){return u1.apply(this,arguments)}(D,V)),D},Cl=E=>{const D=E.getProvider("messaging").getImmediate();return{getToken:G=>function Vs(E,D){return Vr.apply(this,arguments)}(D,G)}};function $s(){return wl.apply(this,arguments)}function wl(){return(wl=(0,N.Z)(function*(){try{yield(0,de.eu)()}catch{return!1}return typeof window<"u"&&(0,de.hl)()&&(0,de.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function x2(){(0,le._registerComponent)(new ye.wA("messaging",Lr,"PUBLIC")),(0,le._registerComponent)(new ye.wA("messaging-internal",Cl,"PRIVATE")),(0,le.registerVersion)(f1,"0.12.0"),(0,le.registerVersion)(f1,"0.12.0","esm2017")}();const h1="analytics",I4="firebase_id",_c="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",El="https://www.googletagmanager.com/gtag/js",wi=new ce.Yd("@firebase/analytics");function Dl(E){return Promise.all(E.map(D=>D.catch(V=>V)))}function vc(E,D){const V=document.createElement("script");V.src=`${El}?l=${E}&id=${D}`,V.async=!0,document.head.appendChild(V)}function Gs(E,D,V,G,ie,fe){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,N.Z)(function*(E,D,V,G,ie,fe){const He=G[ie];try{if(He)yield D[He];else{const mt=(yield Dl(V)).find(gt=>gt.measurementId===ie);mt&&(yield D[mt.appId])}}catch(nt){wi.error(nt)}E("config",ie,fe)})).apply(this,arguments)}function b2(E,D,V,G,ie){return C2.apply(this,arguments)}function C2(){return(C2=(0,N.Z)(function*(E,D,V,G,ie){try{let fe=[];if(ie&&ie.send_to){let He=ie.send_to;Array.isArray(He)||(He=[He]);const nt=yield Dl(V);for(const mt of He){const gt=nt.find(Ht=>Ht.measurementId===mt),Ut=gt&&D[gt.appId];if(!Ut){fe=[];break}fe.push(Ut)}}0===fe.length&&(fe=Object.values(D)),yield Promise.all(fe),E("event",G,ie||{})}catch(fe){wi.error(fe)}})).apply(this,arguments)}function V4(E){const D=window.document.getElementsByTagName("script");for(const V of Object.values(D))if(V.src&&V.src.includes(El)&&V.src.includes(E))return V;return null}const si=new de.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Uo=new class p1{constructor(D={},V=1e3){this.throttleMetadata=D,this.intervalMillis=V}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,V){this.throttleMetadata[D]=V}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function Ha(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function Ls(E){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,N.Z)(function*(E){var D;const{appId:V,apiKey:G}=E,ie={method:"GET",headers:Ha(G)},fe=_c.replace("{app-id}",V),He=yield fetch(fe,ie);if(200!==He.status&&304!==He.status){let nt="";try{const mt=yield He.json();null!==(D=mt.error)&&void 0!==D&&D.message&&(nt=mt.error.message)}catch{}throw si.create("config-fetch-failed",{httpStatus:He.status,responseMessage:nt})}return He.json()})).apply(this,arguments)}function Il(E){return za.apply(this,arguments)}function za(){return(za=(0,N.Z)(function*(E,D=Uo,V){const{appId:G,apiKey:ie,measurementId:fe}=E.options;if(!G)throw si.create("no-app-id");if(!ie){if(fe)return{measurementId:fe,appId:G};throw si.create("no-api-key")}const He=D.getThrottleMetadata(G)||{backoffCount:0,throttleEndTimeMillis:Date.now()},nt=new m1;return setTimeout((0,N.Z)(function*(){nt.abort()}),void 0!==V?V:6e4),Na({appId:G,apiKey:ie,measurementId:fe},He,nt,D)})).apply(this,arguments)}function Na(E,D,V){return jo.apply(this,arguments)}function jo(){return(jo=(0,N.Z)(function*(E,{throttleEndTimeMillis:D,backoffCount:V},G,ie=Uo){var fe;const{appId:He,measurementId:nt}=E;try{yield L4(G,D)}catch(mt){if(nt)return wi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${nt} provided in the "measurementId" field in the local Firebase config. [${mt?.message}]`),{appId:He,measurementId:nt};throw mt}try{const mt=yield Ls(E);return ie.deleteThrottleMetadata(He),mt}catch(mt){const gt=mt;if(!k4(gt)){if(ie.deleteThrottleMetadata(He),nt)return wi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${nt} provided in the "measurementId" field in the local Firebase config. [${gt?.message}]`),{appId:He,measurementId:nt};throw mt}const Ut=503===Number(null===(fe=gt?.customData)||void 0===fe?void 0:fe.httpStatus)?(0,de.$s)(V,ie.intervalMillis,30):(0,de.$s)(V,ie.intervalMillis),Ht={throttleEndTimeMillis:Date.now()+Ut,backoffCount:V+1};return ie.setThrottleMetadata(He,Ht),wi.debug(`Calling attemptFetch again in ${Ut} millis`),Na(E,Ht,G,ie)}})).apply(this,arguments)}function L4(E,D){return new Promise((V,G)=>{const ie=Math.max(D-Date.now(),0),fe=setTimeout(V,ie);E.addEventListener(()=>{clearTimeout(fe),G(si.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}function k4(E){if(!(E instanceof de.ZR&&E.customData))return!1;const D=Number(E.customData.httpStatus);return 429===D||500===D||503===D||504===D}class m1{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}let yc,Wo;function po(){return(po=(0,N.Z)(function*(E,D,V,G,ie){if(ie&&ie.global)E("event",V,G);else{const fe=yield D;E("event",V,Object.assign(Object.assign({},G),{send_to:fe}))}})).apply(this,arguments)}function H4(E){Wo=E}function bc(E){yc=E}function Cc(){return wc.apply(this,arguments)}function wc(){return(wc=(0,N.Z)(function*(){if(!(0,de.hl)())return wi.warn(si.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,de.eu)()}catch(E){return wi.warn(si.create("indexeddb-unavailable",{errorInfo:E?.toString()}).message),!1}return!0})).apply(this,arguments)}function g1(){return(g1=(0,N.Z)(function*(E,D,V,G,ie,fe,He){var nt;const mt=Il(E);mt.then(wn=>{V[wn.measurementId]=wn.appId,E.options.measurementId&&wn.measurementId!==E.options.measurementId&&wi.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${wn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(wn=>wi.error(wn)),D.push(mt);const gt=Cc().then(wn=>{if(wn)return G.getId()}),[Ut,Ht]=yield Promise.all([mt,gt]);V4(fe)||vc(fe,Ut.measurementId),Wo&&(ie("consent","default",Wo),H4(void 0)),ie("js",new Date);const zr=null!==(nt=He?.config)&&void 0!==nt?nt:{};return zr.origin="firebase",zr.update=!0,null!=Ht&&(zr[I4]=Ht),ie("config",Ut.measurementId,zr),yc&&(ie("set",yc),bc(void 0)),Ut.measurementId})).apply(this,arguments)}class Mc{constructor(D){this.app=D}_delete(){return delete kr[this.app.options.appId],Promise.resolve()}}let kr={},_1=[];const Pa={};let v1,gr,_o="dataLayer",S2=!1;function Oa(E,D,V){!function Sf(){const E=[];if((0,de.ru)()&&E.push("This is a browser extension environment."),(0,de.zI)()||E.push("Cookies are not available."),E.length>0){const D=E.map((G,ie)=>`(${ie+1}) ${G}`).join(" "),V=si.create("invalid-analytics-context",{errorInfo:D});wi.warn(V.message)}}();const G=E.options.appId;if(!G)throw si.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw si.create("no-api-key");wi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=kr[G])throw si.create("already-exists",{id:G});if(!S2){!function Kn(E){let D=[];Array.isArray(window[E])?D=window[E]:window[E]=D}(_o);const{wrappedGtag:fe,gtagCore:He}=function A4(E,D,V,G,ie){let fe=function(...He){window[G].push(arguments)};return window[ie]&&"function"==typeof window[ie]&&(fe=window[ie]),window[ie]=function Tl(E,D,V,G){function fe(){return(fe=(0,N.Z)(function*(He,nt,mt){try{"event"===He?yield b2(E,D,V,nt,mt):"config"===He?yield Gs(E,D,V,G,nt,mt):"consent"===He?E("consent","update",mt):E("set",nt)}catch(gt){wi.error(gt)}})).apply(this,arguments)}return function ie(He,nt,mt){return fe.apply(this,arguments)}}(fe,E,D,V),{gtagCore:fe,wrappedGtag:window[ie]}}(kr,_1,Pa,_o,"gtag");gr=fe,v1=He,S2=!0}return kr[G]=function Ws(E,D,V,G,ie,fe,He){return g1.apply(this,arguments)}(E,_1,Pa,D,v1,_o,V),new Mc(E)}function Sc(){return x1.apply(this,arguments)}function x1(){return(x1=(0,N.Z)(function*(){if((0,de.ru)()||!(0,de.zI)()||!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch{return!1}})).apply(this,arguments)}const ms="@firebase/analytics";!function Yo(){(0,le._registerComponent)(new ye.wA(h1,(D,{options:V})=>Oa(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),V),"PUBLIC")),(0,le._registerComponent)(new ye.wA("analytics-internal",function E(D){try{const V=D.getProvider(h1).getImmediate();return{logEvent:(G,ie,fe)=>function b1(E,D,V,G){E=(0,de.m9)(E),function w2(E,D,V,G,ie){return po.apply(this,arguments)}(gr,kr[E.app.options.appId],D,V,G).catch(ie=>wi.error(ie))}(V,G,ie,fe)}}catch(V){throw si.create("interop-component-reg-failed",{reason:V})}},"PRIVATE")),(0,le.registerVersion)(ms,"0.9.0"),(0,le.registerVersion)(ms,"0.9.0","esm2017")}();var N4=O(4408),qs=O(7565);const Tf=new class R4 extends qs.v{}(class C1 extends N4.o{constructor(D,V){super(D,V),this.scheduler=D,this.work=V}schedule(D,V=0){return V>0?super.schedule(D,V):(this.delay=V,this.state=D,this.scheduler.flush(this),this)}execute(D,V){return V>0||this.closed?super.execute(D,V):this._execute(D,V)}requestAsyncId(D,V,G=0){return null!=G&&G>0||null==G&&this.delay>0?super.requestAsyncId(D,V,G):(D.flush(this),0)}});var qh=O(4986),Fa=O(9751),kl=O(8505),If=O(9468),Af=O(5363);const Yh=new a.GfV("7.5.0"),Dc="__angularfire_symbol__analyticsIsSupportedValue",Zo="__angularfire_symbol__analyticsIsSupported",P4="__angularfire_symbol__remoteConfigIsSupportedValue",D2="__angularfire_symbol__remoteConfigIsSupported",Fn="__angularfire_symbol__messagingIsSupportedValue",Ba="__angularfire_symbol__messagingIsSupported";function Qt(E,D,V){if(D){if(1===D.length)return D[0];const fe=D.filter(He=>He.app===V);if(1===fe.length)return fe[0]}return V.container.getProvider(E).getImmediate({optional:!0})}globalThis[Zo]||(globalThis[Zo]=Sc().then(E=>globalThis[Dc]=E).catch(()=>globalThis[Dc]=!1)),globalThis[Ba]||(globalThis[Ba]=$s().then(E=>globalThis[Fn]=E).catch(()=>globalThis[Fn]=!1)),globalThis[D2]||(globalThis[D2]=Is().then(E=>globalThis[P4]=E).catch(()=>globalThis[P4]=!1));const Qn=(E,D)=>{const V=D?[D]:(0,$.C6)(),G=[];return V.forEach(ie=>{ie.container.getProvider(E).instances.forEach(He=>{G.includes(He)||G.push(He)})}),G};function Ys(){}class Zs{constructor(D,V=Tf){this.zone=D,this.delegate=V}now(){return this.delegate.now()}schedule(D,V,G){const ie=this.zone;return this.delegate.schedule(function(He){ie.runGuarded(()=>{D.apply(this,[He])})},V,G)}}class hi{constructor(D){this.zone=D,this.task=null}call(D,V){const G=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ys,{},Ys,Ys)),V.pipe((0,kl.b)({next:G,complete:G,error:G})).subscribe(D).add(G)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Tc=(()=>{class E{constructor(V){this.ngZone=V,this.outsideAngular=V.runOutsideAngular(()=>new Zs(Zone.current)),this.insideAngular=V.run(()=>new Zs(Zone.current,qh.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(V){return new(V||E)(a.LFG(a.R0b))},E.\u0275prov=a.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function Ks(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function Vf(E){return Ks().ngZone.runOutsideAngular(()=>E())}function Ko(E){return Ks().ngZone.run(()=>E())}function Qs(E){return Ks(),function ut(E){return function(V){return(V=V.lift(new hi(E.ngZone))).pipe((0,If.R)(E.outsideAngular),(0,Af.Q)(E.insideAngular))}}(Ks())(E)}const Hl=(E,D)=>function(){const G=arguments;return D&&setTimeout(()=>{"scheduled"===D.state&&D.invoke()},10),Ko(()=>E.apply(void 0,G))},zl=(E,D)=>function(){let V;const G=arguments;for(let fe=0;fe<arguments.length;fe++)"function"==typeof G[fe]&&(D&&(V||(V=Ko(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ys,{},Ys,Ys)))),G[fe]=Hl(G[fe],V));const ie=Vf(()=>E.apply(this,G));if(!D){if(ie instanceof Fa.y){const fe=Ks();return ie.pipe((0,If.R)(fe.outsideAngular),(0,Af.Q)(fe.insideAngular))}return Ko(()=>ie)}return ie instanceof Fa.y?ie.pipe(Qs):ie instanceof Promise?Ko(()=>new Promise((fe,He)=>ie.then(nt=>Ko(()=>fe(nt)),nt=>Ko(()=>He(nt))))):"function"==typeof ie&&V?function(){return setTimeout(()=>{V&&"scheduled"===V.state&&V.invoke()},10),ie.apply(this,arguments)}:Ko(()=>ie)}},552:(vt,Ee,O)=>{O.d(Ee,{$:()=>vl,A:()=>Y,B:()=>Ae,G:()=>pl,H:()=>Pn,J:()=>Ss,L:()=>K,M:()=>h2,N:()=>yf,P:()=>qh,Q:()=>b4,R:()=>Ec,T:()=>X2,U:()=>Ho,V:()=>No,W:()=>hs,X:()=>xf,Y:()=>o1,Z:()=>uc,_:()=>Oo,a:()=>Bo,a0:()=>Ar,a1:()=>l1,a2:()=>Jr,a3:()=>Va,a4:()=>uo,a5:()=>dc,a6:()=>C4,a7:()=>Wh,a8:()=>Cf,a9:()=>w4,aA:()=>W,aB:()=>nt,aC:()=>Ko,aD:()=>Vf,aE:()=>Li,aI:()=>Ha,aL:()=>zo,aa:()=>ke,ab:()=>mc,ac:()=>Ni,af:()=>bl,ag:()=>M4,ah:()=>S4,ak:()=>Da,al:()=>Ml,an:()=>El,ao:()=>Cn,ap:()=>we,aq:()=>yt,ar:()=>dt,as:()=>Pe,at:()=>U4,au:()=>Gn,av:()=>kn,aw:()=>ze,ax:()=>re,ay:()=>zr,az:()=>ee,b:()=>si,c:()=>D2,d:()=>di,e:()=>Ba,f:()=>Qs,g:()=>V,h:()=>zl,i:()=>wc,j:()=>fe,k:()=>Ri,l:()=>vo,m:()=>Co,n:()=>ln,o:()=>me,p:()=>wf,r:()=>N4,s:()=>Ll,u:()=>Tf,v:()=>d1,y:()=>h1});var a=O(5861),$=O(2090),N=O(9681),le=O(1877),de=O(655),ye=O(4859);const me={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Y={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ae=function ne(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Je=function $e(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},at=new $.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Te=new le.Yd("@firebase/auth");function Se(b,...g){Te.logLevel<=le.in.ERROR&&Te.error(`Auth (${N.SDK_VERSION}): ${b}`,...g)}function Pe(b,...g){throw Ye(b,...g)}function ze(b,...g){return Ye(b,...g)}function Ne(b,g,v){const w=Object.assign(Object.assign({},Je()),{[g]:v});return new $.LL("auth","Firebase",w).create(g,{appName:b.name})}function Ve(b,g,v){if(!(g instanceof v))throw v.name!==g.constructor.name&&Pe(b,"argument-error"),Ne(b,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ye(b,...g){if("string"!=typeof b){const v=g[0],w=[...g.slice(1)];return w[0]&&(w[0].appName=b.name),b._errorFactory.create(v,...w)}return at.create(b,...g)}function re(b,g,...v){if(!b)throw Ye(g,...v)}function pe(b){const g="INTERNAL ASSERTION FAILED: "+b;throw Se(g),new Error(g)}function we(b,g){b||pe(g)}const te=new Map;function ee(b){we(b instanceof Function,"Expected a class definition");let g=te.get(b);return g?(we(g instanceof b,"Instance stored in cache mismatched with class"),g):(g=new b,te.set(b,g),g)}function Be(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function Ue(){return"http:"===bt()||"https:"===bt()}function bt(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class zt{constructor(g,v){this.shortDelay=g,this.longDelay=v,we(v>g,"Short delay should be less than long delay!"),this.isMobile=(0,$.uI)()||(0,$.b$)()}get(){return function mn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ue()||(0,$.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Kt(b,g){we(b.emulator,"Emulator should always be set here");const{url:v}=b.emulator;return g?`${v}${g.startsWith("/")?g.slice(1):g}`:v}class Mt{static initialize(g,v,w){this.fetchImpl=g,v&&(this.headersImpl=v),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void pe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void pe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void pe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const fn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Ti=new zt(3e4,6e4);function nn(b,g){return b.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:b.tenantId}):g}function St(b,g,v,w){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,a.Z)(function*(b,g,v,w,L={}){return Sr(b,L,(0,a.Z)(function*(){let R={},oe={};w&&("GET"===g?oe=w:R={body:JSON.stringify(w)});const Ie=(0,$.xO)(Object.assign({key:b.config.apiKey},oe)).slice(1),it=yield b._getAdditionalHeaders();return it["Content-Type"]="application/json",b.languageCode&&(it["X-Firebase-Locale"]=b.languageCode),Mt.fetch()(Os(b,b.config.apiHost,v,Ie),Object.assign({method:g,headers:it,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function Sr(b,g,v){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,a.Z)(function*(b,g,v){b._canInitEmulator=!1;const w=Object.assign(Object.assign({},fn),g);try{const L=new ds(b),R=yield Promise.race([v(),L.promise]);L.clearNetworkTimeout();const oe=yield R.json();if("needConfirmation"in oe)throw ti(b,"account-exists-with-different-credential",oe);if(R.ok&&!("errorMessage"in oe))return oe;{const Ie=R.ok?oe.errorMessage:oe.error.message,[it,Et]=Ie.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===it)throw ti(b,"credential-already-in-use",oe);if("EMAIL_EXISTS"===it)throw ti(b,"email-already-in-use",oe);if("USER_DISABLED"===it)throw ti(b,"user-disabled",oe);const Zt=w[it]||it.toLowerCase().replace(/[_\s]+/g,"-");if(Et)throw Ne(b,Zt,Et);Pe(b,Zt)}}catch(L){if(L instanceof $.ZR)throw L;Pe(b,"network-request-failed")}})).apply(this,arguments)}function $n(b,g,v,w){return fs.apply(this,arguments)}function fs(){return(fs=(0,a.Z)(function*(b,g,v,w,L={}){const R=yield St(b,g,v,w,L);return"mfaPendingCredential"in R&&Pe(b,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function Os(b,g,v,w){const L=`${g}${v}?${w}`;return b.config.emulator?Kt(b.config,L):`${b.config.apiScheme}://${L}`}class ds{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((v,w)=>{this.timer=setTimeout(()=>w(ze(this.auth,"network-request-failed")),Ti.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ti(b,g,v){const w={appName:b.name};v.email&&(w.email=v.email),v.phoneNumber&&(w.phoneNumber=v.phoneNumber);const L=ze(b,g,w);return L.customData._tokenResponse=v,L}function Zr(){return(Zr=(0,a.Z)(function*(b,g){return St(b,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function En(b,g){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,a.Z)(function*(b,g){return St(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function ct(b,g){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,a.Z)(function*(b,g){return St(b,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function ji(b){if(b)try{const g=new Date(Number(b));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function pr(){return(pr=(0,a.Z)(function*(b,g=!1){const v=(0,$.m9)(b),w=yield v.getIdToken(g),L=Ct(w);re(L&&L.exp&&L.auth_time&&L.iat,v.auth,"internal-error");const R="object"==typeof L.firebase?L.firebase:void 0,oe=R?.sign_in_provider;return{claims:L,token:w,authTime:ji(Pt(L.auth_time)),issuedAtTime:ji(Pt(L.iat)),expirationTime:ji(Pt(L.exp)),signInProvider:oe||null,signInSecondFactor:R?.sign_in_second_factor||null}})).apply(this,arguments)}function Pt(b){return 1e3*Number(b)}function Ct(b){const[g,v,w]=b.split(".");if(void 0===g||void 0===v||void 0===w)return Se("JWT malformed, contained fewer than 3 sections"),null;try{const L=(0,$.tV)(v);return L?JSON.parse(L):(Se("Failed to decode base64 JWT payload"),null)}catch(L){return Se("Caught error parsing JWT payload as JSON",L?.toString()),null}}function An(b,g){return ui.apply(this,arguments)}function ui(){return(ui=(0,a.Z)(function*(b,g,v=!1){if(v)return g;try{return yield g}catch(w){throw w instanceof $.ZR&&Rn(w)&&b.auth.currentUser===b&&(yield b.auth.signOut()),w}})).apply(this,arguments)}function Rn({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class Dr{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var v;if(g){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const L=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,L)}}schedule(g=!1){var v=this;if(!this.isRunning)return;const w=this.getInterval(g);this.timerId=setTimeout((0,a.Z)(function*(){yield v.iteration()}),w)}iteration(){var g=this;return(0,a.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v?.code&&g.schedule(!0))}g.schedule()})()}}class fi{constructor(g,v){this.createdAt=g,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=ji(this.lastLoginAt),this.creationTime=ji(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Kr(b){return qt.apply(this,arguments)}function qt(){return(qt=(0,a.Z)(function*(b){var g;const v=b.auth,w=yield b.getIdToken(),L=yield An(b,ct(v,{idToken:w}));re(L?.users.length,v,"internal-error");const R=L.users[0];b._notifyReloadListener(R);const oe=null!==(g=R.providerUserInfo)&&void 0!==g&&g.length?ii(R.providerUserInfo):[],Ie=Ji(b.providerData,oe),Zt=!!b.isAnonymous&&!(b.email&&R.passwordHash||Ie?.length),Wn={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:Ie,metadata:new fi(R.createdAt,R.lastLoginAt),isAnonymous:Zt};Object.assign(b,Wn)})).apply(this,arguments)}function Jt(){return(Jt=(0,a.Z)(function*(b){const g=(0,$.m9)(b);yield Kr(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Ji(b,g){return[...b.filter(w=>!g.some(L=>L.providerId===w.providerId)),...g]}function ii(b){return b.map(g=>{var{providerId:v}=g,w=(0,de._T)(g,["providerId"]);return{providerId:v,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function Me(){return(Me=(0,a.Z)(function*(b,g){const v=yield Sr(b,{},(0,a.Z)(function*(){const w=(0,$.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:L,apiKey:R}=b.config,oe=Os(b,L,"/v1/token",`key=${R}`),Ie=yield b._getAdditionalHeaders();return Ie["Content-Type"]="application/x-www-form-urlencoded",Mt.fetch()(oe,{method:"POST",headers:Ie,body:w})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}class st{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){re(g.idToken,"internal-error"),re(typeof g.idToken<"u","internal-error"),re(typeof g.refreshToken<"u","internal-error");const v="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function Rt(b){const g=Ct(b);return re(g,"internal-error"),re(typeof g.exp<"u","internal-error"),re(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,v)}getToken(g,v=!1){var w=this;return(0,a.Z)(function*(){return re(!w.accessToken||w.refreshToken,g,"user-token-expired"),v||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(g,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,v){var w=this;return(0,a.Z)(function*(){const{accessToken:L,refreshToken:R,expiresIn:oe}=yield function qe(b,g){return Me.apply(this,arguments)}(g,v);w.updateTokensAndExpiration(L,R,Number(oe))})()}updateTokensAndExpiration(g,v,w){this.refreshToken=v||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(g,v){const{refreshToken:w,accessToken:L,expirationTime:R}=v,oe=new st;return w&&(re("string"==typeof w,"internal-error",{appName:g}),oe.refreshToken=w),L&&(re("string"==typeof L,"internal-error",{appName:g}),oe.accessToken=L),R&&(re("number"==typeof R,"internal-error",{appName:g}),oe.expirationTime=R),oe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new st,this.toJSON())}_performRefresh(){return pe("not implemented")}}function Vt(b,g){re("string"==typeof b||typeof b>"u","internal-error",{appName:g})}class Nt{constructor(g){var{uid:v,auth:w,stsTokenManager:L}=g,R=(0,de._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Dr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=w,this.stsTokenManager=L,this.accessToken=L.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new fi(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(g){var v=this;return(0,a.Z)(function*(){const w=yield An(v,v.stsTokenManager.getToken(v.auth,g));return re(w,v.auth,"internal-error"),v.accessToken!==w&&(v.accessToken=w,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),w})()}getIdTokenResult(g){return function ni(b){return pr.apply(this,arguments)}(this,g)}reload(){return function Qr(b){return Jt.apply(this,arguments)}(this)}_assign(g){this!==g&&(re(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(v=>Object.assign({},v)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new Nt(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,v=!1){var w=this;return(0,a.Z)(function*(){let L=!1;g.idToken&&g.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(g),L=!0),v&&(yield Kr(w)),yield w.auth._persistUserIfCurrent(w),L&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var g=this;return(0,a.Z)(function*(){const v=yield g.getIdToken();return yield An(g,function Er(b,g){return Zr.apply(this,arguments)}(g.auth,{idToken:v})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,v){var w,L,R,oe,Ie,it,Et,Zt;const Wn=null!==(w=v.displayName)&&void 0!==w?w:void 0,gs=null!==(L=v.email)&&void 0!==L?L:void 0,Js=null!==(R=v.phoneNumber)&&void 0!==R?R:void 0,M1=null!==(oe=v.photoURL)&&void 0!==oe?oe:void 0,q4=null!==(Ie=v.tenantId)&&void 0!==Ie?Ie:void 0,Y4=null!==(it=v._redirectEventId)&&void 0!==it?it:void 0,Fl=null!==(Et=v.createdAt)&&void 0!==Et?Et:void 0,Bl=null!==(Zt=v.lastLoginAt)&&void 0!==Zt?Zt:void 0,{uid:S1,emailVerified:Z4,isAnonymous:Rf,providerData:I2,stsTokenManager:Pf}=v;re(S1&&Pf,g,"internal-error");const Jh=st.fromJSON(this.name,Pf);re("string"==typeof S1,g,"internal-error"),Vt(Wn,g.name),Vt(gs,g.name),re("boolean"==typeof Z4,g,"internal-error"),re("boolean"==typeof Rf,g,"internal-error"),Vt(Js,g.name),Vt(M1,g.name),Vt(q4,g.name),Vt(Y4,g.name),Vt(Fl,g.name),Vt(Bl,g.name);const A2=new Nt({uid:S1,auth:g,email:gs,emailVerified:Z4,displayName:Wn,isAnonymous:Rf,photoURL:M1,phoneNumber:Js,tenantId:q4,stsTokenManager:Jh,createdAt:Fl,lastLoginAt:Bl});return I2&&Array.isArray(I2)&&(A2.providerData=I2.map(E1=>Object.assign({},E1))),Y4&&(A2._redirectEventId=Y4),A2}static _fromIdTokenResponse(g,v,w=!1){return(0,a.Z)(function*(){const L=new st;L.updateFromServerResponse(v);const R=new Nt({uid:v.localId,auth:g,stsTokenManager:L,isAnonymous:w});return yield Kr(R),R})()}}const K=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(v,w){var L=this;return(0,a.Z)(function*(){L.storage[v]=w})()}_get(v){var w=this;return(0,a.Z)(function*(){const L=w.storage[v];return void 0===L?null:L})()}_remove(v){var w=this;return(0,a.Z)(function*(){delete w.storage[v]})()}_addListener(v,w){}_removeListener(v,w){}}return b.type="NONE",b})();function W(b,g,v){return`firebase:${b}:${g}:${v}`}class J{constructor(g,v,w){this.persistence=g,this.auth=v,this.userKey=w;const{config:L,name:R}=this.auth;this.fullUserKey=W(this.userKey,L.apiKey,R),this.fullPersistenceKey=W("persistence",L.apiKey,R),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,a.Z)(function*(){const v=yield g.persistence._get(g.fullUserKey);return v?Nt._fromJSON(g.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var v=this;return(0,a.Z)(function*(){if(v.persistence===g)return;const w=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=g,w?v.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,v,w="authUser"){return(0,a.Z)(function*(){if(!v.length)return new J(ee(K),g,w);const L=(yield Promise.all(v.map(function(){var Et=(0,a.Z)(function*(Zt){if(yield Zt._isAvailable())return Zt});return function(Zt){return Et.apply(this,arguments)}}()))).filter(Et=>Et);let R=L[0]||ee(K);const oe=W(w,g.config.apiKey,g.name);let Ie=null;for(const Et of v)try{const Zt=yield Et._get(oe);if(Zt){const Wn=Nt._fromJSON(g,Zt);Et!==R&&(Ie=Wn),R=Et;break}}catch{}const it=L.filter(Et=>Et._shouldAllowMigration);return R._shouldAllowMigration&&it.length?(R=it[0],Ie&&(yield R._set(oe,Ie.toJSON())),yield Promise.all(v.map(function(){var Et=(0,a.Z)(function*(Zt){if(Zt!==R)try{yield Zt._remove(oe)}catch{}});return function(Zt){return Et.apply(this,arguments)}}())),new J(R,g,w)):new J(R,g,w)})()}}function j(b){const g=b.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Le(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(z(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Ke(g))return"Blackberry";if(Gt(g))return"Webos";if(U(g))return"Safari";if((g.includes("chrome/")||he(g))&&!g.includes("edge/"))return"Chrome";if(dt(g))return"Android";{const w=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function z(b=(0,$.z$)()){return/firefox\//i.test(b)}function U(b=(0,$.z$)()){const g=b.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function he(b=(0,$.z$)()){return/crios\//i.test(b)}function Le(b=(0,$.z$)()){return/iemobile/i.test(b)}function dt(b=(0,$.z$)()){return/android/i.test(b)}function Ke(b=(0,$.z$)()){return/blackberry/i.test(b)}function Gt(b=(0,$.z$)()){return/webos/i.test(b)}function yt(b=(0,$.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function kn(b=(0,$.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function er(b=(0,$.z$)()){return yt(b)||dt(b)||Gt(b)||Ke(b)||/windows phone/i.test(b)||Le(b)}function Ca(b,g=[]){let v;switch(b){case"Browser":v=j((0,$.z$)());break;case"Worker":v=`${j((0,$.z$)())}-${b}`;break;default:v=b}const w=g.length?g.join(","):"FirebaseCore-web";return`${v}/JsCore/${N.SDK_VERSION}/${w}`}class ic{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,v){const w=R=>new Promise((oe,Ie)=>{try{oe(g(R))}catch(it){Ie(it)}});w.onAbort=v,this.queue.push(w);const L=this.queue.length-1;return()=>{this.queue[L]=()=>Promise.resolve()}}runMiddleware(g){var v=this;return(0,a.Z)(function*(){if(v.auth.currentUser===g)return;const w=[];try{for(const L of v.queue)yield L(g),L.onAbort&&w.push(L.onAbort)}catch(L){w.reverse();for(const R of w)try{R()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:L?.message})}})()}}class rc{constructor(g,v,w){this.app=g,this.heartbeatServiceProvider=v,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wa(this),this.idTokenSubscription=new wa(this),this.beforeStateQueue=new ic(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=at,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(g,v){var w=this;return v&&(this._popupRedirectResolver=ee(v)),this._initializationPromise=this.queue((0,a.Z)(function*(){var L,R;if(!w._deleted&&(w.persistenceManager=yield J.create(w,g),!w._deleted)){if(null!==(L=w._popupRedirectResolver)&&void 0!==L&&L._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(v),w.lastNotifiedUid=(null===(R=w.currentUser)||void 0===R?void 0:R.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,a.Z)(function*(){if(g._deleted)return;const v=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||v){if(g.currentUser&&v&&g.currentUser.uid===v.uid)return g._currentUser._assign(v),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(v,!0)}})()}initializeCurrentUser(g){var v=this;return(0,a.Z)(function*(){var w;const L=yield v.assertedPersistence.getCurrentUser();let R=L,oe=!1;if(g&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const Ie=null===(w=v.redirectUser)||void 0===w?void 0:w._redirectEventId,it=R?._redirectEventId,Et=yield v.tryRedirectSignIn(g);(!Ie||Ie===it)&&Et?.user&&(R=Et.user,oe=!0)}if(!R)return v.directlySetCurrentUser(null);if(!R._redirectEventId){if(oe)try{yield v.beforeStateQueue.runMiddleware(R)}catch(Ie){R=L,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(Ie))}return R?v.reloadAndSetCurrentUserOrClear(R):v.directlySetCurrentUser(null)}return re(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===R._redirectEventId?v.directlySetCurrentUser(R):v.reloadAndSetCurrentUserOrClear(R)})()}tryRedirectSignIn(g){var v=this;return(0,a.Z)(function*(){let w=null;try{w=yield v._popupRedirectResolver._completeRedirectFn(v,g,!0)}catch{yield v._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(g){var v=this;return(0,a.Z)(function*(){try{yield Kr(g)}catch(w){if("auth/network-request-failed"!==w?.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function bn(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var g=this;return(0,a.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var v=this;return(0,a.Z)(function*(){const w=g?(0,$.m9)(g):null;return w&&re(w.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(w&&w._clone(v))})()}_updateCurrentUser(g,v=!1){var w=this;return(0,a.Z)(function*(){if(!w._deleted)return g&&re(w.tenantId===g.tenantId,w,"tenant-id-mismatch"),v||(yield w.beforeStateQueue.runMiddleware(g)),w.queue((0,a.Z)(function*(){yield w.directlySetCurrentUser(g),w.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,a.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var v=this;return this.queue((0,a.Z)(function*(){yield v.assertedPersistence.setPersistence(ee(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new $.LL("auth","Firebase",g())}onAuthStateChanged(g,v,w){return this.registerStateListener(this.authStateSubscription,g,v,w)}beforeAuthStateChanged(g,v){return this.beforeStateQueue.pushCallback(g,v)}onIdTokenChanged(g,v,w){return this.registerStateListener(this.idTokenSubscription,g,v,w)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,v){var w=this;return(0,a.Z)(function*(){const L=yield w.getOrInitRedirectPersistenceManager(v);return null===g?L.removeCurrentUser():L.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var v=this;return(0,a.Z)(function*(){if(!v.redirectPersistenceManager){const w=g&&ee(g)||v._popupRedirectResolver;re(w,v,"argument-error"),v.redirectPersistenceManager=yield J.create(v,[ee(w._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(g){var v=this;return(0,a.Z)(function*(){var w,L;return v._isInitialized&&(yield v.queue((0,a.Z)(function*(){}))),(null===(w=v._currentUser)||void 0===w?void 0:w._redirectEventId)===g?v._currentUser:(null===(L=v.redirectUser)||void 0===L?void 0:L._redirectEventId)===g?v.redirectUser:null})()}_persistUserIfCurrent(g){var v=this;return(0,a.Z)(function*(){if(g===v.currentUser)return v.queue((0,a.Z)(function*(){return v.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(v=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,v,w,L){if(this._deleted)return()=>{};const R="function"==typeof v?v:v.next.bind(v),oe=this._isInitialized?Promise.resolve():this._initializationPromise;return re(oe,this,"internal-error"),oe.then(()=>R(this.currentUser)),"function"==typeof v?g.addObserver(v,w,L):g.addObserver(v)}directlySetCurrentUser(g){var v=this;return(0,a.Z)(function*(){v.currentUser&&v.currentUser!==g&&v._currentUser._stopProactiveRefresh(),g&&v.isProactiveRefreshEnabled&&g._startProactiveRefresh(),v.currentUser=g,g?yield v.assertedPersistence.setCurrentUser(g):yield v.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Ca(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,a.Z)(function*(){var v;const w={"X-Client-Version":g.clientVersion};g.app.options.appId&&(w["X-Firebase-gmpid"]=g.app.options.appId);const L=yield null===(v=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();return L&&(w["X-Firebase-Client"]=L),w})()}}function Li(b){return(0,$.m9)(b)}class wa{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,$.ne)(v=>this.observer=v)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function pl(b,g,v){const w=Li(b);re(w._canInitEmulator,w,"emulator-config-failed"),re(/^https?:\/\//.test(g),w,"invalid-emulator-scheme");const L=!!v?.disableWarnings,R=sc(g),{host:oe,port:Ie}=function K2(b){const g=sc(b),v=/(\/\/)?([^?#/]+)/.exec(b.substr(g.length));if(!v)return{host:"",port:null};const w=v[2].split("@").pop()||"",L=/^(\[[^\]]+\])(:|$)/.exec(w);if(L){const R=L[1];return{host:R,port:Ma(w.substr(R.length+1))}}{const[R,oe]=w.split(":");return{host:R,port:Ma(oe)}}}(g);w.config.emulator={url:`${R}//${oe}${null===Ie?"":`:${Ie}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:oe,port:Ie,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:L})}),L||function gn(){function b(){const g=document.createElement("p"),v=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function sc(b){const g=b.indexOf(":");return g<0?"":b.substr(0,g+1)}function Ma(b){if(!b)return null;const g=Number(b);return isNaN(g)?null:g}class Pn{constructor(g,v){this.providerId=g,this.signInMethod=v}toJSON(){return pe("not implemented")}_getIdTokenResponse(g){return pe("not implemented")}_linkToIdToken(g,v){return pe("not implemented")}_getReauthenticationResolver(g){return pe("not implemented")}}function $i(b,g){return ri.apply(this,arguments)}function ri(){return(ri=(0,a.Z)(function*(b,g){return St(b,"POST","/v1/accounts:resetPassword",nn(b,g))})).apply(this,arguments)}function tr(b,g){return xi.apply(this,arguments)}function xi(){return(xi=(0,a.Z)(function*(b,g){return St(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function tt(b,g){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,a.Z)(function*(b,g){return St(b,"POST","/v1/accounts:update",nn(b,g))})).apply(this,arguments)}function ki(){return(ki=(0,a.Z)(function*(b,g){return $n(b,"POST","/v1/accounts:signInWithPassword",nn(b,g))})).apply(this,arguments)}function bi(b,g){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,a.Z)(function*(b,g){return St(b,"POST","/v1/accounts:sendOobCode",nn(b,g))})).apply(this,arguments)}function Fs(b,g){return dn.apply(this,arguments)}function dn(){return(dn=(0,a.Z)(function*(b,g){return bi(b,g)})).apply(this,arguments)}function u2(b,g){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,a.Z)(function*(b,g){return bi(b,g)})).apply(this,arguments)}function Yt(b,g){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,a.Z)(function*(b,g){return bi(b,g)})).apply(this,arguments)}function ko(b,g){return Q2.apply(this,arguments)}function Q2(){return(Q2=(0,a.Z)(function*(b,g){return bi(b,g)})).apply(this,arguments)}function Ci(){return(Ci=(0,a.Z)(function*(b,g){return $n(b,"POST","/v1/accounts:signInWithEmailLink",nn(b,g))})).apply(this,arguments)}function Tr(){return(Tr=(0,a.Z)(function*(b,g){return $n(b,"POST","/v1/accounts:signInWithEmailLink",nn(b,g))})).apply(this,arguments)}class Gi extends Pn{constructor(g,v,w,L=null){super("password",w),this._email=g,this._password=v,this._tenantId=L}static _fromEmailAndPassword(g,v){return new Gi(g,v,"password")}static _fromEmailAndCode(g,v,w=null){return new Gi(g,v,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g;if(v?.email&&v?.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(g){var v=this;return(0,a.Z)(function*(){switch(v.signInMethod){case"password":return function Hn(b,g){return ki.apply(this,arguments)}(g,{returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function Us(b,g){return Ci.apply(this,arguments)}(g,{email:v._email,oobCode:v._password});default:Pe(g,"internal-error")}})()}_linkToIdToken(g,v){var w=this;return(0,a.Z)(function*(){switch(w.signInMethod){case"password":return tr(g,{idToken:v,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function f2(b,g){return Tr.apply(this,arguments)}(g,{idToken:v,email:w._email,oobCode:w._password});default:Pe(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Ir(b,g){return mr.apply(this,arguments)}function mr(){return(mr=(0,a.Z)(function*(b,g){return $n(b,"POST","/v1/accounts:signInWithIdp",nn(b,g))})).apply(this,arguments)}class Ss extends Pn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const v=new Ss(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(v.idToken=g.idToken),g.accessToken&&(v.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(v.nonce=g.nonce),g.pendingToken&&(v.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(v.accessToken=g.oauthToken,v.secret=g.oauthTokenSecret):Pe("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g,{providerId:w,signInMethod:L}=v,R=(0,de._T)(v,["providerId","signInMethod"]);if(!w||!L)return null;const oe=new Ss(w,L);return oe.idToken=R.idToken||void 0,oe.accessToken=R.accessToken||void 0,oe.secret=R.secret,oe.nonce=R.nonce,oe.pendingToken=R.pendingToken||null,oe}_getIdTokenResponse(g){return Ir(g,this.buildRequest())}_linkToIdToken(g,v){const w=this.buildRequest();return w.idToken=v,Ir(g,w)}_getReauthenticationResolver(g){const v=this.buildRequest();return v.autoCreate=!1,Ir(g,v)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),g.postBody=(0,$.xO)(v)}return g}}function y4(b,g){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,a.Z)(function*(b,g){return St(b,"POST","/v1/accounts:sendVerificationCode",nn(b,g))})).apply(this,arguments)}function Es(){return(Es=(0,a.Z)(function*(b,g){return $n(b,"POST","/v1/accounts:signInWithPhoneNumber",nn(b,g))})).apply(this,arguments)}function js(){return(js=(0,a.Z)(function*(b,g){const v=yield $n(b,"POST","/v1/accounts:signInWithPhoneNumber",nn(b,g));if(v.temporaryProof)throw ti(b,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const Hi={USER_NOT_FOUND:"user-not-found"};function Wi(){return(Wi=(0,a.Z)(function*(b,g){return $n(b,"POST","/v1/accounts:signInWithPhoneNumber",nn(b,Object.assign(Object.assign({},g),{operation:"REAUTH"})),Hi)})).apply(this,arguments)}class zi extends Pn{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,v){return new zi({verificationId:g,verificationCode:v})}static _fromTokenResponse(g,v){return new zi({phoneNumber:g,temporaryProof:v})}_getIdTokenResponse(g){return function oc(b,g){return Es.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,v){return function Ds(b,g){return js.apply(this,arguments)}(g,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function x4(b,g){return Wi.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:v,verificationId:w,verificationCode:L}=this.params;return g&&v?{temporaryProof:g,phoneNumber:v}:{sessionInfo:w,code:L}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:v,verificationCode:w,phoneNumber:L,temporaryProof:R}=g;return w||v||L||R?new zi({verificationId:v,verificationCode:w,phoneNumber:L,temporaryProof:R}):null}}class Ts{constructor(g){var v,w,L,R,oe,Ie;const it=(0,$.zd)((0,$.pd)(g)),Et=null!==(v=it.apiKey)&&void 0!==v?v:null,Zt=null!==(w=it.oobCode)&&void 0!==w?w:null,Wn=function d2(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(L=it.mode)&&void 0!==L?L:null);re(Et&&Zt&&Wn,"argument-error"),this.apiKey=Et,this.operation=Wn,this.code=Zt,this.continueUrl=null!==(R=it.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(oe=it.languageCode)&&void 0!==oe?oe:null,this.tenantId=null!==(Ie=it.tenantId)&&void 0!==Ie?Ie:null}static parseLink(g){const v=function ac(b){const g=(0,$.zd)((0,$.pd)(b)).link,v=g?(0,$.zd)((0,$.pd)(g)).deep_link_id:null,w=(0,$.zd)((0,$.pd)(b)).deep_link_id;return(w?(0,$.zd)((0,$.pd)(w)).link:null)||w||v||g||b}(g);try{return new Ts(v)}catch{return null}}}let h2=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(v,w){return Gi._fromEmailAndPassword(v,w)}static credentialWithLink(v,w){const L=Ts.parseLink(w);return re(L,"argument-error"),Gi._fromEmailAndCode(v,L.code,L.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class lo{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Ea extends lo{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class Ho extends Ea{static credentialFromJSON(g){const v="string"==typeof g?JSON.parse(g):g;return re("providerId"in v&&"signInMethod"in v,"argument-error"),Ss._fromParams(v)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return re(g.idToken||g.accessToken,"argument-error"),Ss._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return Ho.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return Ho.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:v,oauthAccessToken:w,oauthTokenSecret:L,pendingToken:R,nonce:oe,providerId:Ie}=g;if(!w&&!L&&!v&&!R||!Ie)return null;try{return new Ho(Ie)._credential({idToken:v,accessToken:w,nonce:oe,pendingToken:R})}catch{return null}}}let yf=(()=>{class b extends Ea{constructor(){super("facebook.com")}static credential(v){return Ss._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return b.credentialFromTaggedObject(v)}static credentialFromError(v){return b.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return b.credential(v.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),b4=(()=>{class b extends Ea{constructor(){super("google.com"),this.addScope("profile")}static credential(v,w){return Ss._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:w})}static credentialFromResult(v){return b.credentialFromTaggedObject(v)}static credentialFromError(v){return b.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:w,oauthAccessToken:L}=v;if(!w&&!L)return null;try{return b.credential(w,L)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),X2=(()=>{class b extends Ea{constructor(){super("github.com")}static credential(v){return Ss._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return b.credentialFromTaggedObject(v)}static credentialFromError(v){return b.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return b.credential(v.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class zo extends Pn{constructor(g,v){super(g,g),this.pendingToken=v}_getIdTokenResponse(g){return Ir(g,this.buildRequest())}_linkToIdToken(g,v){const w=this.buildRequest();return w.idToken=v,Ir(g,w)}_getReauthenticationResolver(g){const v=this.buildRequest();return v.autoCreate=!1,Ir(g,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g,{providerId:w,signInMethod:L,pendingToken:R}=v;return w&&L&&R&&w===L?new zo(w,R):null}static _create(g,v){return new zo(g,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class No extends lo{constructor(g){re(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return No.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return No.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const v=zo.fromJSON(g);return re(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:v,providerId:w}=g;if(!v||!w)return null;try{return zo._create(w,v)}catch{return null}}}let hs=(()=>{class b extends Ea{constructor(){super("twitter.com")}static credential(v,w){return Ss._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:w})}static credentialFromResult(v){return b.credentialFromTaggedObject(v)}static credentialFromError(v){return b.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:w,oauthTokenSecret:L}=v;if(!w||!L)return null;try{return b.credential(w,L)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function gl(b,g){return J2.apply(this,arguments)}function J2(){return(J2=(0,a.Z)(function*(b,g){return $n(b,"POST","/v1/accounts:signUp",nn(b,g))})).apply(this,arguments)}class ps{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,v,w,L=!1){return(0,a.Z)(function*(){const R=yield Nt._fromIdTokenResponse(g,w,L),oe=_l(w);return new ps({user:R,providerId:oe,_tokenResponse:w,operationType:v})})()}static _forOperation(g,v,w){return(0,a.Z)(function*(){yield g._updateTokensIfNecessary(w,!0);const L=_l(w);return new ps({user:g,providerId:L,_tokenResponse:w,operationType:v})})()}}function _l(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function xf(b){return e1.apply(this,arguments)}function e1(){return(e1=(0,a.Z)(function*(b){var g;const v=Li(b);if(yield v._initializationPromise,null!==(g=v.currentUser)&&void 0!==g&&g.isAnonymous)return new ps({user:v.currentUser,providerId:null,operationType:"signIn"});const w=yield gl(v,{returnSecureToken:!0}),L=yield ps._fromIdTokenResponse(v,"signIn",w,!0);return yield v._updateCurrentUser(L.user),L})).apply(this,arguments)}class t1 extends $.ZR{constructor(g,v,w,L){var R;super(v.code,v.message),this.operationType=w,this.user=L,Object.setPrototypeOf(this,t1.prototype),this.customData={appName:g.name,tenantId:null!==(R=g.tenantId)&&void 0!==R?R:void 0,_serverResponse:v.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(g,v,w,L){return new t1(g,v,w,L)}}function cc(b,g,v,w){return("reauthenticate"===g?v._getReauthenticationResolver(b):v._getIdTokenResponse(b)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?t1._fromErrorAndOperation(b,R,g,w):R})}function bf(b){return new Set(b.map(({providerId:g})=>g).filter(g=>!!g))}function Da(b,g){return n1.apply(this,arguments)}function n1(){return(n1=(0,a.Z)(function*(b,g){const v=(0,$.m9)(b);yield Ro(!0,v,g);const{providerUserInfo:w}=yield En(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[g]}),L=bf(w||[]);return v.providerData=v.providerData.filter(R=>L.has(R.providerId)),L.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v})).apply(this,arguments)}function Xr(b,g){return r1.apply(this,arguments)}function r1(){return(r1=(0,a.Z)(function*(b,g,v=!1){const w=yield An(b,g._linkToIdToken(b.auth,yield b.getIdToken()),v);return ps._forOperation(b,"link",w)})).apply(this,arguments)}function Ro(b,g,v){return Po.apply(this,arguments)}function Po(){return(Po=(0,a.Z)(function*(b,g,v){yield Kr(g);const L=!1===b?"provider-already-linked":"no-such-provider";re(bf(g.providerData).has(v)===b,g.auth,L)})).apply(this,arguments)}function lc(b,g){return p2.apply(this,arguments)}function p2(){return(p2=(0,a.Z)(function*(b,g,v=!1){const{auth:w}=b,L="reauthenticate";try{const R=yield An(b,cc(w,L,g,b),v);re(R.idToken,w,"internal-error");const oe=Ct(R.idToken);re(oe,w,"internal-error");const{sub:Ie}=oe;return re(b.uid===Ie,w,"user-mismatch"),ps._forOperation(b,L,R)}catch(R){throw"auth/user-not-found"===R?.code&&Pe(w,"user-mismatch"),R}})).apply(this,arguments)}function s1(b,g){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,a.Z)(function*(b,g,v=!1){const w="signIn",L=yield cc(b,w,g),R=yield ps._fromIdTokenResponse(b,w,L);return v||(yield b._updateCurrentUser(R.user)),R})).apply(this,arguments)}function o1(b,g){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,a.Z)(function*(b,g){return s1(Li(b),g)})).apply(this,arguments)}function uc(b,g){return qi.apply(this,arguments)}function qi(){return(qi=(0,a.Z)(function*(b,g){const v=(0,$.m9)(b);return yield Ro(!1,v,g.providerId),Xr(v,g)})).apply(this,arguments)}function Oo(b,g){return m2.apply(this,arguments)}function m2(){return(m2=(0,a.Z)(function*(b,g){return lc((0,$.m9)(b),g)})).apply(this,arguments)}function a1(b,g){return c1.apply(this,arguments)}function c1(){return(c1=(0,a.Z)(function*(b,g){return $n(b,"POST","/v1/accounts:signInWithCustomToken",nn(b,g))})).apply(this,arguments)}function vl(b,g){return On.apply(this,arguments)}function On(){return(On=(0,a.Z)(function*(b,g){const v=Li(b),w=yield a1(v,{token:g,returnSecureToken:!0}),L=yield ps._fromIdTokenResponse(v,"signIn",w);return yield v._updateCurrentUser(L.user),L})).apply(this,arguments)}class Ia{constructor(g,v){this.factorId=g,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(g,v){return"phoneInfo"in v?fc._fromServerResponse(g,v):Pe(g,"internal-error")}}class fc extends Ia{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,v){return new fc(v)}}function Aa(b,g,v){var w;re((null===(w=v.url)||void 0===w?void 0:w.length)>0,b,"invalid-continue-uri"),re(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),g.continueUrl=v.url,g.dynamicLinkDomain=v.dynamicLinkDomain,g.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(re(v.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),g.iOSBundleId=v.iOS.bundleId),v.android&&(re(v.android.packageName.length>0,b,"missing-android-pkg-name"),g.androidInstallApp=v.android.installApp,g.androidMinimumVersionCode=v.android.minimumVersion,g.androidPackageName=v.android.packageName)}function Ar(b,g,v){return g2.apply(this,arguments)}function g2(){return(g2=(0,a.Z)(function*(b,g,v){const w=(0,$.m9)(b),L={requestType:"PASSWORD_RESET",email:g};v&&Aa(w,L,v),yield u2(w,L)})).apply(this,arguments)}function l1(b,g,v){return As.apply(this,arguments)}function As(){return(As=(0,a.Z)(function*(b,g,v){yield $i((0,$.m9)(b),{oobCode:g,newPassword:v})})).apply(this,arguments)}function Jr(b,g){return _2.apply(this,arguments)}function _2(){return(_2=(0,a.Z)(function*(b,g){yield tt((0,$.m9)(b),{oobCode:g})})).apply(this,arguments)}function Va(b,g){return v2.apply(this,arguments)}function v2(){return(v2=(0,a.Z)(function*(b,g){const v=(0,$.m9)(b),w=yield $i(v,{oobCode:g}),L=w.requestType;switch(re(L,v,"internal-error"),L){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":re(w.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":re(w.mfaInfo,v,"internal-error");default:re(w.email,v,"internal-error")}let R=null;return w.mfaInfo&&(R=Ia._fromServerResponse(Li(v),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:R},operation:L}})).apply(this,arguments)}function uo(b,g){return y2.apply(this,arguments)}function y2(){return(y2=(0,a.Z)(function*(b,g){const{data:v}=yield Va((0,$.m9)(b),g);return v.email})).apply(this,arguments)}function dc(b,g,v){return lt.apply(this,arguments)}function lt(){return(lt=(0,a.Z)(function*(b,g,v){const w=Li(b),L=yield gl(w,{returnSecureToken:!0,email:g,password:v}),R=yield ps._fromIdTokenResponse(w,"signIn",L);return yield w._updateCurrentUser(R.user),R})).apply(this,arguments)}function C4(b,g,v){return o1((0,$.m9)(b),h2.credential(g,v))}function Wh(b,g,v){return yl.apply(this,arguments)}function yl(){return(yl=(0,a.Z)(function*(b,g,v){const w=(0,$.m9)(b),L={requestType:"EMAIL_SIGNIN",email:g};re(v.handleCodeInApp,w,"argument-error"),v&&Aa(w,L,v),yield Yt(w,L)})).apply(this,arguments)}function Cf(b,g){return"EMAIL_SIGNIN"===Ts.parseLink(g)?.operation}function w4(b,g,v){return hc.apply(this,arguments)}function hc(){return(hc=(0,a.Z)(function*(b,g,v){const w=(0,$.m9)(b),L=h2.credentialWithLink(g,v||Be());return re(L._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),o1(w,L)})).apply(this,arguments)}function pc(b,g){return xl.apply(this,arguments)}function xl(){return(xl=(0,a.Z)(function*(b,g){return St(b,"POST","/v1/accounts:createAuthUri",nn(b,g))})).apply(this,arguments)}function ke(b,g){return rn.apply(this,arguments)}function rn(){return(rn=(0,a.Z)(function*(b,g){const w={identifier:g,continueUri:Ue()?Be():"http://localhost"},{signinMethods:L}=yield pc((0,$.m9)(b),w);return L||[]})).apply(this,arguments)}function mc(b,g){return La.apply(this,arguments)}function La(){return(La=(0,a.Z)(function*(b,g){const v=(0,$.m9)(b),L={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};g&&Aa(v.auth,L,g);const{email:R}=yield Fs(v.auth,L);R!==b.email&&(yield b.reload())})).apply(this,arguments)}function Ni(b,g,v){return fo.apply(this,arguments)}function fo(){return(fo=(0,a.Z)(function*(b,g,v){const w=(0,$.m9)(b),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:g};v&&Aa(w.auth,R,v);const{email:oe}=yield ko(w.auth,R);oe!==b.email&&(yield b.reload())})).apply(this,arguments)}function Vs(b,g){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,a.Z)(function*(b,g){return St(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function bl(b,g){return ho.apply(this,arguments)}function ho(){return(ho=(0,a.Z)(function*(b,{displayName:g,photoURL:v}){if(void 0===g&&void 0===v)return;const w=(0,$.m9)(b),R={idToken:yield w.getIdToken(),displayName:g,photoUrl:v,returnSecureToken:!0},oe=yield An(w,Vs(w.auth,R));w.displayName=oe.displayName||null,w.photoURL=oe.photoUrl||null;const Ie=w.providerData.find(({providerId:it})=>"password"===it);Ie&&(Ie.displayName=w.displayName,Ie.photoURL=w.photoURL),yield w._updateTokensIfNecessary(oe)})).apply(this,arguments)}function M4(b,g){return u1((0,$.m9)(b),g,null)}function S4(b,g){return u1((0,$.m9)(b),null,g)}function u1(b,g,v){return f1.apply(this,arguments)}function f1(){return(f1=(0,a.Z)(function*(b,g,v){const{auth:w}=b,R={idToken:yield b.getIdToken(),returnSecureToken:!0};g&&(R.email=g),v&&(R.password=v);const oe=yield An(b,tr(w,R));yield b._updateTokensIfNecessary(oe,!0)})).apply(this,arguments)}class Lr{constructor(g,v,w={}){this.isNewUser=g,this.providerId=v,this.profile=w}}class Cl extends Lr{constructor(g,v,w,L){super(g,v,w),this.username=L}}class x2 extends Lr{constructor(g,v){super(g,"facebook.com",v)}}class $s extends Cl{constructor(g,v){super(g,"github.com",v,"string"==typeof v?.login?v?.login:null)}}class wl extends Lr{constructor(g,v){super(g,"google.com",v)}}class E4 extends Cl{constructor(g,v,w){super(g,"twitter.com",v,w)}}function Ml(b){const{user:g,_tokenResponse:v}=b;return g.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function nr(b){var g,v;if(!b)return null;const{providerId:w}=b,L=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},R=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!w&&b?.idToken){const oe=null===(v=null===(g=Ct(b.idToken))||void 0===g?void 0:g.firebase)||void 0===v?void 0:v.sign_in_provider;if(oe)return new Lr(R,"anonymous"!==oe&&"custom"!==oe?oe:null)}if(!w)return null;switch(w){case"facebook.com":return new x2(R,L);case"github.com":return new $s(R,L);case"google.com":return new wl(R,L);case"twitter.com":return new E4(R,L,b.screenName||null);case"custom":case"anonymous":return new Lr(R,null);default:return new Lr(R,w,L)}}(v)}function wf(b,g){return(0,$.m9)(b).setPersistence(g)}function d1(b,g,v,w){return(0,$.m9)(b).onAuthStateChanged(g,v,w)}function h1(b){return(0,$.m9)(b).signOut()}class Fo{constructor(g,v,w){this.type=g,this.credential=v,this.auth=w}static _fromIdtoken(g,v){return new Fo("enroll",g,v)}static _fromMfaPendingCredential(g){return new Fo("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var v,w;if(g?.multiFactorSession){if(null!==(v=g.multiFactorSession)&&void 0!==v&&v.pendingCredential)return Fo._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(w=g.multiFactorSession)&&void 0!==w&&w.idToken)return Fo._fromIdtoken(g.multiFactorSession.idToken)}return null}}class _c{constructor(g,v,w){this.session=g,this.hints=v,this.signInResolver=w}static _fromError(g,v){const w=Li(g),L=v.customData._serverResponse,R=(L.mfaInfo||[]).map(Ie=>Ia._fromServerResponse(w,Ie));re(L.mfaPendingCredential,w,"internal-error");const oe=Fo._fromMfaPendingCredential(L.mfaPendingCredential);return new _c(oe,R,function(){var Ie=(0,a.Z)(function*(it){const Et=yield it._process(w,oe);delete L.mfaInfo,delete L.mfaPendingCredential;const Zt=Object.assign(Object.assign({},L),{idToken:Et.idToken,refreshToken:Et.refreshToken});switch(v.operationType){case"signIn":const Wn=yield ps._fromIdTokenResponse(w,v.operationType,Zt);return yield w._updateCurrentUser(Wn.user),Wn;case"reauthenticate":return re(v.user,w,"internal-error"),ps._forOperation(v.user,v.operationType,Zt);default:Pe(w,"internal-error")}});return function(it){return Ie.apply(this,arguments)}}())}resolveSignIn(g){var v=this;return(0,a.Z)(function*(){return v.signInResolver(g)})()}}function El(b,g){var v;const w=(0,$.m9)(b),L=g;return re(g.customData.operationType,w,"argument-error"),re(null===(v=L.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,w,"argument-error"),_c._fromError(w,L)}function wi(b,g){return St(b,"POST","/v2/accounts/mfaEnrollment:start",nn(b,g))}class Kn{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(w=>Ia._fromServerResponse(g.auth,w)))})}static _fromUser(g){return new Kn(g)}getSession(){var g=this;return(0,a.Z)(function*(){return Fo._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,v){var w=this;return(0,a.Z)(function*(){const L=g,R=yield w.getSession(),oe=yield An(w.user,L._process(w.user.auth,R,v));return yield w.user._updateTokensIfNecessary(oe),w.user.reload()})()}unenroll(g){var v=this;return(0,a.Z)(function*(){const w="string"==typeof g?g:g.uid,L=yield v.user.getIdToken(),R=yield An(v.user,function vc(b,g){return St(b,"POST","/v2/accounts/mfaEnrollment:withdraw",nn(b,g))}(v.user.auth,{idToken:L,mfaEnrollmentId:w}));v.enrolledFactors=v.enrolledFactors.filter(({uid:oe})=>oe!==w),yield v.user._updateTokensIfNecessary(R);try{yield v.user.reload()}catch(oe){if("auth/user-token-expired"!==oe?.code)throw oe}})()}}const Gs=new WeakMap;function Cn(b){const g=(0,$.m9)(b);return Gs.has(g)||Gs.set(g,Kn._fromUser(g)),Gs.get(g)}const b2="__sak";class C2{constructor(g,v){this.storageRetriever=g,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(b2,"1"),this.storage.removeItem(b2),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,v){return this.storage.setItem(g,JSON.stringify(v)),Promise.resolve()}_get(g){const v=this.storage.getItem(g);return Promise.resolve(v?JSON.parse(v):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const si=(()=>{class b extends C2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,w)=>this.onStorageEvent(v,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Tl(){const b=(0,$.z$)();return U(b)||yt(b)}()&&function nc(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=er(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const w of Object.keys(this.listeners)){const L=this.storage.getItem(w),R=this.localCache[w];L!==R&&v(w,R,L)}}onStorageEvent(v,w=!1){if(!v.key)return void this.forAllChangedKeys((Ie,it,Et)=>{this.notifyListeners(Ie,Et)});const L=v.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ie=this.storage.getItem(L);if(v.newValue!==Ie)null!==v.newValue?this.storage.setItem(L,v.newValue):this.storage.removeItem(L);else if(this.localCache[L]===v.newValue&&!w)return}const R=()=>{const Ie=this.storage.getItem(L);!w&&this.localCache[L]===Ie||this.notifyListeners(L,Ie)},oe=this.storage.getItem(L);!function Ft(){return(0,$.w1)()&&10===document.documentMode}()||oe===v.newValue||v.newValue===v.oldValue?R():setTimeout(R,10)}notifyListeners(v,w){this.localCache[v]=w;const L=this.listeners[v];if(L)for(const R of Array.from(L))R(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,w,L)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:w,newValue:L}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(w)}_removeListener(v,w){this.listeners[v]&&(this.listeners[v].delete(w),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,w){var L=()=>super._set,R=this;return(0,a.Z)(function*(){yield L().call(R,v,w),R.localCache[v]=JSON.stringify(w)})()}_get(v){var w=()=>super._get,L=this;return(0,a.Z)(function*(){const R=yield w().call(L,v);return L.localCache[v]=JSON.stringify(R),R})()}_remove(v){var w=()=>super._remove,L=this;return(0,a.Z)(function*(){yield w().call(L,v),delete L.localCache[v]})()}}return b.type="LOCAL",b})(),Bo=(()=>{class b extends C2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,w){}_removeListener(v,w){}}return b.type="SESSION",b})();let Uo=(()=>{class b{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const w=this.receivers.find(R=>R.isListeningto(v));if(w)return w;const L=new b(v);return this.receivers.push(L),L}isListeningto(v){return this.eventTarget===v}handleEvent(v){var w=this;return(0,a.Z)(function*(){const L=v,{eventId:R,eventType:oe,data:Ie}=L.data,it=w.handlersMap[oe];if(!it?.size)return;L.ports[0].postMessage({status:"ack",eventId:R,eventType:oe});const Et=Array.from(it).map(function(){var Wn=(0,a.Z)(function*(gs){return gs(L.origin,Ie)});return function(gs){return Wn.apply(this,arguments)}}()),Zt=yield function p1(b){return Promise.all(b.map(function(){var g=(0,a.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(w){return{fulfilled:!1,reason:w}}});return function(v){return g.apply(this,arguments)}}()))}(Et);L.ports[0].postMessage({status:"done",eventId:R,eventType:oe,response:Zt})})()}_subscribe(v,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(w)}_unsubscribe(v,w){this.handlersMap[v]&&w&&this.handlersMap[v].delete(w),(!w||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function Ha(b="",g=10){let v="";for(let w=0;w<g;w++)v+=Math.floor(10*Math.random());return b+v}class Ls{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,v,w=50){var L=this;return(0,a.Z)(function*(){const R=typeof MessageChannel<"u"?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let oe,Ie;return new Promise((it,Et)=>{const Zt=Ha("",20);R.port1.start();const Wn=setTimeout(()=>{Et(new Error("unsupported_event"))},w);Ie={messageChannel:R,onMessage(gs){const Js=gs;if(Js.data.eventId===Zt)switch(Js.data.status){case"ack":clearTimeout(Wn),oe=setTimeout(()=>{Et(new Error("timeout"))},3e3);break;case"done":clearTimeout(oe),it(Js.data.response);break;default:clearTimeout(Wn),clearTimeout(oe),Et(new Error("invalid_response"))}}},L.handlers.add(Ie),R.port1.addEventListener("message",Ie.onMessage),L.target.postMessage({eventType:g,eventId:Zt,data:v},[R.port2])}).finally(()=>{Ie&&L.removeMessageHandler(Ie)})})()}}function Dn(){return window}function za(){return typeof Dn().WorkerGlobalScope<"u"&&"function"==typeof Dn().importScripts}function jo(){return(jo=(0,a.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const m1="firebaseLocalStorageDb",w2="firebaseLocalStorage",po="fbase_key";class mo{constructor(g){this.request=g}toPromise(){return new Promise((g,v)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function ks(b,g){return b.transaction([w2],g?"readwrite":"readonly").objectStore(w2)}function $o(){const b=indexedDB.open(m1,1);return new Promise((g,v)=>{b.addEventListener("error",()=>{v(b.error)}),b.addEventListener("upgradeneeded",()=>{const w=b.result;try{w.createObjectStore(w2,{keyPath:po})}catch(L){v(L)}}),b.addEventListener("success",(0,a.Z)(function*(){const w=b.result;w.objectStoreNames.contains(w2)?g(w):(w.close(),yield function xc(){const b=indexedDB.deleteDatabase(m1);return new mo(b).toPromise()}(),g(yield $o()))}))})}function Go(b,g,v){return M2.apply(this,arguments)}function M2(){return(M2=(0,a.Z)(function*(b,g,v){const w=ks(b,!0).put({[po]:g,value:v});return new mo(w).toPromise()})).apply(this,arguments)}function go(){return(go=(0,a.Z)(function*(b,g){const v=ks(b,!1).get(g),w=yield new mo(v).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function Wo(b,g){const v=ks(b,!0).delete(g);return new mo(v).toPromise()}const wc=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,a.Z)(function*(){return v.db||(v.db=yield $o()),v.db})()}_withRetries(v){var w=this;return(0,a.Z)(function*(){let L=0;for(;;)try{const R=yield w._openDb();return yield v(R)}catch(R){if(L++>3)throw R;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,a.Z)(function*(){return za()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,a.Z)(function*(){v.receiver=Uo._getInstance(function k4(){return za()?self:null}()),v.receiver._subscribe("keyChanged",function(){var w=(0,a.Z)(function*(L,R){return{keyProcessed:(yield v._poll()).includes(R.key)}});return function(L,R){return w.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var w=(0,a.Z)(function*(L,R){return["keyChanged"]});return function(L,R){return w.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,a.Z)(function*(){var w,L;if(v.activeServiceWorker=yield function Na(){return jo.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new Ls(v.activeServiceWorker);const R=yield v.sender._send("ping",{},800);!R||(null===(w=R[0])||void 0===w?void 0:w.fulfilled)&&(null===(L=R[0])||void 0===L?void 0:L.value.includes("keyChanged"))&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var w=this;return(0,a.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function L4(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:v},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const v=yield $o();return yield Go(v,b2,"1"),yield Wo(v,b2),!0}catch{}return!1})()}_withPendingWrite(v){var w=this;return(0,a.Z)(function*(){w.pendingWrites++;try{yield v()}finally{w.pendingWrites--}})()}_set(v,w){var L=this;return(0,a.Z)(function*(){return L._withPendingWrite((0,a.Z)(function*(){return yield L._withRetries(R=>Go(R,v,w)),L.localCache[v]=w,L.notifyServiceWorker(v)}))})()}_get(v){var w=this;return(0,a.Z)(function*(){const L=yield w._withRetries(R=>function Ra(b,g){return go.apply(this,arguments)}(R,v));return w.localCache[v]=L,L})()}_remove(v){var w=this;return(0,a.Z)(function*(){return w._withPendingWrite((0,a.Z)(function*(){return yield w._withRetries(L=>Wo(L,v)),delete w.localCache[v],w.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,a.Z)(function*(){const w=yield v._withRetries(oe=>{const Ie=ks(oe,!1).getAll();return new mo(Ie).toPromise()});if(!w)return[];if(0!==v.pendingWrites)return[];const L=[],R=new Set;for(const{fbase_key:oe,value:Ie}of w)R.add(oe),JSON.stringify(v.localCache[oe])!==JSON.stringify(Ie)&&(v.notifyListeners(oe,Ie),L.push(oe));for(const oe of Object.keys(v.localCache))v.localCache[oe]&&!R.has(oe)&&(v.notifyListeners(oe,null),L.push(oe));return L})()}notifyListeners(v,w){this.localCache[v]=w;const L=this.listeners[v];if(L)for(const R of Array.from(L))R(w)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(w)}_removeListener(v,w){this.listeners[v]&&(this.listeners[v].delete(w),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function Ws(b,g){return St(b,"POST","/v2/accounts/mfaSignIn:start",nn(b,g))}function kr(){return(kr=(0,a.Z)(function*(b){return(yield St(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Pa(b){return new Promise((g,v)=>{const w=document.createElement("script");w.setAttribute("src",b),w.onload=g,w.onerror=L=>{const R=ze("internal-error");R.customData=L,v(R)},w.type="text/javascript",w.charset="UTF-8",function _1(){var b,g;return null!==(g=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==g?g:document}().appendChild(w)})}function _o(b){return`__${b}${Math.floor(1e6*Math.random())}`}const gr=1e12;class S2{constructor(g){this.auth=g,this.counter=gr,this._widgets=new Map}render(g,v){const w=this.counter;return this._widgets.set(w,new Vl(g,this.auth.name,v||{})),this.counter++,w}reset(g){var v;const w=g||gr;null===(v=this._widgets.get(w))||void 0===v||v.delete(),this._widgets.delete(w)}getResponse(g){var v;return(null===(v=this._widgets.get(g||gr))||void 0===v?void 0:v.getResponse())||""}execute(g){var v=this;return(0,a.Z)(function*(){var w;return null===(w=v._widgets.get(g||gr))||void 0===w||w.execute(),""})()}}class Vl{constructor(g,v,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const L="string"==typeof g?document.getElementById(g):g;re(L,"argument-error",{appName:v}),this.container=L,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Sf(b){const g=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<b;w++)g.push(v.charAt(Math.floor(Math.random()*v.length)));return g.join("")}(50);const{callback:g,"expired-callback":v}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Oa=_o("rcb"),y1=new zt(3e4,6e4);class Sc{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=Dn().grecaptcha)||void 0===g||!g.render)}load(g,v=""){return re(function x1(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(v),g,"argument-error"),this.shouldResolveImmediately(v)?Promise.resolve(Dn().grecaptcha):new Promise((w,L)=>{const R=Dn().setTimeout(()=>{L(ze(g,"network-request-failed"))},y1.get());Dn()[Oa]=()=>{Dn().clearTimeout(R),delete Dn()[Oa];const Ie=Dn().grecaptcha;if(!Ie)return void L(ze(g,"internal-error"));const it=Ie.render;Ie.render=(Et,Zt)=>{const Wn=it(Et,Zt);return this.counter++,Wn},this.hostLanguage=v,w(Ie)},Pa(`https://www.google.com/recaptcha/api.js??${(0,$.xO)({onload:Oa,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(R),L(ze(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var v;return!(null===(v=Dn().grecaptcha)||void 0===v||!v.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class E2{load(g){return(0,a.Z)(function*(){return new S2(g)})()}clearedOneInstance(){}}const Ef="recaptcha",Df={theme:"light",type:"image"};class Ec{constructor(g,v=Object.assign({},Df),w){this.parameters=v,this.type=Ef,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Li(w),this.isInvisible="invisible"===this.parameters.size,re(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const L="string"==typeof g?document.getElementById(g):g;re(L,this.auth,"argument-error"),this.container=L,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new E2:new Sc,this.validateStartingState()}verify(){var g=this;return(0,a.Z)(function*(){g.assertNotDestroyed();const v=yield g.render(),w=g.getAssertedRecaptcha();return w.getResponse(v)||new Promise(R=>{const oe=Ie=>{!Ie||(g.tokenChangeListeners.delete(oe),R(Ie))};g.tokenChangeListeners.add(oe),g.isInvisible&&w.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){re(!this.parameters.sitekey,this.auth,"argument-error"),re(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),re(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return v=>{if(this.tokenChangeListeners.forEach(w=>w(v)),"function"==typeof g)g(v);else if("string"==typeof g){const w=Dn()[g];"function"==typeof w&&w(v)}}}assertNotDestroyed(){re(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,a.Z)(function*(){if(yield g.init(),!g.widgetId){let v=g.container;if(!g.isInvisible){const w=document.createElement("div");v.appendChild(w),v=w}g.widgetId=g.getAssertedRecaptcha().render(v,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,a.Z)(function*(){re(Ue()&&!za(),g.auth,"internal-error"),yield function qo(){let b=null;return new Promise(g=>{"complete"!==document.readyState?(b=()=>g(),window.addEventListener("load",b)):g()}).catch(g=>{throw b&&window.removeEventListener("load",b),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const v=yield function Mc(b){return kr.apply(this,arguments)}(g.auth);re(v,g.auth,"internal-error"),g.parameters.sitekey=v})()}getAssertedRecaptcha(){return re(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class b1{constructor(g,v){this.verificationId=g,this.onConfirmation=v}confirm(g){const v=zi._fromVerification(this.verificationId,g);return this.onConfirmation(v)}}function Ll(b,g,v){return ms.apply(this,arguments)}function ms(){return(ms=(0,a.Z)(function*(b,g,v){const w=Li(b),L=yield qs(w,g,(0,$.m9)(v));return new b1(L,R=>o1(w,R))})).apply(this,arguments)}function vo(b,g,v){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,a.Z)(function*(b,g,v){const w=(0,$.m9)(b);yield Ro(!1,w,"phone");const L=yield qs(w.auth,g,(0,$.m9)(v));return new b1(L,R=>uc(w,R))})).apply(this,arguments)}function N4(b,g,v){return C1.apply(this,arguments)}function C1(){return(C1=(0,a.Z)(function*(b,g,v){const w=(0,$.m9)(b),L=yield qs(w.auth,g,(0,$.m9)(v));return new b1(L,R=>Oo(w,R))})).apply(this,arguments)}function qs(b,g,v){return R4.apply(this,arguments)}function R4(){return(R4=(0,a.Z)(function*(b,g,v){var w;const L=yield v.verify();try{let R;if(re("string"==typeof L,b,"argument-error"),re(v.type===Ef,b,"argument-error"),R="string"==typeof g?{phoneNumber:g}:g,"session"in R){const oe=R.session;if("phoneNumber"in R)return re("enroll"===oe.type,b,"internal-error"),(yield wi(b,{idToken:oe.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:L}})).phoneSessionInfo.sessionInfo;{re("signin"===oe.type,b,"internal-error");const Ie=(null===(w=R.multiFactorHint)||void 0===w?void 0:w.uid)||R.multiFactorUid;return re(Ie,b,"missing-multi-factor-info"),(yield Ws(b,{mfaPendingCredential:oe.credential,mfaEnrollmentId:Ie,phoneSignInInfo:{recaptchaToken:L}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:oe}=yield y4(b,{phoneNumber:R.phoneNumber,recaptchaToken:L});return oe}}finally{v._reset()}})).apply(this,arguments)}function Tf(b,g){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,a.Z)(function*(b,g){yield Xr((0,$.m9)(b),g)})).apply(this,arguments)}let qh=(()=>{class b{constructor(v){this.providerId=b.PROVIDER_ID,this.auth=Li(v)}verifyPhoneNumber(v,w){return qs(this.auth,v,(0,$.m9)(w))}static credential(v,w){return zi._fromVerification(v,w)}static credentialFromResult(v){return b.credentialFromTaggedObject(v)}static credentialFromError(v){return b.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:w,temporaryProof:L}=v;return w&&L?zi._fromTokenResponse(w,L):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function Fa(b,g){return g?ee(g):(re(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class kl extends Pn{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Ir(g,this._buildIdpRequest())}_linkToIdToken(g,v){return Ir(g,this._buildIdpRequest(v))}_getReauthenticationResolver(g){return Ir(g,this._buildIdpRequest())}_buildIdpRequest(g){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(v.idToken=g),v}}function If(b){return s1(b.auth,new kl(b),b.bypassAuthState)}function Af(b){const{auth:g,user:v}=b;return re(v,g,"internal-error"),lc(v,new kl(b),b.bypassAuthState)}function Yh(b){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,a.Z)(function*(b){const{auth:g,user:v}=b;return re(v,g,"internal-error"),Xr(v,new kl(b),b.bypassAuthState)})).apply(this,arguments)}class Zo{constructor(g,v,w,L,R=!1){this.auth=g,this.resolver=w,this.user=L,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var g=this;return new Promise(function(){var v=(0,a.Z)(function*(w,L){g.pendingPromise={resolve:w,reject:L};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(R){g.reject(R)}});return function(w,L){return v.apply(this,arguments)}}())}onAuthEvent(g){var v=this;return(0,a.Z)(function*(){const{urlResponse:w,sessionId:L,postBody:R,tenantId:oe,error:Ie,type:it}=g;if(Ie)return void v.reject(Ie);const Et={auth:v.auth,requestUri:w,sessionId:L,tenantId:oe||void 0,postBody:R||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(it)(Et))}catch(Zt){v.reject(Zt)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return If;case"linkViaPopup":case"linkViaRedirect":return Yh;case"reauthViaPopup":case"reauthViaRedirect":return Af;default:Pe(this.auth,"internal-error")}}resolve(g){we(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){we(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const P4=new zt(2e3,1e4);function D2(b,g,v){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,a.Z)(function*(b,g,v){const w=Li(b);Ve(b,g,lo);const L=Fa(w,v);return new Qe(w,"signInViaPopup",g,L).executeNotNull()})).apply(this,arguments)}function Ba(b,g,v){return yo.apply(this,arguments)}function yo(){return(yo=(0,a.Z)(function*(b,g,v){const w=(0,$.m9)(b);Ve(w.auth,g,lo);const L=Fa(w.auth,v);return new Qe(w.auth,"reauthViaPopup",g,L,w).executeNotNull()})).apply(this,arguments)}function di(b,g,v){return xo.apply(this,arguments)}function xo(){return(xo=(0,a.Z)(function*(b,g,v){const w=(0,$.m9)(b);Ve(w.auth,g,lo);const L=Fa(w.auth,v);return new Qe(w.auth,"linkViaPopup",g,L,w).executeNotNull()})).apply(this,arguments)}let Qe=(()=>{class b extends Zo{constructor(v,w,L,R,oe){super(v,w,R,oe),this.provider=L,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var v=this;return(0,a.Z)(function*(){const w=yield v.execute();return re(w,v.auth,"internal-error"),w})()}onExecution(){var v=this;return(0,a.Z)(function*(){we(1===v.filter.length,"Popup operations only handle one event");const w=Ha();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],w),v.authWindow.associatedEvent=w,v.resolver._originValidation(v.auth).catch(L=>{v.reject(L)}),v.resolver._isIframeWebStorageSupported(v.auth,L=>{L||v.reject(ze(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(ze(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const v=()=>{var w,L;this.pollId=null!==(L=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==L&&L.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ze(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(v,P4.get())};v()}}return b.currentPopupAction=null,b})();const Qn=new Map;class Ys extends Zo{constructor(g,v,w=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,w),this.eventId=null}execute(){var g=()=>super.execute,v=this;return(0,a.Z)(function*(){let w=Qn.get(v.auth._key());if(!w){try{const R=(yield function Zs(b,g){return hi.apply(this,arguments)}(v.resolver,v.auth))?yield g().call(v):null;w=()=>Promise.resolve(R)}catch(L){w=()=>Promise.reject(L)}Qn.set(v.auth._key(),w)}return v.bypassAuthState||Qn.set(v.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(g){var v=()=>super.onAuthEvent,w=this;return(0,a.Z)(function*(){if("signInViaRedirect"===g.type)return v().call(w,g);if("unknown"!==g.type){if(g.eventId){const L=yield w.auth._redirectUserForId(g.eventId);if(L)return w.user=L,v().call(w,g);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function hi(){return(hi=(0,a.Z)(function*(b,g){const v=Hr(g),w=Ic(b);if(!(yield w._isAvailable()))return!1;const L="true"===(yield w._get(v));return yield w._remove(v),L})).apply(this,arguments)}function Tc(b,g){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,a.Z)(function*(b,g){return Ic(b)._set(Hr(g),"true")})).apply(this,arguments)}function Vf(){Qn.clear()}function Ko(b,g){Qn.set(b._key(),g)}function Ic(b){return ee(b._redirectPersistence)}function Hr(b){return W("pendingRedirect",b.config.apiKey,b.name)}function Qs(b,g,v){return function ut(b,g,v){return Hl.apply(this,arguments)}(b,g,v)}function Hl(){return(Hl=(0,a.Z)(function*(b,g,v){const w=Li(b);Ve(b,g,lo);const L=Fa(w,v);return yield Tc(L,w),L._openRedirect(w,g,"signInViaRedirect")})).apply(this,arguments)}function zl(b,g,v){return function E(b,g,v){return D.apply(this,arguments)}(b,g,v)}function D(){return(D=(0,a.Z)(function*(b,g,v){const w=(0,$.m9)(b);Ve(w.auth,g,lo);const L=Fa(w.auth,v);yield Tc(L,w.auth);const R=yield gt(w);return L._openRedirect(w.auth,g,"reauthViaRedirect",R)})).apply(this,arguments)}function V(b,g,v){return function G(b,g,v){return ie.apply(this,arguments)}(b,g,v)}function ie(){return(ie=(0,a.Z)(function*(b,g,v){const w=(0,$.m9)(b);Ve(w.auth,g,lo);const L=Fa(w.auth,v);yield Ro(!1,w,g.providerId),yield Tc(L,w.auth);const R=yield gt(w);return L._openRedirect(w.auth,g,"linkViaRedirect",R)})).apply(this,arguments)}function fe(b,g){return He.apply(this,arguments)}function He(){return(He=(0,a.Z)(function*(b,g){return yield Li(b)._initializationPromise,nt(b,g,!1)})).apply(this,arguments)}function nt(b,g){return mt.apply(this,arguments)}function mt(){return(mt=(0,a.Z)(function*(b,g,v=!1){const w=Li(b),L=Fa(w,g),oe=yield new Ys(w,L,v).execute();return oe&&!v&&(delete oe.user._redirectEventId,yield w._persistUserIfCurrent(oe.user),yield w._setRedirectUser(null,g)),oe})).apply(this,arguments)}function gt(b){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,a.Z)(function*(b){const g=Ha(`${b.uid}:::`);return b._redirectEventId=g,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),g})).apply(this,arguments)}class zr{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let v=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(g,w)&&(v=!0,this.sendToConsumer(g,w),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Nr(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _r(b);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=g,v=!0)),v}sendToConsumer(g,v){var w;if(g.error&&!_r(g)){const L=(null===(w=g.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";v.onError(ze(this.auth,L))}else v.onAuthEvent(g)}isEventForConsumer(g,v){const w=null===v.eventId||!!g.eventId&&g.eventId===v.eventId;return v.filter.includes(g.type)&&w}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(wn(g))}saveEventToCache(g){this.cachedEventUids.add(wn(g)),this.lastProcessedEventTime=Date.now()}}function wn(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(g=>g).join("-")}function _r({type:b,error:g}){return"unknown"===b&&"auth/no-auth-event"===g?.code}function Gn(b){return vn.apply(this,arguments)}function vn(){return(vn=(0,a.Z)(function*(b,g={}){return St(b,"GET","/v1/projects",g)})).apply(this,arguments)}const Hs=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bo=/^https?/;function Rr(){return(Rr=(0,a.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:g}=yield Gn(b);for(const v of g)try{if(Nl(v))return}catch{}Pe(b,"unauthorized-domain")})).apply(this,arguments)}function Nl(b){const g=Be(),{protocol:v,hostname:w}=new URL(g);if(b.startsWith("chrome-extension://")){const oe=new URL(b);return""===oe.hostname&&""===w?"chrome-extension:"===v&&b.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===v&&oe.hostname===w}if(!bo.test(v))return!1;if(Hs.test(b))return w===b;const L=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+L+"|"+L+")$","i").test(w)}const es=new zt(3e4,6e4);function ir(){const b=Dn().___jsl;if(b?.H)for(const g of Object.keys(b.H))if(b.H[g].r=b.H[g].r||[],b.H[g].L=b.H[g].L||[],b.H[g].r=[...b.H[g].L],b.CP)for(let v=0;v<b.CP.length;v++)b.CP[v]=null}let Ac=null;function Zh(b){return Ac=Ac||function O4(b){return new Promise((g,v)=>{var w,L,R;function oe(){ir(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{ir(),v(ze(b,"network-request-failed"))},timeout:es.get()})}if(null!==(L=null===(w=Dn().gapi)||void 0===w?void 0:w.iframes)&&void 0!==L&&L.Iframe)g(gapi.iframes.getContext());else{if(null===(R=Dn().gapi)||void 0===R||!R.load){const Ie=_o("iframefcb");return Dn()[Ie]=()=>{gapi.load?oe():v(ze(b,"network-request-failed"))},Pa(`https://apis.google.com/js/api.js?onload=${Ie}`).catch(it=>v(it))}oe()}}).catch(g=>{throw Ac=null,g})}(b),Ac}const Qo=new zt(5e3,15e3),Xo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Lf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function F4(b){const g=b.config;re(g.authDomain,b,"auth-domain-config-required");const v=g.emulator?Kt(g,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,w={apiKey:g.apiKey,appName:b.name,v:N.SDK_VERSION},L=Lf.get(b.config.apiHost);L&&(w.eid=L);const R=b._getFrameworks();return R.length&&(w.fw=R.join(",")),`${v}?${(0,$.xO)(w).slice(1)}`}function B4(){return B4=(0,a.Z)(function*(b){const g=yield Zh(b),v=Dn().gapi;return re(v,b,"internal-error"),g.open({where:document.body,url:F4(b),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Xo,dontclear:!0},w=>new Promise(function(){var L=(0,a.Z)(function*(R,oe){yield w.restyle({setHideOnLeave:!1});const Ie=ze(b,"network-request-failed"),it=Dn().setTimeout(()=>{oe(Ie)},Qo.get());function Et(){Dn().clearTimeout(it),R(w)}w.ping(Et).then(Et,()=>{oe(Ie)})});return function(R,oe){return L.apply(this,arguments)}}()))}),B4.apply(this,arguments)}const Kh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ol{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function U4(b,g,v,w,L,R){re(b.config.authDomain,b,"auth-domain-config-required"),re(b.config.apiKey,b,"invalid-api-key");const oe={apiKey:b.config.apiKey,appName:b.name,authType:v,redirectUrl:w,v:N.SDK_VERSION,eventId:L};if(g instanceof lo){g.setDefaultLanguage(b.languageCode),oe.providerId=g.providerId||"",(0,$.xb)(g.getCustomParameters())||(oe.customParameters=JSON.stringify(g.getCustomParameters()));for(const[it,Et]of Object.entries(R||{}))oe[it]=Et}if(g instanceof Ea){const it=g.getScopes().filter(Et=>""!==Et);it.length>0&&(oe.scopes=it.join(","))}b.tenantId&&(oe.tid=b.tenantId);const Ie=oe;for(const it of Object.keys(Ie))void 0===Ie[it]&&delete Ie[it];return`${function kf({config:b}){return b.emulator?Kt(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,$.xO)(Ie).slice(1)}`}const Lc="webStorageSupport",Ri=class Hf{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Bo,this._completeRedirectFn=nt,this._overrideRedirectResult=Ko}_openPopup(g,v,w,L){var R=this;return(0,a.Z)(function*(){var oe;we(null===(oe=R.eventManagers[g._key()])||void 0===oe?void 0:oe.manager,"_initialize() not called before _openPopup()");const Ie=U4(g,v,w,Be(),L);return function Vc(b,g,v,w=500,L=600){const R=Math.max((window.screen.availHeight-L)/2,0).toString(),oe=Math.max((window.screen.availWidth-w)/2,0).toString();let Ie="";const it=Object.assign(Object.assign({},Kh),{width:w.toString(),height:L.toString(),top:R,left:oe}),Et=(0,$.z$)().toLowerCase();v&&(Ie=he(Et)?"_blank":v),z(Et)&&(g=g||"http://localhost",it.scrollbars="yes");const Zt=Object.entries(it).reduce((gs,[Js,M1])=>`${gs}${Js}=${M1},`,"");if(function Vi(b=(0,$.z$)()){var g;return yt(b)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(Et)&&"_self"!==Ie)return function Em(b,g){const v=document.createElement("a");v.href=b,v.target=g;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(w)}(g||"",Ie),new Ol(null);const Wn=window.open(g||"",Ie,Zt);re(Wn,b,"popup-blocked");try{Wn.focus()}catch{}return new Ol(Wn)}(g,Ie,Ha())})()}_openRedirect(g,v,w,L){var R=this;return(0,a.Z)(function*(){return yield R._originValidation(g),function Il(b){Dn().location.href=b}(U4(g,v,w,Be(),L)),new Promise(()=>{})})()}_initialize(g){const v=g._key();if(this.eventManagers[v]){const{manager:L,promise:R}=this.eventManagers[v];return L?Promise.resolve(L):(we(R,"If manager is not set, promise should be"),R)}const w=this.initAndGetManager(g);return this.eventManagers[v]={promise:w},w.catch(()=>{delete this.eventManagers[v]}),w}initAndGetManager(g){var v=this;return(0,a.Z)(function*(){const w=yield function Rl(b){return B4.apply(this,arguments)}(g),L=new zr(g);return w.register("authEvent",R=>(re(R?.authEvent,g,"invalid-auth-event"),{status:L.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[g._key()]={manager:L},v.iframes[g._key()]=w,L})()}_isIframeWebStorageSupported(g,v){this.iframes[g._key()].send(Lc,{type:Lc},L=>{var R;const oe=null===(R=L?.[0])||void 0===R?void 0:R[Lc];void 0!==oe&&v(!!oe),Pe(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const v=g._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function Xn(b){return Rr.apply(this,arguments)}(g)),this.originValidationPromises[v]}get _shouldInitProactively(){return er()||U()||yt()}};class ea{constructor(g){this.factorId=g}_process(g,v,w){switch(v.type){case"enroll":return this._finalizeEnroll(g,v.credential,w);case"signin":return this._finalizeSignIn(g,v.credential);default:return pe("unexpected MultiFactorSessionType")}}}class T2 extends ea{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new T2(g)}_finalizeEnroll(g,v,w){return function Dl(b,g){return St(b,"POST","/v2/accounts/mfaEnrollment:finalize",nn(b,g))}(g,{idToken:v,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,v){return function g1(b,g){return St(b,"POST","/v2/accounts/mfaSignIn:finalize",nn(b,g))}(g,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Co=(()=>{class b{constructor(){}static assertion(v){return T2._fromCredential(v)}}return b.FACTOR_ID="phone",b})();var j4="@firebase/auth";class Xh{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var v=this;return(0,a.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const v=this.auth.onIdTokenChanged(w=>{g(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,v),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const v=this.internalListeners.get(g);!v||(this.internalListeners.delete(g),v(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Nf=(0,$.Pz)("authIdTokenMaxAge")||300;let kc=null;const Ua=b=>function(){var g=(0,a.Z)(function*(v){const w=v&&(yield v.getIdTokenResult()),L=w&&((new Date).getTime()-Date.parse(w.issuedAtTime))/1e3;if(L&&L>Nf)return;const R=w?.token;kc!==R&&(kc=R,yield fetch(b,{method:R?"POST":"DELETE",headers:R?{Authorization:`Bearer ${R}`}:{}}))});return function(v){return g.apply(this,arguments)}}();function ln(b=(0,N.getApp)()){const g=(0,N._getProvider)(b,"auth");if(g.isInitialized())return g.getImmediate();const v=function _e(b,g){const v=(0,N._getProvider)(b,"auth");if(v.isInitialized()){const L=v.getImmediate(),R=v.getOptions();if((0,$.vZ)(R,g??{}))return L;Pe(L,"already-initialized")}return v.initialize({options:g})}(b,{popupRedirectResolver:Ri,persistence:[wc,si,Bo]}),w=(0,$.Pz)("authTokenSyncURL");if(w){const R=Ua(w);(function D4(b,g,v){(0,$.m9)(b).beforeAuthStateChanged(g,v)})(v,R,()=>R(v.currentUser)),function Sl(b,g,v,w){(0,$.m9)(b).onIdTokenChanged(g,v,w)}(v,oe=>R(oe))}const L=(0,$.q4)("auth");return L&&pl(v,`http://${L}`),v}!function W4(b){(0,N._registerComponent)(new ye.wA("auth",(g,{options:v})=>{const w=g.getProvider("app").getImmediate(),L=g.getProvider("heartbeat"),{apiKey:R,authDomain:oe}=w.options;return((Ie,it)=>{re(R&&!R.includes(":"),"invalid-api-key",{appName:Ie.name}),re(!oe?.includes(":"),"argument-error",{appName:Ie.name});const Et={apiKey:R,authDomain:oe,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ca(b)},Zt=new rc(Ie,it,Et);return function ue(b,g){const v=g?.persistence||[],w=(Array.isArray(v)?v:[v]).map(ee);g?.errorMap&&b._updateErrorMap(g.errorMap),b._initializeWithPersistence(w,g?.popupRedirectResolver)}(Zt,v),Zt})(w,L)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,v,w)=>{g.getProvider("auth-internal").initialize()})),(0,N._registerComponent)(new ye.wA("auth-internal",g=>{const v=Li(g.getProvider("auth").getImmediate());return new Xh(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,N.registerVersion)(j4,"0.21.0",function G4(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,N.registerVersion)(j4,"0.21.0","esm2017")}("Browser")},2090:(vt,Ee,O)=>{O.d(Ee,{$s:()=>st,BH:()=>bn,DV:()=>ti,Dv:()=>ui,GJ:()=>Os,L:()=>me,LL:()=>fn,P0:()=>Ue,Pz:()=>mn,Sg:()=>zt,UG:()=>Je,UI:()=>Zr,US:()=>ye,Wj:()=>fi,Wl:()=>Yr,Yr:()=>Ne,ZB:()=>Y,ZR:()=>Mt,aH:()=>bt,b$:()=>Te,cI:()=>St,dS:()=>qt,eu:()=>re,g5:()=>N,gK:()=>Rn,gQ:()=>ni,h$:()=>ce,hl:()=>Ye,hu:()=>$,jU:()=>at,lb:()=>Kr,m9:()=>an,ne:()=>pr,p$:()=>Q,pd:()=>li,q4:()=>Be,r3:()=>ds,ru:()=>xe,tV:()=>be,uI:()=>Ae,ug:()=>Qr,vZ:()=>En,w1:()=>Pe,w9:()=>fs,xO:()=>Ai,xb:()=>Er,z$:()=>$e,zI:()=>pe,zd:()=>ji});const $=function(K,W){if(!K)throw N(W)},N=function(K){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+K)},le=function(K){const W=[];let J=0;for(let j=0;j<K.length;j++){let z=K.charCodeAt(j);z<128?W[J++]=z:z<2048?(W[J++]=z>>6|192,W[J++]=63&z|128):55296==(64512&z)&&j+1<K.length&&56320==(64512&K.charCodeAt(j+1))?(z=65536+((1023&z)<<10)+(1023&K.charCodeAt(++j)),W[J++]=z>>18|240,W[J++]=z>>12&63|128,W[J++]=z>>6&63|128,W[J++]=63&z|128):(W[J++]=z>>12|224,W[J++]=z>>6&63|128,W[J++]=63&z|128)}return W},ye={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(K,W){if(!Array.isArray(K))throw Error("encodeByteArray takes an array as a parameter");this.init_();const J=W?this.byteToCharMapWebSafe_:this.byteToCharMap_,j=[];for(let z=0;z<K.length;z+=3){const U=K[z],he=z+1<K.length,Le=he?K[z+1]:0,dt=z+2<K.length,Ke=dt?K[z+2]:0;let kn=(15&Le)<<2|Ke>>6,Vi=63&Ke;dt||(Vi=64,he||(kn=64)),j.push(J[U>>2],J[(3&U)<<4|Le>>4],J[kn],J[Vi])}return j.join("")},encodeString(K,W){return this.HAS_NATIVE_SUPPORT&&!W?btoa(K):this.encodeByteArray(le(K),W)},decodeString(K,W){return this.HAS_NATIVE_SUPPORT&&!W?atob(K):function(K){const W=[];let J=0,j=0;for(;J<K.length;){const z=K[J++];if(z<128)W[j++]=String.fromCharCode(z);else if(z>191&&z<224){const U=K[J++];W[j++]=String.fromCharCode((31&z)<<6|63&U)}else if(z>239&&z<365){const dt=((7&z)<<18|(63&K[J++])<<12|(63&K[J++])<<6|63&K[J++])-65536;W[j++]=String.fromCharCode(55296+(dt>>10)),W[j++]=String.fromCharCode(56320+(1023&dt))}else{const U=K[J++],he=K[J++];W[j++]=String.fromCharCode((15&z)<<12|(63&U)<<6|63&he)}}return W.join("")}(this.decodeStringToByteArray(K,W))},decodeStringToByteArray(K,W){this.init_();const J=W?this.charToByteMapWebSafe_:this.charToByteMap_,j=[];for(let z=0;z<K.length;){const U=J[K.charAt(z++)],Le=z<K.length?J[K.charAt(z)]:0;++z;const Ke=z<K.length?J[K.charAt(z)]:64;++z;const yt=z<K.length?J[K.charAt(z)]:64;if(++z,null==U||null==Le||null==Ke||null==yt)throw Error();j.push(U<<2|Le>>4),64!==Ke&&(j.push(Le<<4&240|Ke>>2),64!==yt&&j.push(Ke<<6&192|yt))}return j},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let K=0;K<this.ENCODED_VALS.length;K++)this.byteToCharMap_[K]=this.ENCODED_VALS.charAt(K),this.charToByteMap_[this.byteToCharMap_[K]]=K,this.byteToCharMapWebSafe_[K]=this.ENCODED_VALS_WEBSAFE.charAt(K),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[K]]=K,K>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(K)]=K,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(K)]=K)}}},ce=function(K){const W=le(K);return ye.encodeByteArray(W,!0)},me=function(K){return ce(K).replace(/\./g,"")},be=function(K){try{return ye.decodeString(K,!0)}catch(W){console.error("base64Decode failed: ",W)}return null};function Q(K){return Y(void 0,K)}function Y(K,W){if(!(W instanceof Object))return W;switch(W.constructor){case Date:return new Date(W.getTime());case Object:void 0===K&&(K={});break;case Array:K=[];break;default:return W}for(const J in W)!W.hasOwnProperty(J)||!ne(J)||(K[J]=Y(K[J],W[J]));return K}function ne(K){return"__proto__"!==K}function $e(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ae(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function Je(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function at(){return"object"==typeof self&&self.self===self}function xe(){const K="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof K&&void 0!==K.id}function Te(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Pe(){const K=$e();return K.indexOf("MSIE ")>=0||K.indexOf("Trident/")>=0}function Ne(){return!1}function Ye(){try{return"object"==typeof indexedDB}catch{return!1}}function re(){return new Promise((K,W)=>{try{let J=!0;const j="validate-browser-context-for-indexeddb-analytics-module",z=self.indexedDB.open(j);z.onsuccess=()=>{z.result.close(),J||self.indexedDB.deleteDatabase(j),K(!0)},z.onupgradeneeded=()=>{J=!1},z.onerror=()=>{var U;W((null===(U=z.error)||void 0===U?void 0:U.message)||"")}}catch(J){W(J)}})}function pe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const ue=()=>{try{return function we(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const K=process.env.__FIREBASE_DEFAULTS__;return K?JSON.parse(K):void 0})()||(()=>{if(typeof document>"u")return;let K;try{K=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const W=K&&be(K[1]);return W&&JSON.parse(W)})()}catch(K){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${K}`)}},Be=K=>{var W,J;return null===(J=null===(W=ue())||void 0===W?void 0:W.emulatorHosts)||void 0===J?void 0:J[K]},Ue=K=>{const W=Be(K);if(!W)return;const J=W.lastIndexOf(":");if(J<=0||J+1===W.length)throw new Error(`Invalid host ${W} with no separate hostname and port!`);const j=parseInt(W.substring(J+1),10);return"["===W[0]?[W.substring(1,J-1),j]:[W.substring(0,J),j]},bt=()=>{var K;return null===(K=ue())||void 0===K?void 0:K.config},mn=K=>{var W;return null===(W=ue())||void 0===W?void 0:W[`_${K}`]};class bn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((W,J)=>{this.resolve=W,this.reject=J})}wrapCallback(W){return(J,j)=>{J?this.reject(J):this.resolve(j),"function"==typeof W&&(this.promise.catch(()=>{}),1===W.length?W(J):W(J,j))}}}function zt(K,W){if(K.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const j=W||"demo-project",z=K.iat||0,U=K.sub||K.user_id;if(!U)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const he=Object.assign({iss:`https://securetoken.google.com/${j}`,aud:j,iat:z,exp:z+3600,auth_time:z,sub:U,user_id:U,firebase:{sign_in_provider:"custom",identities:{}}},K);return[me(JSON.stringify({alg:"none",type:"JWT"})),me(JSON.stringify(he)),""].join(".")}class Mt extends Error{constructor(W,J,j){super(J),this.code=W,this.customData=j,this.name="FirebaseError",Object.setPrototypeOf(this,Mt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fn.prototype.create)}}class fn{constructor(W,J,j){this.service=W,this.serviceName=J,this.errors=j}create(W,...J){const j=J[0]||{},z=`${this.service}/${W}`,U=this.errors[W],he=U?function Ti(K,W){return K.replace(nn,(J,j)=>{const z=W[j];return null!=z?String(z):`<${j}?>`})}(U,j):"Error";return new Mt(z,`${this.serviceName}: ${he} (${z}).`,j)}}const nn=/\{\$([^}]+)}/g;function St(K){return JSON.parse(K)}function Yr(K){return JSON.stringify(K)}const Sr=function(K){let W={},J={},j={},z="";try{const U=K.split(".");W=St(be(U[0])||""),J=St(be(U[1])||""),z=U[2],j=J.d||{},delete J.d}catch{}return{header:W,claims:J,data:j,signature:z}},fs=function(K){const J=Sr(K).claims;return!!J&&"object"==typeof J&&J.hasOwnProperty("iat")},Os=function(K){const W=Sr(K).claims;return"object"==typeof W&&!0===W.admin};function ds(K,W){return Object.prototype.hasOwnProperty.call(K,W)}function ti(K,W){if(Object.prototype.hasOwnProperty.call(K,W))return K[W]}function Er(K){for(const W in K)if(Object.prototype.hasOwnProperty.call(K,W))return!1;return!0}function Zr(K,W,J){const j={};for(const z in K)Object.prototype.hasOwnProperty.call(K,z)&&(j[z]=W.call(J,K[z],z,K));return j}function En(K,W){if(K===W)return!0;const J=Object.keys(K),j=Object.keys(W);for(const z of J){if(!j.includes(z))return!1;const U=K[z],he=W[z];if(Ii(U)&&Ii(he)){if(!En(U,he))return!1}else if(U!==he)return!1}for(const z of j)if(!J.includes(z))return!1;return!0}function Ii(K){return null!==K&&"object"==typeof K}function Ai(K){const W=[];for(const[J,j]of Object.entries(K))Array.isArray(j)?j.forEach(z=>{W.push(encodeURIComponent(J)+"="+encodeURIComponent(z))}):W.push(encodeURIComponent(J)+"="+encodeURIComponent(j));return W.length?"&"+W.join("&"):""}function ji(K){const W={};return K.replace(/^\?/,"").split("&").forEach(j=>{if(j){const[z,U]=j.split("=");W[decodeURIComponent(z)]=decodeURIComponent(U)}}),W}function li(K){const W=K.indexOf("?");if(!W)return"";const J=K.indexOf("#",W);return K.substring(W,J>0?J:void 0)}class ni{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let W=1;W<this.blockSize;++W)this.pad_[W]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(W,J){J||(J=0);const j=this.W_;if("string"==typeof W)for(let yt=0;yt<16;yt++)j[yt]=W.charCodeAt(J)<<24|W.charCodeAt(J+1)<<16|W.charCodeAt(J+2)<<8|W.charCodeAt(J+3),J+=4;else for(let yt=0;yt<16;yt++)j[yt]=W[J]<<24|W[J+1]<<16|W[J+2]<<8|W[J+3],J+=4;for(let yt=16;yt<80;yt++){const kn=j[yt-3]^j[yt-8]^j[yt-14]^j[yt-16];j[yt]=4294967295&(kn<<1|kn>>>31)}let Ke,Gt,z=this.chain_[0],U=this.chain_[1],he=this.chain_[2],Le=this.chain_[3],dt=this.chain_[4];for(let yt=0;yt<80;yt++){yt<40?yt<20?(Ke=Le^U&(he^Le),Gt=1518500249):(Ke=U^he^Le,Gt=1859775393):yt<60?(Ke=U&he|Le&(U|he),Gt=2400959708):(Ke=U^he^Le,Gt=3395469782);const kn=(z<<5|z>>>27)+Ke+dt+Gt+j[yt]&4294967295;dt=Le,Le=he,he=4294967295&(U<<30|U>>>2),U=z,z=kn}this.chain_[0]=this.chain_[0]+z&4294967295,this.chain_[1]=this.chain_[1]+U&4294967295,this.chain_[2]=this.chain_[2]+he&4294967295,this.chain_[3]=this.chain_[3]+Le&4294967295,this.chain_[4]=this.chain_[4]+dt&4294967295}update(W,J){if(null==W)return;void 0===J&&(J=W.length);const j=J-this.blockSize;let z=0;const U=this.buf_;let he=this.inbuf_;for(;z<J;){if(0===he)for(;z<=j;)this.compress_(W,z),z+=this.blockSize;if("string"==typeof W){for(;z<J;)if(U[he]=W.charCodeAt(z),++he,++z,he===this.blockSize){this.compress_(U),he=0;break}}else for(;z<J;)if(U[he]=W[z],++he,++z,he===this.blockSize){this.compress_(U),he=0;break}}this.inbuf_=he,this.total_+=J}digest(){const W=[];let J=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let z=this.blockSize-1;z>=56;z--)this.buf_[z]=255&J,J/=256;this.compress_(this.buf_);let j=0;for(let z=0;z<5;z++)for(let U=24;U>=0;U-=8)W[j]=this.chain_[z]>>U&255,++j;return W}}function pr(K,W){const J=new Pt(K,W);return J.subscribe.bind(J)}class Pt{constructor(W,J){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=J,this.task.then(()=>{W(this)}).catch(j=>{this.error(j)})}next(W){this.forEachObserver(J=>{J.next(W)})}error(W){this.forEachObserver(J=>{J.error(W)}),this.close(W)}complete(){this.forEachObserver(W=>{W.complete()}),this.close()}subscribe(W,J,j){let z;if(void 0===W&&void 0===J&&void 0===j)throw new Error("Missing Observer.");z=function Rt(K,W){if("object"!=typeof K||null===K)return!1;for(const J of W)if(J in K&&"function"==typeof K[J])return!0;return!1}(W,["next","error","complete"])?W:{next:W,error:J,complete:j},void 0===z.next&&(z.next=An),void 0===z.error&&(z.error=An),void 0===z.complete&&(z.complete=An);const U=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?z.error(this.finalError):z.complete()}catch{}}),this.observers.push(z),U}unsubscribeOne(W){void 0===this.observers||void 0===this.observers[W]||(delete this.observers[W],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(W){if(!this.finalized)for(let J=0;J<this.observers.length;J++)this.sendOne(J,W)}sendOne(W,J){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[W])try{J(this.observers[W])}catch(j){typeof console<"u"&&console.error&&console.error(j)}})}close(W){this.finalized||(this.finalized=!0,void 0!==W&&(this.finalError=W),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function An(){}const ui=function(K,W,J,j){let z;if(j<W?z="at least "+W:j>J&&(z=0===J?"none":"no more than "+J),z)throw new Error(K+" failed: Was called with "+j+(1===j?" argument.":" arguments.")+" Expects "+z+".")};function Rn(K,W){return`${K} failed: ${W} argument `}function fi(K,W,J,j){if((!j||J)&&"function"!=typeof J)throw new Error(Rn(K,W)+"must be a valid function.")}function Kr(K,W,J,j){if((!j||J)&&("object"!=typeof J||null===J))throw new Error(Rn(K,W)+"must be a valid context object.")}const qt=function(K){const W=[];let J=0;for(let j=0;j<K.length;j++){let z=K.charCodeAt(j);if(z>=55296&&z<=56319){const U=z-55296;j++,$(j<K.length,"Surrogate pair missing trail surrogate."),z=65536+(U<<10)+(K.charCodeAt(j)-56320)}z<128?W[J++]=z:z<2048?(W[J++]=z>>6|192,W[J++]=63&z|128):z<65536?(W[J++]=z>>12|224,W[J++]=z>>6&63|128,W[J++]=63&z|128):(W[J++]=z>>18|240,W[J++]=z>>12&63|128,W[J++]=z>>6&63|128,W[J++]=63&z|128)}return W},Qr=function(K){let W=0;for(let J=0;J<K.length;J++){const j=K.charCodeAt(J);j<128?W++:j<2048?W+=2:j>=55296&&j<=56319?(W+=4,J++):W+=3}return W};function st(K,W=1e3,J=2){const j=W*Math.pow(J,K),z=Math.round(.5*j*(Math.random()-.5)*2);return Math.min(144e5,j+z)}function an(K){return K&&K._delegate?K._delegate:K}},8718:(vt,Ee,O)=>{var a=O(4650);let $=null;function N(){return $}class ye{}const ce=new a.OlP("DocumentToken");let me=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return function be(){return(0,a.LFG)(Y)}()},providedIn:"platform"}),n})();const Q=new a.OlP("Location Initialized");let Y=(()=>{class n extends me{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(t){const i=N().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=N().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){ne()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){ne()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ce))},n.\u0275prov=a.Yz7({token:n,factory:function(){return function $e(){return new Y((0,a.LFG)(ce))}()},providedIn:"platform"}),n})();function ne(){return!!window.history.pushState}function Ae(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Je(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function at(n){return n&&"?"!==n[0]?"?"+n:n}let xe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(Se)},providedIn:"root"}),n})();const Te=new a.OlP("appBaseHref");let Se=(()=>{class n extends xe{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,a.f3M)(ce).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ae(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+at(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const l=this.prepareExternalUrl(r+at(s));this._platformLocation.pushState(t,i,l)}replaceState(t,i,r,s){const l=this.prepareExternalUrl(r+at(s));this._platformLocation.replaceState(t,i,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(me),a.LFG(Te,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Pe=(()=>{class n extends xe{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=Ae(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let l=this.prepareExternalUrl(r+at(s));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,i,l)}replaceState(t,i,r,s){let l=this.prepareExternalUrl(r+at(s));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(me),a.LFG(Te,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),ze=(()=>{class n{constructor(t){this._subject=new a.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._baseHref=Je(Ye(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+at(i))}normalize(t){return n.stripTrailingSlash(function Ve(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Ye(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+at(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+at(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=at,n.joinWithSlash=Ae,n.stripTrailingSlash=Je,n.\u0275fac=function(t){return new(t||n)(a.LFG(xe))},n.\u0275prov=a.Yz7({token:n,factory:function(){return function Ne(){return new ze((0,a.LFG)(xe))}()},providedIn:"root"}),n})();function Ye(n){return n.replace(/\/index.html$/,"")}const re={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var pe=(()=>((pe=pe||{})[pe.Decimal=0]="Decimal",pe[pe.Percent=1]="Percent",pe[pe.Currency=2]="Currency",pe[pe.Scientific=3]="Scientific",pe))(),te=(()=>((te=te||{})[te.Format=0]="Format",te[te.Standalone=1]="Standalone",te))(),ee=(()=>((ee=ee||{})[ee.Narrow=0]="Narrow",ee[ee.Abbreviated=1]="Abbreviated",ee[ee.Wide=2]="Wide",ee[ee.Short=3]="Short",ee))(),_e=(()=>((_e=_e||{})[_e.Short=0]="Short",_e[_e.Medium=1]="Medium",_e[_e.Long=2]="Long",_e[_e.Full=3]="Full",_e))(),ue=(()=>((ue=ue||{})[ue.Decimal=0]="Decimal",ue[ue.Group=1]="Group",ue[ue.List=2]="List",ue[ue.PercentSign=3]="PercentSign",ue[ue.PlusSign=4]="PlusSign",ue[ue.MinusSign=5]="MinusSign",ue[ue.Exponential=6]="Exponential",ue[ue.SuperscriptingExponent=7]="SuperscriptingExponent",ue[ue.PerMille=8]="PerMille",ue[ue.Infinity=9]="Infinity",ue[ue.NaN=10]="NaN",ue[ue.TimeSeparator=11]="TimeSeparator",ue[ue.CurrencyDecimal=12]="CurrencyDecimal",ue[ue.CurrencyGroup=13]="CurrencyGroup",ue))();function fn(n,e){return En((0,a.cg1)(n)[a.wAp.DateFormat],e)}function Ti(n,e){return En((0,a.cg1)(n)[a.wAp.TimeFormat],e)}function nn(n,e){return En((0,a.cg1)(n)[a.wAp.DateTimeFormat],e)}function St(n,e){const t=(0,a.cg1)(n),i=t[a.wAp.NumberSymbols][e];if(typeof i>"u"){if(e===ue.CurrencyDecimal)return t[a.wAp.NumberSymbols][ue.Decimal];if(e===ue.CurrencyGroup)return t[a.wAp.NumberSymbols][ue.Group]}return i}function ds(n){if(!n[a.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[a.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function En(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function Ii(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const li=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ni={},pr=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Pt=(()=>((Pt=Pt||{})[Pt.Short=0]="Short",Pt[Pt.ShortGMT=1]="ShortGMT",Pt[Pt.Long=2]="Long",Pt[Pt.Extended=3]="Extended",Pt))(),Ct=(()=>((Ct=Ct||{})[Ct.FullYear=0]="FullYear",Ct[Ct.Month=1]="Month",Ct[Ct.Date=2]="Date",Ct[Ct.Hours=3]="Hours",Ct[Ct.Minutes=4]="Minutes",Ct[Ct.Seconds=5]="Seconds",Ct[Ct.FractionalSeconds=6]="FractionalSeconds",Ct[Ct.Day=7]="Day",Ct))(),Rt=(()=>((Rt=Rt||{})[Rt.DayPeriods=0]="DayPeriods",Rt[Rt.Days=1]="Days",Rt[Rt.Months=2]="Months",Rt[Rt.Eras=3]="Eras",Rt))();function An(n,e,t,i){let r=function U(n){if(Le(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,s=1,l=1]=n.split("-").map(f=>+f);return ui(r,s-1,l)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(li))return function he(n){const e=new Date(0);let t=0,i=0;const r=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const l=Number(n[4]||0)-t,f=Number(n[5]||0)-i,p=Number(n[6]||0),_=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(e,l,f,p,_),e}(i)}const e=new Date(n);if(!Le(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Rn(t,e)||e;let f,l=[];for(;e;){if(f=pr.exec(e),!f){l.push(e);break}{l=l.concat(f.slice(1));const x=l.pop();if(!x)break;e=x}}let p=r.getTimezoneOffset();i&&(p=J(i,p),r=function z(n,e,t){const i=t?-1:1,r=n.getTimezoneOffset();return function j(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,i*(J(e,r)-r))}(r,i,!0));let _="";return l.forEach(x=>{const M=function W(n){if(K[n])return K[n];let e;switch(n){case"G":case"GG":case"GGG":e=Jt(Rt.Eras,ee.Abbreviated);break;case"GGGG":e=Jt(Rt.Eras,ee.Wide);break;case"GGGGG":e=Jt(Rt.Eras,ee.Narrow);break;case"y":e=qt(Ct.FullYear,1,0,!1,!0);break;case"yy":e=qt(Ct.FullYear,2,0,!0,!0);break;case"yyy":e=qt(Ct.FullYear,3,0,!1,!0);break;case"yyyy":e=qt(Ct.FullYear,4,0,!1,!0);break;case"Y":e=an(1);break;case"YY":e=an(2,!0);break;case"YYY":e=an(3);break;case"YYYY":e=an(4);break;case"M":case"L":e=qt(Ct.Month,1,1);break;case"MM":case"LL":e=qt(Ct.Month,2,1);break;case"MMM":e=Jt(Rt.Months,ee.Abbreviated);break;case"MMMM":e=Jt(Rt.Months,ee.Wide);break;case"MMMMM":e=Jt(Rt.Months,ee.Narrow);break;case"LLL":e=Jt(Rt.Months,ee.Abbreviated,te.Standalone);break;case"LLLL":e=Jt(Rt.Months,ee.Wide,te.Standalone);break;case"LLLLL":e=Jt(Rt.Months,ee.Narrow,te.Standalone);break;case"w":e=Nt(1);break;case"ww":e=Nt(2);break;case"W":e=Nt(1,!0);break;case"d":e=qt(Ct.Date,1);break;case"dd":e=qt(Ct.Date,2);break;case"c":case"cc":e=qt(Ct.Day,1);break;case"ccc":e=Jt(Rt.Days,ee.Abbreviated,te.Standalone);break;case"cccc":e=Jt(Rt.Days,ee.Wide,te.Standalone);break;case"ccccc":e=Jt(Rt.Days,ee.Narrow,te.Standalone);break;case"cccccc":e=Jt(Rt.Days,ee.Short,te.Standalone);break;case"E":case"EE":case"EEE":e=Jt(Rt.Days,ee.Abbreviated);break;case"EEEE":e=Jt(Rt.Days,ee.Wide);break;case"EEEEE":e=Jt(Rt.Days,ee.Narrow);break;case"EEEEEE":e=Jt(Rt.Days,ee.Short);break;case"a":case"aa":case"aaa":e=Jt(Rt.DayPeriods,ee.Abbreviated);break;case"aaaa":e=Jt(Rt.DayPeriods,ee.Wide);break;case"aaaaa":e=Jt(Rt.DayPeriods,ee.Narrow);break;case"b":case"bb":case"bbb":e=Jt(Rt.DayPeriods,ee.Abbreviated,te.Standalone,!0);break;case"bbbb":e=Jt(Rt.DayPeriods,ee.Wide,te.Standalone,!0);break;case"bbbbb":e=Jt(Rt.DayPeriods,ee.Narrow,te.Standalone,!0);break;case"B":case"BB":case"BBB":e=Jt(Rt.DayPeriods,ee.Abbreviated,te.Format,!0);break;case"BBBB":e=Jt(Rt.DayPeriods,ee.Wide,te.Format,!0);break;case"BBBBB":e=Jt(Rt.DayPeriods,ee.Narrow,te.Format,!0);break;case"h":e=qt(Ct.Hours,1,-12);break;case"hh":e=qt(Ct.Hours,2,-12);break;case"H":e=qt(Ct.Hours,1);break;case"HH":e=qt(Ct.Hours,2);break;case"m":e=qt(Ct.Minutes,1);break;case"mm":e=qt(Ct.Minutes,2);break;case"s":e=qt(Ct.Seconds,1);break;case"ss":e=qt(Ct.Seconds,2);break;case"S":e=qt(Ct.FractionalSeconds,1);break;case"SS":e=qt(Ct.FractionalSeconds,2);break;case"SSS":e=qt(Ct.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=ii(Pt.Short);break;case"ZZZZZ":e=ii(Pt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=ii(Pt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=ii(Pt.Long);break;default:return null}return K[n]=e,e}(x);_+=M?M(r,t,p):"''"===x?"'":x.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),_}function ui(n,e,t){const i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function Rn(n,e){const t=function Ue(n){return(0,a.cg1)(n)[a.wAp.LocaleId]}(n);if(ni[t]=ni[t]||{},ni[t][e])return ni[t][e];let i="";switch(e){case"shortDate":i=fn(n,_e.Short);break;case"mediumDate":i=fn(n,_e.Medium);break;case"longDate":i=fn(n,_e.Long);break;case"fullDate":i=fn(n,_e.Full);break;case"shortTime":i=Ti(n,_e.Short);break;case"mediumTime":i=Ti(n,_e.Medium);break;case"longTime":i=Ti(n,_e.Long);break;case"fullTime":i=Ti(n,_e.Full);break;case"short":const r=Rn(n,"shortTime"),s=Rn(n,"shortDate");i=Dr(nn(n,_e.Short),[r,s]);break;case"medium":const l=Rn(n,"mediumTime"),f=Rn(n,"mediumDate");i=Dr(nn(n,_e.Medium),[l,f]);break;case"long":const p=Rn(n,"longTime"),_=Rn(n,"longDate");i=Dr(nn(n,_e.Long),[p,_]);break;case"full":const x=Rn(n,"fullTime"),M=Rn(n,"fullDate");i=Dr(nn(n,_e.Full),[x,M])}return i&&(ni[t][e]=i),i}function Dr(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return null!=e&&i in e?e[i]:t})),n}function fi(n,e,t="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,s=t));let l=String(n);for(;l.length<e;)l="0"+l;return i&&(l=l.slice(l.length-e)),s+l}function qt(n,e,t=0,i=!1,r=!1){return function(s,l){let f=function Qr(n,e){switch(n){case Ct.FullYear:return e.getFullYear();case Ct.Month:return e.getMonth();case Ct.Date:return e.getDate();case Ct.Hours:return e.getHours();case Ct.Minutes:return e.getMinutes();case Ct.Seconds:return e.getSeconds();case Ct.FractionalSeconds:return e.getMilliseconds();case Ct.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((t>0||f>-t)&&(f+=t),n===Ct.Hours)0===f&&-12===t&&(f=12);else if(n===Ct.FractionalSeconds)return function Kr(n,e){return fi(n,3).substring(0,e)}(f,e);const p=St(l,ue.MinusSign);return fi(f,e,p,i,r)}}function Jt(n,e,t=te.Format,i=!1){return function(r,s){return function Ji(n,e,t,i,r,s){switch(t){case Rt.Months:return function bn(n,e,t){const i=(0,a.cg1)(n),s=En([i[a.wAp.MonthsFormat],i[a.wAp.MonthsStandalone]],e);return En(s,t)}(e,r,i)[n.getMonth()];case Rt.Days:return function mn(n,e,t){const i=(0,a.cg1)(n),s=En([i[a.wAp.DaysFormat],i[a.wAp.DaysStandalone]],e);return En(s,t)}(e,r,i)[n.getDay()];case Rt.DayPeriods:const l=n.getHours(),f=n.getMinutes();if(s){const _=function ti(n){const e=(0,a.cg1)(n);return ds(e),(e[a.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?Ii(i):[Ii(i[0]),Ii(i[1])])}(e),x=function Er(n,e,t){const i=(0,a.cg1)(n);ds(i);const s=En([i[a.wAp.ExtraData][0],i[a.wAp.ExtraData][1]],e)||[];return En(s,t)||[]}(e,r,i),M=_.findIndex(I=>{if(Array.isArray(I)){const[H,P]=I,q=l>=H.hours&&f>=H.minutes,se=l<P.hours||l===P.hours&&f<P.minutes;if(H.hours<P.hours){if(q&&se)return!0}else if(q||se)return!0}else if(I.hours===l&&I.minutes===f)return!0;return!1});if(-1!==M)return x[M]}return function bt(n,e,t){const i=(0,a.cg1)(n),s=En([i[a.wAp.DayPeriodsFormat],i[a.wAp.DayPeriodsStandalone]],e);return En(s,t)}(e,r,i)[l<12?0:1];case Rt.Eras:return function zt(n,e){return En((0,a.cg1)(n)[a.wAp.Eras],e)}(e,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(r,s,n,e,t,i)}}function ii(n){return function(e,t,i){const r=-1*i,s=St(t,ue.MinusSign),l=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case Pt.Short:return(r>=0?"+":"")+fi(l,2,s)+fi(Math.abs(r%60),2,s);case Pt.ShortGMT:return"GMT"+(r>=0?"+":"")+fi(l,1,s);case Pt.Long:return"GMT"+(r>=0?"+":"")+fi(l,2,s)+":"+fi(Math.abs(r%60),2,s);case Pt.Extended:return 0===i?"Z":(r>=0?"+":"")+fi(l,2,s)+":"+fi(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}function Vt(n){return ui(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function Nt(n,e=!1){return function(t,i){let r;if(e){const s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,l=t.getDate();r=1+Math.floor((l+s)/7)}else{const s=Vt(t),l=function st(n){const e=ui(n,0,1).getDay();return ui(n,0,1+(e<=4?4:11)-e)}(s.getFullYear()),f=s.getTime()-l.getTime();r=1+Math.round(f/6048e5)}return fi(r,n,St(i,ue.MinusSign))}}function an(n,e=!1){return function(t,i){return fi(Vt(t).getFullYear(),n,St(i,ue.MinusSign),e)}}const K={};function J(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Le(n){return n instanceof Date&&!isNaN(n.valueOf())}const dt=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function ic(n,e,t,i,r){const l=function wa(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(";"),r=i[0],s=i[1],l=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],f=l[0],p=l[1]||"";t.posPre=f.substring(0,f.indexOf("#"));for(let x=0;x<p.length;x++){const M=p.charAt(x);"0"===M?t.minFrac=t.maxFrac=x+1:"#"===M?t.maxFrac=x+1:t.posSuf+=M}const _=f.split(",");if(t.gSize=_[1]?_[1].length:0,t.lgSize=_[2]||_[1]?(_[2]||_[1]).length:0,s){const x=r.length-t.posPre.length-t.posSuf.length,M=s.indexOf("#");t.negPre=s.substring(0,M).replace(/'/g,""),t.negSuf=s.slice(M+x).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function Yr(n,e){return(0,a.cg1)(n)[a.wAp.NumberFormats][e]}(e,pe.Currency),St(e,ue.MinusSign));return l.minFrac=function ji(n){let e;const t=re[n];return t&&(e=t[2]),"number"==typeof e?e:2}(i),l.maxFrac=l.minFrac,function Ca(n,e,t,i,r,s,l=!1){let f="",p=!1;if(isFinite(n)){let _=function sc(n){let i,r,s,l,f,e=Math.abs(n)+"",t=0;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(s=e.search(/e/i))>0?(r<0&&(r=s),r+=+e.slice(s+1),e=e.substring(0,s)):r<0&&(r=e.length),s=0;"0"===e.charAt(s);s++);if(s===(f=e.length))i=[0],r=1;else{for(f--;"0"===e.charAt(f);)f--;for(r-=s,i=[],l=0;s<=f;s++,l++)i[l]=Number(e.charAt(s))}return r>22&&(i=i.splice(0,21),t=r-1,r=1),{digits:i,exponent:t,integerLen:r}}(n);l&&(_=function pl(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(_));let x=e.minInt,M=e.minFrac,I=e.maxFrac;if(s){const Fe=s.match(dt);if(null===Fe)throw new Error(`${s} is not a valid digit info`);const Ge=Fe[1],Ze=Fe[3],ht=Fe[5];null!=Ge&&(x=Ma(Ge)),null!=Ze&&(M=Ma(Ze)),null!=ht?I=Ma(ht):null!=Ze&&M>I&&(I=M)}!function K2(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let i=n.digits,r=i.length-n.integerLen;const s=Math.min(Math.max(e,r),t);let l=s+n.integerLen,f=i[l];if(l>0){i.splice(Math.max(n.integerLen,l));for(let M=l;M<i.length;M++)i[M]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,l=s+1),i[0]=0;for(let M=1;M<l;M++)i[M]=0}if(f>=5)if(l-1<0){for(let M=0;M>l;M--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[l-1]++;for(;r<Math.max(0,s);r++)i.push(0);let p=0!==s;const _=e+n.integerLen,x=i.reduceRight(function(M,I,H,P){return P[H]=(I+=M)<10?I:I-10,p&&(0===P[H]&&H>=_?P.pop():p=!1),I>=10?1:0},0);x&&(i.unshift(x),n.integerLen++)}(_,M,I);let H=_.digits,P=_.integerLen;const q=_.exponent;let se=[];for(p=H.every(Fe=>!Fe);P<x;P++)H.unshift(0);for(;P<0;P++)H.unshift(0);P>0?se=H.splice(P,H.length):(se=H,H=[0]);const De=[];for(H.length>=e.lgSize&&De.unshift(H.splice(-e.lgSize,H.length).join(""));H.length>e.gSize;)De.unshift(H.splice(-e.gSize,H.length).join(""));H.length&&De.unshift(H.join("")),f=De.join(St(t,i)),se.length&&(f+=St(t,r)+se.join("")),q&&(f+=St(t,ue.Exponential)+"+"+q)}else f=St(t,ue.Infinity);return f=n<0&&!p?e.negPre+f+e.negSuf:e.posPre+f+e.posSuf,f}(n,l,e,ue.CurrencyGroup,ue.CurrencyDecimal,r).replace("\xa4",t).replace("\xa4","").trim()}function Ma(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}function tr(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}let xi=(()=>{class n{constructor(t,i,r,s){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,a.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,a.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),t.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!0)):Object.keys(t).forEach(i=>this._toggleClass(i,!!t[i])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!1)):Object.keys(t).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(t,i){(t=t.trim())&&t.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.ZZ4),a.Y36(a.aQg),a.Y36(a.SBq),a.Y36(a.Qsj))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class ki{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let bi=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,s,l)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new ki(r.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)i.remove(null===s?void 0:s);else if(null!==s){const f=i.get(s);i.move(f,l),Yn(f,r)}});for(let r=0,s=i.length;r<s;r++){const f=i.get(r).context;f.index=r,f.count=s,f.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{Yn(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Yn(n,e){n.context.$implicit=e.item}let dn=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new u2,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Ms("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Ms("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class u2{constructor(){this.$implicit=null,this.ngIf=null}}function Ms(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,a.AaK)(e)}'.`)}class Yt{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Bs=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),ko=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new Yt(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(Bs,9))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),Tr=(()=>{class n{constructor(t,i,r){this._ngEl=t,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,i){const[r,s]=t.split("."),l=-1===r.indexOf("-")?void 0:a.JOm.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${i}${s}`:i,l):this._renderer.removeStyle(this._ngEl.nativeElement,r,l)}_applyChanges(t){t.forEachRemovedItem(i=>this._setStyle(i.key,null)),t.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.aQg),a.Y36(a.Qsj))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),Gi=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:s,ngTemplateOutletInjector:l}=this;this._viewRef=i.createEmbeddedView(r,s,l?{injector:l}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[a.TTD]}),n})();function mr(n,e){return new a.vHH(2100,!1)}let Hi=(()=>{class n{transform(t){if(null==t)return null;if("string"!=typeof t)throw mr();return t.toUpperCase()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=a.Yjl({name:"uppercase",type:n,pure:!0,standalone:!0}),n})();const Wi=new a.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),zi=new a.OlP("DATE_PIPE_DEFAULT_OPTIONS");let d2=(()=>{class n{constructor(t,i,r){this.locale=t,this.defaultTimezone=i,this.defaultOptions=r}transform(t,i,r,s){if(null==t||""===t||t!=t)return null;try{return An(t,i??this.defaultOptions?.dateFormat??"mediumDate",s||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(l){throw mr()}}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.soG,16),a.Y36(Wi,24),a.Y36(zi,24))},n.\u0275pipe=a.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),X2=(()=>{class n{constructor(t,i="USD"){this._locale=t,this._defaultCurrencyCode=i}transform(t,i=this._defaultCurrencyCode,r="symbol",s,l){if(!function ml(n){return!(null==n||""===n||n!=n)}(t))return null;l=l||this._locale,"boolean"==typeof r&&(r=r?"symbol":"code");let f=i||this._defaultCurrencyCode;"code"!==r&&(f="symbol"===r||"symbol-narrow"===r?function ct(n,e,t="en"){const i=function fs(n){return(0,a.cg1)(n)[a.wAp.Currencies]}(t)[n]||re[n]||[],r=i[1];return"narrow"===e&&"string"==typeof r?r:i[0]||n}(f,"symbol"===r?"wide":"narrow",l):r);try{return ic(function zo(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),l,f,i,s)}catch(p){throw mr()}}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.soG,16),a.Y36(a.EJc,16))},n.\u0275pipe=a.Yjl({name:"currency",type:n,pure:!0,standalone:!0}),n})();let hs=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const gl="browser";let Da=(()=>{class n{}return n.\u0275prov=(0,a.Yz7)({token:n,providedIn:"root",factory:()=>new n1((0,a.LFG)(ce),window)}),n})();class n1{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function r1(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const l=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(l)return l}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Xr(this.window.history)||Xr(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Xr(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Po{}class Dl extends ye{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class vc extends Dl{static makeCurrent(){!function de(n){$||($=n)}(new vc)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Gs(){return Kn=Kn||document.querySelector("base"),Kn?Kn.getAttribute("href"):null}();return null==t?null:function b2(n){Cn=Cn||document.createElement("a"),Cn.setAttribute("href",n);const e=Cn.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Kn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return tr(document.cookie,e)}}let Cn,Kn=null;const C2=new a.OlP("TRANSITION_ID"),A4=[{provide:a.ip1,useFactory:function Tl(n,e,t){return()=>{t.get(a.CZH).donePromise.then(()=>{const i=N(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[C2,ce,a.zs3],multi:!0}];let Mf=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const si=new a.OlP("EventManagerPlugins");let ka=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const l=r[s];if(l.supports(t))return this._eventNameToPlugin.set(t,l),l}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(si),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class Bo{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=N().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let p1=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Uo=(()=>{class n extends p1{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(s=>{const l=this._doc.createElement("style");l.textContent=s,r.push(i.appendChild(l))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(Ha),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Ha))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ce))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function Ha(n){N().remove(n)}const Ls={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Dn=/%COMP%/g;function m1(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?m1(n,r,t):(r=r.replace(Dn,n),t.push(r))}return t}function yc(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let po=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new mo(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case a.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new Go(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case a.ifc.ShadowDom:return new M2(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=m1(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ka),a.LFG(Uo),a.LFG(a.AFp))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class mo{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Ls[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){($o(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&($o(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=Ls[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=Ls[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(a.JOm.DashCase|a.JOm.Important)?e.style.setProperty(t,i,r&a.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&a.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,yc(i)):this.eventManager.addEventListener(e,t,yc(i))}}function $o(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Go extends mo{constructor(e,t,i,r){super(e),this.component=i;const s=m1(r+"-"+i.id,i.styles,[]);t.addStyles(s),this.contentAttr=function L4(n){return"_ngcontent-%COMP%".replace(Dn,n)}(r+"-"+i.id),this.hostAttr=function k4(n){return"_nghost-%COMP%".replace(Dn,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class M2 extends mo{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=m1(r.id,r.styles,[]);for(let l=0;l<s.length;l++){const f=document.createElement("style");f.textContent=s[l],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Ra=(()=>{class n extends Bo{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ce))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const go=["alt","control","meta","shift"],Wo={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},H4={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let bc=(()=>{class n extends Bo{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),l=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(t,s.domEventName,l))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let l="",f=i.indexOf("code");if(f>-1&&(i.splice(f,1),l="code."),go.forEach(_=>{const x=i.indexOf(_);x>-1&&(i.splice(x,1),l+=_+".")}),l+=s,0!=i.length||0===s.length)return null;const p={};return p.domEventName=r,p.fullKey=l,p}static matchEventFullKeyCode(t,i){let r=Wo[t.key]||t.key,s="";return i.indexOf("code.")>-1&&(r=t.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),go.forEach(l=>{l!==r&&(0,H4[l])(t)&&(s+=l+".")}),s+=r,s===i)}static eventCallback(t,i,r){return s=>{n.matchEventFullKeyCode(s,t)&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ce))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Al=(0,a.eFA)(a._c5,"browser",[{provide:a.Lbi,useValue:gl},{provide:a.g9A,useValue:function kr(){vc.makeCurrent()},multi:!0},{provide:ce,useFactory:function Pa(){return(0,a.RDi)(document),document},deps:[]}]),v1=new a.OlP(""),gr=[{provide:a.rWj,useClass:class V4{addToWindow(e){a.dqk.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},a.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),a.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),a.dqk.frameworkStabilizers||(a.dqk.frameworkStabilizers=[]),a.dqk.frameworkStabilizers.push(i=>{const r=a.dqk.getAllAngularTestabilities();let s=r.length,l=!1;const f=function(p){l=l||p,s--,0==s&&i(l)};r.forEach(function(p){p.whenStable(f)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?N().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:a.lri,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]},{provide:a.dDg,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]}],S2=[{provide:a.zSh,useValue:"root"},{provide:a.qLn,useFactory:function _1(){return new a.qLn},deps:[]},{provide:si,useClass:Ra,multi:!0,deps:[ce,a.R0b,a.Lbi]},{provide:si,useClass:bc,multi:!0,deps:[ce]},{provide:po,useClass:po,deps:[ka,Uo,a.AFp]},{provide:a.FYo,useExisting:po},{provide:p1,useExisting:Uo},{provide:Uo,useClass:Uo,deps:[ce]},{provide:ka,useClass:ka,deps:[si,a.R0b]},{provide:Po,useClass:Mf,deps:[]},[]];let Vl=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:a.AFp,useValue:t.appId},{provide:C2,useExisting:a.AFp},A4]}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(v1,12))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[...S2,...gr],imports:[hs,a.hGG]}),n})(),Sc=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ce))},n.\u0275prov=a.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function z4(){return new Sc((0,a.LFG)(ce))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let D2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):a.LFG(Ba),i},providedIn:"root"}),n})(),Ba=(()=>{class n extends D2{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case a.q3G.NONE:return i;case a.q3G.HTML:return(0,a.qzn)(i,"HTML")?(0,a.z3N)(i):(0,a.EiD)(this._doc,String(i)).toString();case a.q3G.STYLE:return(0,a.qzn)(i,"Style")?(0,a.z3N)(i):i;case a.q3G.SCRIPT:if((0,a.qzn)(i,"Script"))return(0,a.z3N)(i);throw new Error("unsafe value used in a script context");case a.q3G.URL:return(0,a.qzn)(i,"URL")?(0,a.z3N)(i):(0,a.mCW)(String(i));case a.q3G.RESOURCE_URL:if((0,a.qzn)(i,"ResourceURL"))return(0,a.z3N)(i);throw new Error(`unsafe value used in a resource URL context (see ${a.JZr})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${a.JZr})`)}}bypassSecurityTrustHtml(t){return(0,a.JVY)(t)}bypassSecurityTrustStyle(t){return(0,a.L6k)(t)}bypassSecurityTrustScript(t){return(0,a.eBb)(t)}bypassSecurityTrustUrl(t){return(0,a.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,a.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ce))},n.\u0275prov=a.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function Fn(n){return new Ba(n.get(ce))}(a.LFG(a.zs3)),i},providedIn:"root"}),n})();var di=O(8996),xo=O(3269);function Qe(...n){const e=(0,xo.yG)(n);return(0,di.D)(n,e)}var Qt=O(7579);class Qn extends Qt.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}const Zs=(0,O(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var hi=O(9751);const{isArray:Tc}=Array,{getPrototypeOf:Ks,prototype:Vf,keys:Ko}=Object;function Ic(n){if(1===n.length){const e=n[0];if(Tc(e))return{args:e,keys:null};if(function Hr(n){return n&&"object"==typeof n&&Ks(n)===Vf}(e)){const t=Ko(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var Qs=O(4671),ut=O(4004);const{isArray:Hl}=Array;function E(n){return(0,ut.U)(e=>function zl(n,e){return Hl(e)?n(...e):n(e)}(n,e))}function D(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}var V=O(5403),G=O(9672);function ie(...n){const e=(0,xo.yG)(n),t=(0,xo.jO)(n),{args:i,keys:r}=Ic(n);if(0===i.length)return(0,di.D)([],e);const s=new hi.y(function fe(n,e,t=Qs.y){return i=>{He(e,()=>{const{length:r}=n,s=new Array(r);let l=r,f=r;for(let p=0;p<r;p++)He(e,()=>{const _=(0,di.D)(n[p],e);let x=!1;_.subscribe((0,V.x)(i,M=>{s[p]=M,x||(x=!0,f--),f||i.next(t(s.slice()))},()=>{--l||i.complete()}))},i)},i)}}(i,e,r?l=>D(r,l):Qs.y));return t?s.pipe(E(t)):s}function He(n,e,t){n?(0,G.f)(t,n,e):e()}var nt=O(8189);function gt(...n){return function mt(){return(0,nt.J)(1)}()((0,di.D)(n,(0,xo.yG)(n)))}var Ut=O(8421);function Ht(n){return new hi.y(e=>{(0,Ut.Xf)(n()).subscribe(e)})}var zr=O(9635),wn=O(576);function _r(n,e){const t=(0,wn.m)(n)?n:()=>n,i=r=>r.error(t());return new hi.y(e?r=>e.schedule(i,0,r):i)}var Nr=O(515),Gn=O(727),vn=O(4482);function Hs(){return(0,vn.e)((n,e)=>{let t=null;n._refCount++;const i=(0,V.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class bo extends hi.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,vn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Gn.w0;const t=this.getSubject();e.add(this.source.subscribe((0,V.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Gn.w0.EMPTY)}return e}refCount(){return Hs()(this)}}function Xn(n,e){return(0,vn.e)((t,i)=>{let r=null,s=0,l=!1;const f=()=>l&&!r&&i.complete();t.subscribe((0,V.x)(i,p=>{r?.unsubscribe();let _=0;const x=s++;(0,Ut.Xf)(n(p,x)).subscribe(r=(0,V.x)(i,M=>i.next(e?e(p,M,x,_++):M),()=>{r=null,f()}))},()=>{l=!0,f()}))})}function Rr(n){return n<=0?()=>Nr.E:(0,vn.e)((e,t)=>{let i=0;e.subscribe((0,V.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function Nl(...n){const e=(0,xo.yG)(n);return(0,vn.e)((t,i)=>{(e?gt(n,t,e):gt(n,t)).subscribe(i)})}function es(n,e){return(0,vn.e)((t,i)=>{let r=0;t.subscribe((0,V.x)(i,s=>n.call(e,s,r++)&&i.next(s)))})}var ir=O(5577);function O4(n){return(0,vn.e)((e,t)=>{let i=!1;e.subscribe((0,V.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function Ac(n=Zh){return(0,vn.e)((e,t)=>{let i=!1;e.subscribe((0,V.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function Zh(){return new Zs}function Qo(n,e){const t=arguments.length>=2;return i=>i.pipe(n?es((r,s)=>n(r,s,i)):Qs.y,Rr(1),t?O4(e):Ac(()=>new Zs))}function Xs(n,e){return(0,wn.m)(e)?(0,ir.z)(n,e,1):(0,ir.z)(n,1)}var Mi=O(8505);function Xo(n){return(0,vn.e)((e,t)=>{let s,i=null,r=!1;i=e.subscribe((0,V.x)(t,void 0,void 0,l=>{s=(0,Ut.Xf)(n(l,Xo(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function Lf(n,e,t,i,r){return(s,l)=>{let f=t,p=e,_=0;s.subscribe((0,V.x)(l,x=>{const M=_++;p=f?n(p,x,M):(f=!0,x),i&&l.next(p)},r&&(()=>{f&&l.next(p),l.complete()})))}}function F4(n,e){return(0,vn.e)(Lf(n,e,arguments.length>=2,!0))}function Rl(n){return n<=0?()=>Nr.E:(0,vn.e)((e,t)=>{let i=[];e.subscribe((0,V.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function B4(n,e){const t=arguments.length>=2;return i=>i.pipe(n?es((r,s)=>n(r,s,i)):Qs.y,Rl(1),t?O4(e):Ac(()=>new Zs))}function w1(n){return(0,vn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const cn="primary",Pl=Symbol("RouteTitle");class Ol{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Vc(n){return new Ol(n)}function Em(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const l=i[s],f=n[s];if(l.startsWith(":"))r[l.substring(1)]=f;else if(l!==f.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Jo(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!U4(n[r],e[r]))return!1;return!0}function U4(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}return n===e}function kf(n){return Array.prototype.concat.apply([],n)}function Lc(n){return n.length>0?n[n.length-1]:null}function Ri(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ea(n){return(0,a.CqO)(n)?n:(0,a.QGY)(n)?(0,di.D)(Promise.resolve(n)):Qe(n)}const T2=!1,Co={exact:function G4(n,e,t){if(!v(n.segments,e.segments)||!kc(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!G4(n.children[i],e.children[i],t))return!1;return!0},subset:zf},j4={exact:function Xh(n,e){return Jo(n,e)},subset:function W4(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>U4(n[t],e[t]))},ignored:()=>!0};function $4(n,e,t){return Co[t.paths](n.root,e.root,t.matrixParams)&&j4[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function zf(n,e,t){return Nf(n,e,e.segments,t)}function Nf(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!v(r,t)||e.hasChildren()||!kc(r,t,i))}if(n.segments.length===t.length){if(!v(n.segments,t)||!kc(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!zf(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(v(n.segments,r)&&kc(n.segments,r,i)&&n.children[cn])&&Nf(n.children[cn],e,s,i)}}function kc(n,e,t){return e.every((i,r)=>j4[t](n[r].parameters,i.parameters))}class Ua{constructor(e=new ln([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Vc(this.queryParams)),this._queryParamMap}toString(){return oe.serialize(this)}}class ln{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Ri(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ie(this)}}class b{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Vc(this.parameters)),this._parameterMap}toString(){return q4(this)}}function v(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let L=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return new R},providedIn:"root"}),n})();class R{parse(e){const t=new Jh(e);return new Ua(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${it(e.root,!0)}`,i=function Fl(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${Zt(t)}=${Zt(r)}`).join("&"):`${Zt(t)}=${Zt(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function Wn(n){return encodeURI(n)}(e.fragment)}`:""}`}}const oe=new R;function Ie(n){return n.segments.map(e=>q4(e)).join("/")}function it(n,e){if(!n.hasChildren())return Ie(n);if(e){const t=n.children[cn]?it(n.children[cn],!1):"",i=[];return Ri(n.children,(r,s)=>{s!==cn&&i.push(`${s}:${it(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function w(n,e){let t=[];return Ri(n.children,(i,r)=>{r===cn&&(t=t.concat(e(i,r)))}),Ri(n.children,(i,r)=>{r!==cn&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===cn?[it(n.children[cn],!1)]:[`${r}:${it(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[cn]?`${Ie(n)}/${t[0]}`:`${Ie(n)}/(${t.join("//")})`}}function Et(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zt(n){return Et(n).replace(/%3B/gi,";")}function gs(n){return Et(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Js(n){return decodeURIComponent(n)}function M1(n){return Js(n.replace(/\+/g,"%20"))}function q4(n){return`${gs(n.path)}${function Y4(n){return Object.keys(n).map(e=>`;${gs(e)}=${gs(n[e])}`).join("")}(n.parameters)}`}const Bl=/^[^\/()?;=#]+/;function S1(n){const e=n.match(Bl);return e?e[0]:""}const Z4=/^[^=?&#]+/,I2=/^[^&#]+/;class Jh{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ln([],{}):new ln([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[cn]=new ln(e,t)),i}parseSegment(){const e=S1(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new a.vHH(4009,T2);return this.capture(e),new b(Js(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=S1(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=S1(this.remaining);r&&(i=r,this.capture(i))}e[Js(t)]=Js(i)}parseQueryParam(e){const t=function Rf(n){const e=n.match(Z4);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const l=function Pf(n){const e=n.match(I2);return e?e[0]:""}(this.remaining);l&&(i=l,this.capture(i))}const r=M1(t),s=M1(i);if(e.hasOwnProperty(r)){let l=e[r];Array.isArray(l)||(l=[l],e[r]=l),l.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=S1(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new a.vHH(4010,T2);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=cn);const l=this.parseChildren();t[s]=1===Object.keys(l).length?l[cn]:new ln([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new a.vHH(4011,T2)}}function A2(n){return n.segments.length>0?new ln([],{[cn]:n}):n}function E1(n){const e={};for(const i of Object.keys(n.children)){const s=E1(n.children[i]);(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function Tm(n){if(1===n.numberOfChildren&&n.children[cn]){const e=n.children[cn];return new ln(n.segments.concat(e.segments),e.children)}return n}(new ln(n.segments,e))}function Ul(n){return n instanceof Ua}function e8(n,e,t,i,r){if(0===t.length)return jl(e.root,e.root,e.root,i,r);const s=function km(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Lm(!0,0,n);let e=0,t=!1;const i=n.reduce((r,s,l)=>{if("object"==typeof s&&null!=s){if(s.outlets){const f={};return Ri(s.outlets,(p,_)=>{f[_]="string"==typeof p?p.split("/"):p}),[...r,{outlets:f}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===l?(s.split("/").forEach((f,p)=>{0==p&&"."===f||(0==p&&""===f?t=!0:".."===f?e++:""!=f&&r.push(f))}),r):[...r,s]},[]);return new Lm(t,e,i)}(t);return s.toRoot()?jl(e.root,e.root,new ln([],{}),i,r):function l(p){const _=function Hm(n,e,t,i){if(n.isAbsolute)return new Hc(e.root,!0,0);if(-1===i)return new Hc(t,t===e.root,0);return function Of(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new a.vHH(4005,!1);r=i.segments.length}return new Hc(i,!1,r-s)}(t,i+(K4(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,p),x=_.processChildren?$l(_.segmentGroup,_.index,s.commands):n8(_.segmentGroup,_.index,s.commands);return jl(e.root,_.segmentGroup,x,i,r)}(n.snapshot?._lastPathIndex)}function K4(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Q4(n){return"object"==typeof n&&null!=n&&n.outlets}function jl(n,e,t,i,r){let l,s={};i&&Ri(i,(p,_)=>{s[_]=Array.isArray(p)?p.map(x=>`${x}`):`${p}`}),l=n===e?t:Vm(n,e,t);const f=A2(E1(l));return new Ua(f,s,r)}function Vm(n,e,t){const i={};return Ri(n.children,(r,s)=>{i[s]=r===e?t:Vm(r,e,t)}),new ln(n.segments,i)}class Lm{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&K4(i[0]))throw new a.vHH(4003,!1);const r=i.find(Q4);if(r&&r!==Lc(i))throw new a.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Hc{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function n8(n,e,t){if(n||(n=new ln([],{})),0===n.segments.length&&n.hasChildren())return $l(n,e,t);const i=function zm(n,e,t){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;const l=n.segments[r],f=t[i];if(Q4(f))break;const p=`${f}`,_=i<t.length-1?t[i+1]:null;if(r>0&&void 0===p)break;if(p&&_&&"object"==typeof _&&void 0===_.outlets){if(!Rm(p,_,l))return s;i+=2}else{if(!Rm(p,{},l))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new ln(n.segments.slice(0,i.pathIndex),{});return s.children[cn]=new ln(n.segments.slice(i.pathIndex),n.children),$l(s,0,r)}return i.match&&0===r.length?new ln(n.segments,{}):i.match&&!n.hasChildren()?V2(n,e,t):i.match?$l(n,0,r):V2(n,e,t)}function $l(n,e,t){if(0===t.length)return new ln(n.segments,{});{const i=function iC(n){return Q4(n[0])?n[0].outlets:{[cn]:n}}(t),r={};return Ri(i,(s,l)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[l]=n8(n.children[l],e,s))}),Ri(n.children,(s,l)=>{void 0===i[l]&&(r[l]=s)}),new ln(n.segments,r)}}function V2(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(Q4(s)){const p=Nm(s.outlets);return new ln(i,p)}if(0===r&&K4(t[0])){i.push(new b(n.segments[e].path,i8(t[0]))),r++;continue}const l=Q4(s)?s.outlets[cn]:`${s}`,f=r<t.length-1?t[r+1]:null;l&&f&&K4(f)?(i.push(new b(l,i8(f))),r+=2):(i.push(new b(l,{})),r++)}return new ln(i,{})}function Nm(n){const e={};return Ri(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=V2(new ln([],{}),0,t))}),e}function i8(n){const e={};return Ri(n,(t,i)=>e[i]=`${t}`),e}function Rm(n,e,t){return n==t.path&&Jo(e,t.parameters)}class T1{constructor(e,t){this.id=e,this.url=t}}class Gl extends T1{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class zc extends T1{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class X4 extends T1{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class r8 extends T1{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Pm extends T1{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class s8 extends T1{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Om extends T1{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ff extends T1{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bf extends T1{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fm{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class o8{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class a8{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class c8{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class J4{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rC{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class l8{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Bm{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=u8(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=u8(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Uf(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Uf(e,this._root).map(t=>t.value)}}function u8(n,e){if(n===e.value)return e;for(const t of e.children){const i=u8(n,t);if(i)return i}return null}function Uf(n,e){if(n===e.value)return[e];for(const t of e.children){const i=Uf(n,t);if(i.length)return i.unshift(e),i}return[]}class ja{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function L2(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class jf extends Bm{constructor(e,t){super(e),this.snapshot=t,$f(this,e)}toString(){return this.snapshot.toString()}}function I1(n,e){const t=function oC(n,e){const l=new Wl([],{},{},"",{},cn,e,null,n.root,-1,{});return new Um("",new ja(l,[]))}(n,e),i=new Qn([new b("",{})]),r=new Qn({}),s=new Qn({}),l=new Qn({}),f=new Qn(""),p=new A1(i,r,l,f,s,cn,e,t.root);return p.snapshot=t.root,new jf(new ja(p,[]),t)}class A1{constructor(e,t,i,r,s,l,f,p){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=l,this.component=f,this.title=this.data?.pipe((0,ut.U)(_=>_[Pl]))??Qe(void 0),this._futureSnapshot=p}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ut.U)(e=>Vc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ut.U)(e=>Vc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function aC(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],s=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function cC(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class Wl{constructor(e,t,i,r,s,l,f,p,_,x,M){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=l,this.component=f,this.routeConfig=p,this._urlSegment=_,this._lastPathIndex=x,this._resolve=M}get title(){return this.data?.[Pl]}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Vc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Vc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Um extends Bm{constructor(e,t){super(t),this.url=e,$f(this,t)}toString(){return eu(this._root)}}function $f(n,e){e.value._routerState=n,e.children.forEach(t=>$f(n,t))}function eu(n){const e=n.children.length>0?` { ${n.children.map(eu).join(", ")} } `:"";return`${n.value}${e}`}function tu(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Jo(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Jo(e.params,t.params)||n.params.next(t.params),function Dm(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Jo(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Jo(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Gf(n,e){const t=Jo(n.params,e.params)&&function g(n,e){return v(n,e)&&n.every((t,i)=>Jo(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Gf(n.parent,e.parent))}function ql(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function Nc(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return ql(n,i,r);return ql(n,i)})}(n,e,t);return new ja(i,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const l=s.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(f=>ql(n,f)),l}}const i=function lC(n){return new A1(new Qn(n.url),new Qn(n.params),new Qn(n.queryParams),new Qn(n.fragment),new Qn(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>ql(n,s));return new ja(i,r)}}const f8="ngNavigationCancelingError";function $m(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=Ul(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=Gm(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function Gm(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[f8]=!0,i.cancellationCode=e,t&&(i.url=t),i}function Wm(n){return $a(n)&&Ul(n.url)}function $a(n){return n&&n[f8]}class Yl{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new nu,this.attachRef=null}}let nu=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new Yl,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Wf=!1;let qf=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=cn,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.parentContexts=(0,a.f3M)(nu),this.location=(0,a.f3M)(a.s_b),this.changeDetector=(0,a.f3M)(a.sBO),this.environmentInjector=(0,a.f3M)(a.lqb)}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new a.vHH(4012,Wf);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new a.vHH(4012,Wf);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new a.vHH(4012,Wf);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new a.vHH(4013,Wf);this._activatedRoute=t;const r=this.location,l=t.snapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,p=new uC(t,f,r.injector);if(i&&function fC(n){return!!n.resolveComponentFactory}(i)){const _=i.resolveComponentFactory(l);this.activated=r.createComponent(_,r.length,p)}else this.activated=r.createComponent(l,{index:r.length,injector:p,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[a.TTD]}),n})();class uC{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===A1?this.route:e===nu?this.childContexts:this.parent.get(e,t)}}let d8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[a.jDz],decls:1,vars:0,template:function(t,i){1&t&&a._UZ(0,"router-outlet")},dependencies:[qf],encapsulation:2}),n})();function h8(n,e){return n.providers&&!n._injector&&(n._injector=(0,a.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Yf(n){const e=n.children&&n.children.map(Yf),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==cn&&(t.component=d8),t}function eo(n){return n.outlet||cn}function dC(n,e){const t=n.filter(i=>eo(i)===e);return t.push(...n.filter(i=>eo(i)!==e)),t}function Zf(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class p8{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),tu(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=L2(t);e.children.forEach(s=>{const l=s.value.outlet;this.deactivateRoutes(s,r[l],i),delete r[l]}),Ri(r,(s,l)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const l=i.getContext(r.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=L2(e);for(const l of Object.keys(s))this.deactivateRouteAndItsChildren(s[l],r);if(i&&i.outlet){const l=i.outlet.detach(),f=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=L2(e);for(const l of Object.keys(s))this.deactivateRouteAndItsChildren(s[l],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=L2(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new rC(s.value.snapshot))}),e.children.length&&this.forwardEvent(new c8(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(tu(r),r===s)if(r.component){const l=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const l=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const f=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),l.children.onOutletReAttached(f.contexts),l.attachRef=f.componentRef,l.route=f.route.value,l.outlet&&l.outlet.attach(f.componentRef,f.route.value),tu(f.route.value),this.activateChildRoutes(e,null,l.children)}else{const f=Zf(r.snapshot),p=f?.get(a._Vd)??null;l.attachRef=null,l.route=r,l.resolver=p,l.injector=f,l.outlet&&l.outlet.activateWith(r,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,i)}}class Kf{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class m8{constructor(e,t){this.component=e,this.route=t}}function zV(n,e,t){const i=n._root;return ru(i,e?e._root:null,t,[i.value])}function Kl(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,a.Z0I)(n)?e.get(n):n:i}function ru(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=L2(e);return n.children.forEach(l=>{(function hC(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,l=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(l&&s.routeConfig===l.routeConfig){const p=function pC(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!v(n.url,e.url);case"pathParamsOrQueryParamsChange":return!v(n.url,e.url)||!Jo(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Gf(n,e)||!Jo(n.queryParams,e.queryParams);default:return!Gf(n,e)}}(l,s,s.routeConfig.runGuardsAndResolvers);p?r.canActivateChecks.push(new Kf(i)):(s.data=l.data,s._resolvedData=l._resolvedData),ru(n,e,s.component?f?f.children:null:t,i,r),p&&f&&f.outlet&&f.outlet.isActivated&&r.canDeactivateChecks.push(new m8(f.outlet.component,l))}else l&&Ql(e,f,r),r.canActivateChecks.push(new Kf(i)),ru(n,null,s.component?f?f.children:null:t,i,r)})(l,s[l.value.outlet],t,i.concat([l.value]),r),delete s[l.value.outlet]}),Ri(s,(l,f)=>Ql(l,t.getContext(f),r)),r}function Ql(n,e,t){const i=L2(n),r=n.value;Ri(i,(s,l)=>{Ql(s,r.component?e?e.children.getContext(l):null:e,t)}),t.canDeactivateChecks.push(new m8(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function V1(n){return"function"==typeof n}function _8(n){return n instanceof Zs||"EmptyError"===n?.name}const Qf=Symbol("INITIAL_VALUE");function Xl(){return Xn(n=>ie(n.map(e=>e.pipe(Rr(1),Nl(Qf)))).pipe((0,ut.U)(e=>{for(const t of e)if(!0!==t){if(t===Qf)return Qf;if(!1===t||t instanceof Ua)return t}return!0}),es(e=>e!==Qf),Rr(1)))}function i9(n){return(0,zr.z)((0,Mi.b)(e=>{if(Ul(e))throw $m(0,e)}),(0,ut.U)(e=>!0===e))}const Xf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function y8(n,e,t,i,r){const s=ou(n,e,t);return s.matched?function vC(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?Qe(r.map(l=>{const f=Kl(l,n);return ea(function gC(n){return n&&V1(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))})).pipe(Xl(),i9()):Qe(!0)}(i=h8(e,i),e,t).pipe((0,ut.U)(l=>!0===l?s:{...Xf})):Qe(s)}function ou(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Xf}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||Em)(t,n,e);if(!r)return{...Xf};const s={};Ri(r.posParams,(f,p)=>{s[p]=f.path});const l=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:l,positionalParamSegments:r.posParams??{}}}function x8(n,e,t,i){if(t.length>0&&function C8(n,e,t){return t.some(i=>au(n,e,i)&&eo(i)!==cn)}(n,t,i)){const s=new ln(e,function yC(n,e,t,i){const r={};r[cn]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&eo(s)!==cn){const l=new ln([],{});l._sourceSegment=n,l._segmentIndexShift=e.length,r[eo(s)]=l}return r}(n,e,i,new ln(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function r9(n,e,t){return t.some(i=>au(n,e,i))}(n,t,i)){const s=new ln(n.segments,function b8(n,e,t,i,r){const s={};for(const l of i)if(au(n,t,l)&&!r[eo(l)]){const f=new ln([],{});f._sourceSegment=n,f._segmentIndexShift=e.length,s[eo(l)]=f}return{...r,...s}}(n,e,t,i,n.children));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const r=new ln(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:t}}function au(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function L1(n,e,t,i){return!!(eo(n)===i||i!==cn&&au(e,t,n))&&("**"===n.path||ou(e,n,t).matched)}function s9(n,e,t){return 0===e.length&&!n.children[t]}const Jl=!1;class Rc{constructor(e){this.segmentGroup=e||null}}class o9{constructor(e){this.urlTree=e}}function Pc(n){return _r(new Rc(n))}function cu(n){return _r(new o9(n))}class xC{constructor(e,t,i,r,s){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0}apply(){const e=x8(this.urlTree.root,[],[],this.config).segmentGroup,t=new ln(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,cn).pipe((0,ut.U)(s=>this.createUrlTree(E1(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Xo(s=>{if(s instanceof o9)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Rc?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,cn).pipe((0,ut.U)(r=>this.createUrlTree(E1(r),e.queryParams,e.fragment))).pipe(Xo(r=>{throw r instanceof Rc?this.noMatchError(r):r}))}noMatchError(e){return new a.vHH(4002,Jl)}createUrlTree(e,t,i){const r=A2(e);return new Ua(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,ut.U)(s=>new ln([],s))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,di.D)(r).pipe(Xs(s=>{const l=i.children[s],f=dC(t,s);return this.expandSegmentGroup(e,f,l,s).pipe((0,ut.U)(p=>({segment:p,outlet:s})))}),F4((s,l)=>(s[l.outlet]=l.segment,s),{}),B4())}expandSegment(e,t,i,r,s,l){return(0,di.D)(i).pipe(Xs(f=>this.expandSegmentAgainstRoute(e,t,i,f,r,s,l).pipe(Xo(_=>{if(_ instanceof Rc)return Qe(null);throw _}))),Qo(f=>!!f),Xo((f,p)=>{if(_8(f))return s9(t,r,s)?Qe(new ln([],{})):Pc(t);throw f}))}expandSegmentAgainstRoute(e,t,i,r,s,l,f){return L1(r,t,s,l)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,s,l):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,l):Pc(t):Pc(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,l){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?cu(s):this.lineralizeSegments(i,s).pipe((0,ir.z)(l=>{const f=new ln(l,{});return this.expandSegment(e,f,t,l,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,l){const{matched:f,consumedSegments:p,remainingSegments:_,positionalParamSegments:x}=ou(t,r,s);if(!f)return Pc(t);const M=this.applyRedirectCommands(p,r.redirectTo,x);return r.redirectTo.startsWith("/")?cu(M):this.lineralizeSegments(r,M).pipe((0,ir.z)(I=>this.expandSegment(e,t,i,I.concat(_),l,!1)))}matchSegmentAgainstRoute(e,t,i,r,s){return"**"===i.path?(e=h8(i,e),i.loadChildren?(i._loadedRoutes?Qe({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe((0,ut.U)(f=>(i._loadedRoutes=f.routes,i._loadedInjector=f.injector,new ln(r,{})))):Qe(new ln(r,{}))):y8(t,i,r,e).pipe(Xn(({matched:l,consumedSegments:f,remainingSegments:p})=>l?this.getChildConfig(e=i._injector??e,i,r).pipe((0,ir.z)(x=>{const M=x.injector??e,I=x.routes,{segmentGroup:H,slicedSegments:P}=x8(t,f,p,I),q=new ln(H.segments,H.children);if(0===P.length&&q.hasChildren())return this.expandChildren(M,I,q).pipe((0,ut.U)(Ge=>new ln(f,Ge)));if(0===I.length&&0===P.length)return Qe(new ln(f,{}));const se=eo(i)===s;return this.expandSegment(M,q,I,P,se?cn:s,!0).pipe((0,ut.U)(Fe=>new ln(f.concat(Fe.segments),Fe.children)))})):Pc(t)))}getChildConfig(e,t,i){return t.children?Qe({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Qe({routes:t._loadedRoutes,injector:t._loadedInjector}):function n9(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?Qe(!0):Qe(r.map(l=>{const f=Kl(l,n);return ea(function g8(n){return n&&V1(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))})).pipe(Xl(),i9())}(e,t,i).pipe((0,ir.z)(r=>r?this.configLoader.loadChildren(e,t).pipe((0,Mi.b)(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function a9(n){return _r(Gm(Jl,3))}())):Qe({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Qe(i);if(r.numberOfChildren>1||!r.children[cn])return _r(new a.vHH(4e3,Jl));r=r.children[cn]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const s=this.createSegmentGroup(e,t.root,i,r);return new Ua(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Ri(e,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const f=r.substring(1);i[s]=t[f]}else i[s]=r}),i}createSegmentGroup(e,t,i,r){const s=this.createSegments(e,t.segments,i,r);let l={};return Ri(t.children,(f,p)=>{l[p]=this.createSegmentGroup(e,f,i,r)}),new ln(s,l)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new a.vHH(4001,Jl);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}class e3{}class MC{constructor(e,t,i,r,s,l,f){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=l,this.urlSerializer=f}recognize(){const e=x8(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,cn).pipe((0,ut.U)(t=>{if(null===t)return null;const i=new Wl([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},cn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new ja(i,t),s=new Um(this.url,r);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,i=aC(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r)}processChildren(e,t,i){return(0,di.D)(Object.keys(i.children)).pipe(Xs(r=>{const s=i.children[r],l=dC(t,r);return this.processSegmentGroup(e,l,s,r)}),F4((r,s)=>r&&s?(r.push(...s),r):null),function Kh(n,e=!1){return(0,vn.e)((t,i)=>{let r=0;t.subscribe((0,V.x)(i,s=>{const l=n(s,r++);(l||e)&&i.next(s),!l&&i.complete()}))})}(r=>null!==r),O4(null),B4(),(0,ut.U)(r=>{if(null===r)return null;const s=l9(r);return function S8(n){n.sort((e,t)=>e.value.outlet===cn?-1:t.value.outlet===cn?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,i,r,s){return(0,di.D)(t).pipe(Xs(l=>this.processSegmentAgainstRoute(l._injector??e,l,i,r,s)),Qo(l=>!!l),Xo(l=>{if(_8(l))return s9(i,r,s)?Qe([]):Qe(null);throw l}))}processSegmentAgainstRoute(e,t,i,r,s){if(t.redirectTo||!L1(t,i,r,s))return Qe(null);let l;if("**"===t.path){const f=r.length>0?Lc(r).parameters:{},p=f9(i)+r.length;l=Qe({snapshot:new Wl(r,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,d9(t),eo(t),t.component??t._loadedComponent??null,t,EC(i),p,Fc(t)),consumedSegments:[],remainingSegments:[]})}else l=y8(i,t,r,e).pipe((0,ut.U)(({matched:f,consumedSegments:p,remainingSegments:_,parameters:x})=>{if(!f)return null;const M=f9(i)+p.length;return{snapshot:new Wl(p,x,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,d9(t),eo(t),t.component??t._loadedComponent??null,t,EC(i),M,Fc(t)),consumedSegments:p,remainingSegments:_}}));return l.pipe(Xn(f=>{if(null===f)return Qe(null);const{snapshot:p,consumedSegments:_,remainingSegments:x}=f;e=t._injector??e;const M=t._loadedInjector??e,I=function SC(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:H,slicedSegments:P}=x8(i,_,x,I.filter(se=>void 0===se.redirectTo));if(0===P.length&&H.hasChildren())return this.processChildren(M,I,H).pipe((0,ut.U)(se=>null===se?null:[new ja(p,se)]));if(0===I.length&&0===P.length)return Qe([new ja(p,[])]);const q=eo(t)===s;return this.processSegment(M,I,H,P,q?cn:s).pipe((0,ut.U)(se=>null===se?null:[new ja(p,se)]))}))}}function c9(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function l9(n){const e=[],t=new Set;for(const i of n){if(!c9(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=l9(i.children);e.push(new ja(i.value,r))}return e.filter(i=>!t.has(i))}function EC(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function f9(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function d9(n){return n.data||{}}function Fc(n){return n.resolve||{}}function p9(n){return"string"==typeof n.title||null===n.title}function ed(n){return Xn(e=>{const t=n(e);return t?(0,di.D)(t).pipe((0,ut.U)(()=>e)):Qe(e)})}class D8{constructor(e){this.router=e,this.currentNavigation=null}setupNavigations(e){const t=this.router.events;return e.pipe(es(i=>0!==i.id),(0,ut.U)(i=>({...i,extractedUrl:this.router.urlHandlingStrategy.extract(i.rawUrl)})),Xn(i=>{let r=!1,s=!1;return Qe(i).pipe((0,Mi.b)(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.router.lastSuccessfulNavigation?{...this.router.lastSuccessfulNavigation,previousNavigation:null}:null}}),Xn(l=>{const f=this.router.browserUrlTree.toString(),p=!this.router.navigated||l.extractedUrl.toString()!==f||f!==this.router.currentUrlTree.toString();if(("reload"===this.router.onSameUrlNavigation||p)&&this.router.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return td(l.source)&&(this.router.browserUrlTree=l.extractedUrl),Qe(l).pipe(Xn(x=>{const M=this.router.transitions.getValue();return t.next(new Gl(x.id,this.router.serializeUrl(x.extractedUrl),x.source,x.restoredState)),M!==this.router.transitions.getValue()?Nr.E:Promise.resolve(x)}),function bC(n,e,t,i){return Xn(r=>function w8(n,e,t,i,r){return new xC(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,ut.U)(s=>({...r,urlAfterRedirects:s}))))}(this.router.ngModule.injector,this.router.configLoader,this.router.urlSerializer,this.router.config),(0,Mi.b)(x=>{this.currentNavigation={...this.currentNavigation,finalUrl:x.urlAfterRedirects},i.urlAfterRedirects=x.urlAfterRedirects}),function lu(n,e,t,i,r){return(0,ir.z)(s=>function wC(n,e,t,i,r,s,l="emptyOnly"){return new MC(n,e,t,i,r,l,s).recognize().pipe(Xn(f=>null===f?function CC(n){return new hi.y(e=>e.error(n))}(new e3):Qe(f)))}(n,e,t,s.urlAfterRedirects,i.serialize(s.urlAfterRedirects),i,r).pipe((0,ut.U)(l=>({...s,targetSnapshot:l}))))}(this.router.ngModule.injector,this.router.rootComponentType,this.router.config,this.router.urlSerializer,this.router.paramsInheritanceStrategy),(0,Mi.b)(x=>{if(i.targetSnapshot=x.targetSnapshot,"eager"===this.router.urlUpdateStrategy){if(!x.extras.skipLocationChange){const I=this.router.urlHandlingStrategy.merge(x.urlAfterRedirects,x.rawUrl);this.router.setBrowserUrl(I,x)}this.router.browserUrlTree=x.urlAfterRedirects}const M=new Pm(x.id,this.router.serializeUrl(x.extractedUrl),this.router.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);t.next(M)}));if(p&&this.router.rawUrlTree&&this.router.urlHandlingStrategy.shouldProcessUrl(this.router.rawUrlTree)){const{id:M,extractedUrl:I,source:H,restoredState:P,extras:q}=l,se=new Gl(M,this.router.serializeUrl(I),H,P);t.next(se);const De=I1(I,this.router.rootComponentType).snapshot;return Qe(i={...l,targetSnapshot:De,urlAfterRedirects:I,extras:{...q,skipLocationChange:!1,replaceUrl:!1}})}return this.router.rawUrlTree=l.rawUrl,l.resolve(null),Nr.E}),(0,Mi.b)(l=>{const f=new s8(l.id,this.router.serializeUrl(l.extractedUrl),this.router.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.router.triggerEvent(f)}),(0,ut.U)(l=>i={...l,guards:zV(l.targetSnapshot,l.currentSnapshot,this.router.rootContexts)}),function _C(n,e){return(0,ir.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:l}}=t;return 0===l.length&&0===s.length?Qe({...t,guardsResult:!0}):function Jm(n,e,t,i){return(0,di.D)(n).pipe((0,ir.z)(r=>function t9(n,e,t,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Qe(s.map(f=>{const p=Zf(e)??r,_=Kl(f,p);return ea(function Km(n){return n&&V1(n.canDeactivate)}(_)?_.canDeactivate(n,e,t,i):p.runInContext(()=>_(n,e,t,i))).pipe(Qo())})).pipe(Xl()):Qe(!0)}(r.component,r.route,t,e,i)),Qo(r=>!0!==r,!0))}(l,i,r,n).pipe((0,ir.z)(f=>f&&function Zm(n){return"boolean"==typeof n}(f)?function NV(n,e,t,i){return(0,di.D)(e).pipe(Xs(r=>gt(function su(n,e){return null!==n&&e&&e(new a8(n)),Qe(!0)}(r.route.parent,i),function RV(n,e){return null!==n&&e&&e(new J4(n)),Qe(!0)}(r.route,i),function e9(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(l=>function Ym(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>Ht(()=>Qe(l.guards.map(p=>{const _=Zf(l.node)??t,x=Kl(p,_);return ea(function Pi(n){return n&&V1(n.canActivateChild)}(x)?x.canActivateChild(i,n):_.runInContext(()=>x(i,n))).pipe(Qo())})).pipe(Xl())));return Qe(s).pipe(Xl())}(n,r.path,t),function v8(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return Qe(!0);const r=i.map(s=>Ht(()=>{const l=Zf(e)??t,f=Kl(s,l);return ea(function mC(n){return n&&V1(n.canActivate)}(f)?f.canActivate(e,n):l.runInContext(()=>f(e,n))).pipe(Qo())}));return Qe(r).pipe(Xl())}(n,r.route,t))),Qo(r=>!0!==r,!0))}(i,s,n,e):Qe(f)),(0,ut.U)(f=>({...t,guardsResult:f})))})}(this.router.ngModule.injector,l=>this.router.triggerEvent(l)),(0,Mi.b)(l=>{if(i.guardsResult=l.guardsResult,Ul(l.guardsResult))throw $m(0,l.guardsResult);const f=new Om(l.id,this.router.serializeUrl(l.extractedUrl),this.router.serializeUrl(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.router.triggerEvent(f)}),es(l=>!!l.guardsResult||(this.router.restoreHistory(l),this.router.cancelNavigationTransition(l,"",3),!1)),ed(l=>{if(l.guards.canActivateChecks.length)return Qe(l).pipe((0,Mi.b)(f=>{const p=new Ff(f.id,this.router.serializeUrl(f.extractedUrl),this.router.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.router.triggerEvent(p)}),Xn(f=>{let p=!1;return Qe(f).pipe(function DC(n,e){return(0,ir.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return Qe(t);let s=0;return(0,di.D)(r).pipe(Xs(l=>function PV(n,e,t,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!p9(r)&&(s[Pl]=r.title),function h9(n,e,t,i){const r=function TC(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return Qe({});const s={};return(0,di.D)(r).pipe((0,ir.z)(l=>function IC(n,e,t,i){const r=Zf(e)??i,s=Kl(n,r);return ea(s.resolve?s.resolve(e,t):r.runInContext(()=>s(e,t)))}(n[l],e,t,i).pipe(Qo(),(0,Mi.b)(f=>{s[l]=f}))),Rl(1),function Qh(n){return(0,ut.U)(()=>n)}(s),Xo(l=>_8(l)?Nr.E:_r(l)))}(s,n,e,i).pipe((0,ut.U)(l=>(n._resolvedData=l,n.data=aC(n,t).resolve,r&&p9(r)&&(n.data[Pl]=r.title),null)))}(l.route,i,n,e)),(0,Mi.b)(()=>s++),Rl(1),(0,ir.z)(l=>s===r.length?Qe(t):Nr.E))})}(this.router.paramsInheritanceStrategy,this.router.ngModule.injector),(0,Mi.b)({next:()=>p=!0,complete:()=>{p||(this.router.restoreHistory(f),this.router.cancelNavigationTransition(f,"",2))}}))}),(0,Mi.b)(f=>{const p=new Bf(f.id,this.router.serializeUrl(f.extractedUrl),this.router.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.router.triggerEvent(p)}))}),ed(l=>{const f=p=>{const _=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&_.push(this.router.configLoader.loadComponent(p.routeConfig).pipe((0,Mi.b)(x=>{p.component=x}),(0,ut.U)(()=>{})));for(const x of p.children)_.push(...f(x));return _};return ie(f(l.targetSnapshot.root)).pipe(O4(),Rr(1))}),ed(()=>this.router.afterPreactivation()),(0,ut.U)(l=>{const f=function jm(n,e,t){const i=ql(n,e._root,t?t._root:void 0);return new jf(i,e)}(this.router.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return i={...l,targetRouterState:f}}),(0,Mi.b)(l=>{this.router.currentUrlTree=l.urlAfterRedirects,this.router.rawUrlTree=this.router.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),this.router.routerState=l.targetRouterState,"deferred"===this.router.urlUpdateStrategy&&(l.extras.skipLocationChange||this.router.setBrowserUrl(this.router.rawUrlTree,l),this.router.browserUrlTree=l.urlAfterRedirects)}),((n,e,t)=>(0,ut.U)(i=>(new p8(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.router.rootContexts,this.router.routeReuseStrategy,l=>this.router.triggerEvent(l)),(0,Mi.b)({next(){r=!0},complete(){r=!0}}),w1(()=>{r||s||this.router.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Xo(l=>{if(s=!0,$a(l)){Wm(l)||(this.router.navigated=!0,this.router.restoreHistory(i,!0));const f=new X4(i.id,this.router.serializeUrl(i.extractedUrl),l.message,l.cancellationCode);if(t.next(f),Wm(l)){const p=this.router.urlHandlingStrategy.merge(l.url,this.router.rawUrlTree),_={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.router.urlUpdateStrategy||td(i.source)};this.router.scheduleNavigation(p,"imperative",null,_,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.router.restoreHistory(i,!0);const f=new r8(i.id,this.router.serializeUrl(i.extractedUrl),l,i.targetSnapshot??void 0);t.next(f);try{i.resolve(this.router.errorHandler(l))}catch(p){i.reject(p)}}return Nr.E}))}))}}function td(n){return"imperative"!==n}let m9=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===cn);return i}getResolvedTitleForRoute(t){return t.data[Pl]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(T8)},providedIn:"root"}),n})(),T8=(()=>{class n extends m9{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Sc))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(VC)},providedIn:"root"}),n})();class AC{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let VC=(()=>{class n extends AC{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const nd=new a.OlP("",{providedIn:"root",factory:()=>({})}),t3=new a.OlP("ROUTES");let k1=(()=>{class n{constructor(t,i){this.injector=t,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Qe(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=ea(t.loadComponent()).pipe((0,ut.U)(_9),(0,Mi.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),w1(()=>{this.componentLoaders.delete(t)})),r=new bo(i,()=>new Qt.x).pipe(Hs());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Qe({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,ut.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(i);let p,_,x=!1;Array.isArray(f)?_=f:(p=f.create(t).injector,_=kf(p.get(t3,[],a.XFs.Self|a.XFs.Optional)));return{routes:_.map(Yf),injector:p}}),w1(()=>{this.childrenLoaders.delete(i)})),l=new bo(s,()=>new Qt.x).pipe(Hs());return this.childrenLoaders.set(i,l),l}loadModuleFactoryOrRoutes(t){return ea(t()).pipe((0,ut.U)(_9),(0,ir.z)(r=>r instanceof a.YKP||Array.isArray(r)?Qe(r):(0,di.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.zs3),a.LFG(a.Sil))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _9(n){return function H2(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let HC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(OV)},providedIn:"root"}),n})(),OV=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function v9(n){throw n}function FV(n,e,t){return e.parse("/")}const y9={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},BV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function b9(){const n=(0,a.f3M)(L),e=(0,a.f3M)(nu),t=(0,a.f3M)(ze),i=(0,a.f3M)(a.zs3),r=(0,a.f3M)(a.Sil),s=(0,a.f3M)(t3,{optional:!0})??[],l=(0,a.f3M)(nd,{optional:!0})??{},f=new Bn(null,n,e,t,i,r,kf(s));return function x9(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(l,f),f}let Bn=(()=>{class n{constructor(t,i,r,s,l,f,p){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=p,this.lastSuccessfulNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Qt.x,this.errorHandler=v9,this.malformedUriErrorHandler=FV,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Qe(void 0),this.urlHandlingStrategy=(0,a.f3M)(HC),this.routeReuseStrategy=(0,a.f3M)(uu),this.titleStrategy=(0,a.f3M)(m9),this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.canceledNavigationResolution="replace",this.navigationTransitions=new D8(this),this.configLoader=l.get(k1),this.configLoader.onLoadEndListener=I=>this.triggerEvent(new o8(I)),this.configLoader.onLoadStartListener=I=>this.triggerEvent(new Fm(I)),this.ngModule=l.get(a.h0i),this.console=l.get(a.c2e);const M=l.get(a.R0b);this.isNgZoneEnabled=M instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(p),this.currentUrlTree=new Ua,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=I1(this.currentUrlTree,this.rootComponentType),this.transitions=new Qn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.navigationTransitions.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},s=t.state?.navigationId?t.state:null;if(t.state){const f={...t.state};delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(r.state=f)}const l=this.parseUrl(t.url);this.scheduleNavigation(l,i,s,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(Yf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:l,queryParamsHandling:f,preserveFragment:p}=i,_=r||this.routerState.root,x=p?this.currentUrlTree.fragment:l;let M=null;switch(f){case"merge":M={...this.currentUrlTree.queryParams,...s};break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=s||null}return null!==M&&(M=this.removeEmptyProps(M)),e8(_,this.currentUrlTree,t,M,x??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Ul(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function NC(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new a.vHH(4008,!1)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...y9}:!1===i?{...BV}:i,Ul(t))return $4(this.currentUrlTree,t,r);const s=this.parseUrl(t);return $4(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const s=t[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new zc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.getCurrentNavigation(),this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,s,l){if(this.disposed)return Promise.resolve(!1);let f,p,_;l?(f=l.resolve,p=l.reject,_=l.promise):_=new Promise((I,H)=>{f=I,p=H});const x=++this.navigationId;let M;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),M=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):M=0,this.setTransition({id:x,targetPageId:M,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,rawUrl:t,extras:s,resolve:f,reject:p,promise:_,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_.catch(I=>Promise.reject(I))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),s={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===r?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===r&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i,r){const s=new X4(t.id,this.serializeUrl(t.extractedUrl),i,r);this.triggerEvent(s),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:function(){return b9()},providedIn:"root"}),n})(),id=(()=>{class n{constructor(t,i,r,s,l,f){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=l,this.locationStrategy=f,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Qt.x;const p=l.nativeElement.tagName;this.isAnchorElement="A"===p||"AREA"===p,this.isAnchorElement?this.subscription=t.events.subscribe(_=>{_ instanceof zc&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,a.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,a.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,a.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,r,s,l){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||i||r||s||l||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,a.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,i){const r=this.renderer,s=this.el.nativeElement;null!==i?r.setAttribute(s,t,i):r.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Bn),a.Y36(A1),a.$8M("tabindex"),a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(xe))},n.\u0275dir=a.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,i){1&t&&a.NdJ("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&a.uIk("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[a.TTD]}),n})(),wo=(()=>{class n{constructor(t,i,r,s,l){this.router=t,this.element=i,this.renderer=r,this.cdr=s,this.link=l,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new a.vpe,this.routerEventsSubscription=t.events.subscribe(f=>{f instanceof zc&&this.update()})}ngAfterContentInit(){Qe(this.links.changes,Qe(null)).pipe((0,nt.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=(0,di.D)(t).pipe((0,nt.J)()).subscribe(i=>{this.isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(t){const i=Array.isArray(t)?t:t.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(i=>{t?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const i=function RC(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&t.isActive(r.urlTree,i)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Bn),a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(a.sBO),a.Y36(id,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,i,r){if(1&t&&a.Suo(r,id,5),2&t){let s;a.iGM(s=a.CRH())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[a.TTD]}),n})();class I8{}let PC=(()=>{class n{constructor(t,i,r,s,l){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(es(t=>t instanceof zc),Xs(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=(0,a.MMx)(s.providers,t,`Route: ${s.path}`));const l=s._injector??t,f=s._loadedInjector??l;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?r.push(this.preloadConfig(l,s)):(s.children||s._loadedRoutes)&&r.push(this.processRoutes(f,s.children??s._loadedRoutes))}return(0,di.D)(r).pipe((0,nt.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):Qe(null);const s=r.pipe((0,ir.z)(l=>null===l?Qe(void 0):(i._loadedRoutes=l.routes,i._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));if(i.loadComponent&&!i._loadedComponent){const l=this.loader.loadComponent(i);return(0,di.D)([s,l]).pipe((0,nt.J)())}return s})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Bn),a.LFG(a.Sil),a.LFG(a.lqb),a.LFG(I8),a.LFG(k1))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const A8=new a.OlP("");let V8=(()=>{class n{constructor(t,i,r,s={}){this.router=t,this.viewportScroller=i,this.zone=r,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Gl?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof zc&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof l8&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.router.triggerEvent(new l8(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function $t(n,e){return{\u0275kind:n,\u0275providers:e}}function M9(){const n=(0,a.f3M)(a.zs3);return e=>{const t=n.get(a.z2F);if(e!==t.components[0])return;const i=n.get(Bn),r=n.get(L8);1===n.get(k8)&&i.initialNavigation(),n.get(UC,null,a.XFs.Optional)?.setUpPreloading(),n.get(A8,null,a.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.unsubscribe())}}const L8=new a.OlP("",{factory:()=>new Qt.x}),k8=new a.OlP("",{providedIn:"root",factory:()=>1});const UC=new a.OlP("");function E9(n){return $t(0,[{provide:UC,useExisting:PC},{provide:I8,useExisting:n}])}const sd=new a.OlP("ROUTER_FORROOT_GUARD"),H8=[ze,{provide:L,useClass:R},{provide:Bn,useFactory:b9},nu,{provide:A1,useFactory:function C9(n){return n.routerState.root},deps:[Bn]},k1,[]];function $C(){return new a.PXZ("Router",Bn)}let GC=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[H8,[],{provide:t3,multi:!0,useValue:t},{provide:sd,useFactory:D9,deps:[[Bn,new a.FiY,new a.tp0]]},{provide:nd,useValue:i||{}},i?.useHash?{provide:xe,useClass:Pe}:{provide:xe,useClass:Se},{provide:A8,useFactory:()=>{const n=(0,a.f3M)(Bn),e=(0,a.f3M)(Da),t=(0,a.f3M)(a.R0b),i=(0,a.f3M)(nd);return i.scrollOffset&&e.setOffset(i.scrollOffset),new V8(n,e,t,i)}},i?.preloadingStrategy?E9(i.preloadingStrategy).\u0275providers:[],{provide:a.PXZ,multi:!0,useFactory:$C},i?.initialNavigation?ZV(i):[],[{provide:T9,useFactory:M9},{provide:a.tb,multi:!0,useExisting:T9}]]}}static forChild(t){return{ngModule:n,providers:[{provide:t3,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(sd,8))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[d8]}),n})();function D9(n){return"guarded"}function ZV(n){return["disabled"===n.initialNavigation?$t(3,[{provide:a.ip1,multi:!0,useFactory:()=>{const e=(0,a.f3M)(Bn);return()=>{e.setUpLocationChangeListener()}}},{provide:k8,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?$t(2,[{provide:k8,useValue:0},{provide:a.ip1,multi:!0,deps:[a.zs3],useFactory:e=>{const t=e.get(Q,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const s=e.get(Bn),l=e.get(L8);(function i(r){e.get(Bn).events.pipe(es(l=>l instanceof zc||l instanceof X4||l instanceof r8),(0,ut.U)(l=>l instanceof zc||l instanceof X4&&(0===l.code||1===l.code)&&null),es(l=>null!==l),Rr(1)).subscribe(()=>{r()})})(()=>{r(!0)}),s.afterPreactivation=()=>(r(!0),l.closed?Qe(void 0):l),s.initialNavigation()}))}}]).\u0275providers:[]]}const T9=new a.OlP("");class Mo{constructor(){this.tourAdded=new a.vpe,this.tourReturned=new a.vpe,this.tourCounterUpdater=new a.vpe,this.clearTour=new a.vpe,this.state$=new Qn(null)}static#e=this.\u0275fac=function(t){return new(t||Mo)};static#t=this.\u0275prov=a.Yz7({token:Mo,factory:Mo.\u0275fac,providedIn:"root"})}function od(n,e){if(1&n&&(a.TgZ(0,"div",2)(1,"div"),a._uU(2),a.qZA(),a.TgZ(3,"div"),a._uU(4),a.qZA(),a.TgZ(5,"div"),a._uU(6),a.ALo(7,"currency"),a.qZA(),a.TgZ(8,"div"),a._uU(9),a.qZA()()),2&n){const t=e.$implicit;a.xp6(2),a.Oqu(t.name),a.xp6(2),a.Oqu(t.country),a.xp6(2),a.hij("Cena: ",a.lcZ(7,4,t.price),""),a.xp6(3),a.hij("Ilosc: ",t.counter,"")}}class ad{constructor(e){this.service=e,this.positions_in_cart=[],this.curr_price=0}ngOnInit(){null!=this.service.state$.getValue()&&(this.positions_in_cart=this.service.state$.getValue(),this.sumPositions())}sumPositions(){this.curr_price=0,this.positions_in_cart.forEach(e=>{this.curr_price+=e.price*e.counter})}static#e=this.\u0275fac=function(t){return new(t||ad)(a.Y36(Mo))};static#t=this.\u0275cmp=a.Xpm({type:ad,selectors:[["app-cart-view"]],decls:4,vars:4,consts:[["class","main-position-container",4,"ngFor","ngForOf"],["id","total"],[1,"main-position-container"]],template:function(t,i){1&t&&(a.YNc(0,od,10,6,"div",0),a.TgZ(1,"div",1),a._uU(2),a.ALo(3,"currency"),a.qZA()),2&t&&(a.Q6J("ngForOf",i.positions_in_cart),a.xp6(2),a.hij("Suma: ",a.lcZ(3,2,i.curr_price),""))},dependencies:[bi,X2],styles:[".main-position-container[_ngcontent-%COMP%]{display:flex;border-bottom:solid 2px red;padding:10px;font-family:Arial,Helvetica,sans-serif;font-size:1rem;font-weight:700;justify-content:right}.main-position-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin:5px}#total[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;font-size:1rem;font-weight:700;text-align:right}"]})}function z8(...n){const e=(0,xo.jO)(n),{args:t,keys:i}=Ic(n),r=new hi.y(s=>{const{length:l}=t;if(!l)return void s.complete();const f=new Array(l);let p=l,_=l;for(let x=0;x<l;x++){let M=!1;(0,Ut.Xf)(t[x]).subscribe((0,V.x)(s,I=>{M||(M=!0,_--),f[x]=I},()=>p--,void 0,()=>{(!p||!M)&&(_||s.next(i?D(i,f):f),s.complete())}))}});return e?r.pipe(E(e)):r}let I9=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Qsj),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n}),n})(),Bc=(()=>{class n extends I9{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,features:[a.qOj]}),n})();const to=new a.OlP("NgValueAccessor"),qC={provide:to,useExisting:(0,a.Gpc)(()=>N8),multi:!0};let N8=(()=>{class n extends Bc{writeValue(t){this.setProperty("checked",t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,i){1&t&&a.NdJ("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},features:[a._Bn([qC]),a.qOj]}),n})();const A9={provide:to,useExisting:(0,a.Gpc)(()=>z2),multi:!0},V9=new a.OlP("CompositionEventMode");let z2=(()=>{class n extends I9{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function YC(){const n=N()?N().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(V9,8))},n.\u0275dir=a.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&a.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[a._Bn([A9]),a.qOj]}),n})();function Uc(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function cd(n){return null!=n&&"number"==typeof n.length}const rr=new a.OlP("NgValidators"),jc=new a.OlP("NgAsyncValidators"),s3=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class pi{static min(e){return P8(e)}static max(e){return function fu(n){return e=>{if(Uc(e.value)||Uc(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function So(n){return Uc(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function O8(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function L9(n){return Uc(n.value)||s3.test(n.value)?null:{email:!0}}(e)}static minLength(e){return ld(e)}static maxLength(e){return Ga(e)}static pattern(e){return function ud(n){if(!n)return du;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(Uc(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return hd(e)}static composeAsync(e){return pd(e)}}function P8(n){return e=>{if(Uc(e.value)||Uc(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function ld(n){return e=>Uc(e.value)||!cd(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function Ga(n){return e=>cd(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function du(n){return null}function fd(n){return null!=n}function ZC(n){return(0,a.QGY)(n)?(0,di.D)(n):n}function F8(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function KC(n,e){return e.map(t=>t(n))}function hu(n){return n.map(e=>function dd(n){return!n.validate}(e)?e:t=>e.validate(t))}function hd(n){if(!n)return null;const e=n.filter(fd);return 0==e.length?null:function(t){return F8(KC(t,e))}}function pu(n){return null!=n?hd(hu(n)):null}function pd(n){if(!n)return null;const e=n.filter(fd);return 0==e.length?null:function(t){return z8(KC(t,e).map(ZC)).pipe((0,ut.U)(F8))}}function k9(n){return null!=n?pd(hu(n)):null}function H9(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function z9(n){return n._rawValidators}function N9(n){return n._rawAsyncValidators}function B8(n){return n?Array.isArray(n)?n:[n]:[]}function mu(n,e){return Array.isArray(n)?n.includes(e):n===e}function QC(n,e){const t=B8(e);return B8(n).forEach(r=>{mu(t,r)||t.push(r)}),t}function R9(n,e){return B8(e).filter(t=>!mu(n,t))}class XC{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=pu(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=k9(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Pr extends XC{get formDirective(){return null}get path(){return null}}class na extends XC{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class P9{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let o3=(()=>{class n extends P9{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(na,2))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&a.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[a.qOj]}),n})(),md=(()=>{class n extends P9{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Pr,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&a.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[a.qOj]}),n})();const gu="VALID",_u="INVALID",a3="PENDING",vu="DISABLED";function c3(n){return(u3(n)?n.validators:n)||null}function yu(n,e){return(u3(e)?e.asyncValidators:n)||null}function u3(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class _d{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===gu}get invalid(){return this.status===_u}get pending(){return this.status==a3}get disabled(){return this.status===vu}get enabled(){return this.status!==vu}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(QC(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(QC(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(R9(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(R9(e,this._rawAsyncValidators))}hasValidator(e){return mu(this._rawValidators,e)}hasAsyncValidator(e){return mu(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=a3,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=vu,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=gu,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===gu||this.status===a3)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?vu:gu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=a3,this._hasOwnPendingAsyncValidator=!0;const t=ZC(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?vu:this.errors?_u:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(a3)?a3:this._anyControlsHaveStatus(_u)?_u:gu}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){u3(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function l3(n){return Array.isArray(n)?pu(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function xu(n){return Array.isArray(n)?k9(n):n||null}(this._rawAsyncValidators)}}class N2 extends _d{constructor(e,t,i){super(c3(t),yu(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function $8(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new a.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(i=>{(function bu(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new a.vHH(1e3,"");if(!i[t])throw new a.vHH(1001,"")})(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const f3=new a.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Cu}),Cu="always";function vd(n,e){return[...e.path,n]}function d3(n,e,t=Cu){_s(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function iw(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&xd(n,e)})}(n,e),function q9(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function tL(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&xd(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function nw(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function wu(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),Mu(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function yd(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function _s(n,e){const t=z9(n);null!==e.validator?n.setValidators(H9(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=N9(n);null!==e.asyncValidator?n.setAsyncValidators(H9(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();yd(e._rawValidators,r),yd(e._rawAsyncValidators,r)}function Mu(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=z9(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(l=>l!==e.validator);s.length!==r.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const r=N9(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(l=>l!==e.asyncValidator);s.length!==r.length&&(t=!0,n.setAsyncValidators(s))}}}const i=()=>{};return yd(e._rawValidators,i),yd(e._rawAsyncValidators,i),t}function xd(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Y9(n,e){_s(n,e)}function q8(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function Q9(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function Y8(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(s=>{s.constructor===z2?t=s:function sw(n){return Object.getPrototypeOf(n.constructor)===Bc}(s)?i=s:r=s}),r||i||t||null}const Z8={provide:Pr,useExisting:(0,a.Gpc)(()=>Gc)},Su=(()=>Promise.resolve())();let Gc=(()=>{class n extends Pr{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new a.vpe,this.form=new N2({},pu(t),k9(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Su.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),d3(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Su.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Su.then(()=>{const i=this._findContainer(t.path),r=new N2({});Y9(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Su.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){Su.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Q9(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(rr,10),a.Y36(jc,10),a.Y36(f3,8))},n.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&a.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([Z8]),a.qOj]}),n})();function aw(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function K8(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Or=class extends _d{constructor(e=null,t,i){super(c3(t),yu(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),u3(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=K8(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){aw(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){aw(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){K8(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},X8={provide:na,useExisting:(0,a.Gpc)(()=>Eu)},uw=(()=>Promise.resolve())();let Eu=(()=>{class n extends na{constructor(t,i,r,s,l,f){super(),this._changeDetectorRef=l,this.callSetDisabledState=f,this.control=new Or,this._registered=!1,this.update=new a.vpe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Y8(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),q8(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){d3(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){uw.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&(0,a.D6c)(i);uw.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?vd(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Pr,9),a.Y36(rr,10),a.Y36(jc,10),a.Y36(to,10),a.Y36(a.sBO,8),a.Y36(f3,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[a._Bn([X8]),a.qOj,a.TTD]}),n})(),h3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const J9={provide:to,useExisting:(0,a.Gpc)(()=>Du),multi:!0};let Du=(()=>{class n extends Bc{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=i=>{t(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,i){1&t&&a.NdJ("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[a._Bn([J9]),a.qOj]}),n})(),Tu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const Sd=new a.OlP("NgModelWithFormControlWarning"),Iu={provide:Pr,useExisting:(0,a.Gpc)(()=>ia)};let ia=(()=>{class n extends Pr{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Mu(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return d3(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){wu(t.control||null,t,!1),function ow(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,Q9(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(wu(i||null,t),(n=>n instanceof Or)(r)&&(d3(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);Y9(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function rw(n,e){return Mu(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){_s(this.form,this),this._oldForm&&Mu(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(rr,10),a.Y36(jc,10),a.Y36(f3,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&a.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([Iu]),a.qOj,a.TTD]}),n})();const hw={provide:na,useExisting:(0,a.Gpc)(()=>m3)};let m3=(()=>{class n extends na{constructor(t,i,r,s,l){super(),this._ngModelWarningConfig=l,this._added=!1,this.update=new a.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Y8(0,s)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),q8(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return vd(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(a.Y36(Pr,13),a.Y36(rr,10),a.Y36(jc,10),a.Y36(to,10),a.Y36(Sd,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[a._Bn([hw]),a.qOj,a.TTD]}),n})();const pw={provide:to,useExisting:(0,a.Gpc)(()=>Au),multi:!0};function ng(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Au=(()=>{class n extends Bc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const r=ng(this._getOptionId(t),t);this.setProperty("value",r)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){const i=function mw(n){return n.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i):t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,i){1&t&&a.NdJ("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[a._Bn([pw]),a.qOj]}),n})(),Ed=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(ng(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(Au,9))},n.\u0275dir=a.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const gw={provide:to,useExisting:(0,a.Gpc)(()=>n5),multi:!0};function Dd(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let n5=(()=>{class n extends Bc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let i;if(this.value=t,Array.isArray(t)){const r=t.map(s=>this._getOptionId(s));i=(s,l)=>{s._setSelected(r.indexOf(l.toString())>-1)}}else i=(r,s)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{const r=[],s=i.selectedOptions;if(void 0!==s){const l=s;for(let f=0;f<l.length;f++){const _=this._getOptionValue(l[f].value);r.push(_)}}else{const l=i.options;for(let f=0;f<l.length;f++){const p=l[f];if(p.selected){const _=this._getOptionValue(p.value);r.push(_)}}}this.value=r,t(r)}}_registerOption(t){const i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){const i=function _w(n){return n.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,i){1&t&&a.NdJ("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[a._Bn([gw]),a.qOj]}),n})(),ig=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(Dd(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Dd(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(n5,9))},n.\u0275dir=a.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();function rg(n){return"number"==typeof n?n:parseInt(n,10)}let Wc=(()=>{class n{constructor(){this._validator=du}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):du,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,features:[a.TTD]}),n})();const vw={provide:rr,useExisting:(0,a.Gpc)(()=>ag),multi:!0};let ag=(()=>{class n extends Wc{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>function sg(n){return"number"==typeof n?n:parseFloat(n)}(t),this.createValidator=t=>P8(t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(t,i){2&t&&a.uIk("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[a._Bn([vw]),a.qOj]}),n})();const xw={provide:rr,useExisting:(0,a.Gpc)(()=>Lu),multi:!0};let Lu=(()=>{class n extends Wc{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>rg(t),this.createValidator=t=>ld(t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,i){2&t&&a.uIk("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},features:[a._Bn([xw]),a.qOj]}),n})();const bw={provide:rr,useExisting:(0,a.Gpc)(()=>no),multi:!0};let no=(()=>{class n extends Wc{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>rg(t),this.createValidator=t=>Ga(t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,i){2&t&&a.uIk("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},features:[a._Bn([bw]),a.qOj]}),n})(),Id=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Tu]}),n})(),_3=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:f3,useValue:t.callSetDisabledState??Cu}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Id]}),n})(),v3=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Sd,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:f3,useValue:t.callSetDisabledState??Cu}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Id]}),n})();var et=O(5861),sn=O(2122),N1=O(259);class R1{constructor(e){return e}}class o5{constructor(){return(0,N1.C6)()}}const Ad=new a.OlP("angularfire2._apps"),Mw={provide:R1,useFactory:function ug(n){return n&&1===n.length?n[0]:new R1((0,N1.Mq)())},deps:[[new a.FiY,Ad]]},Sw={provide:o5,deps:[[new a.FiY,Ad]]};function fg(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new R1(i)}}let Ew=(()=>{class n{constructor(t){(0,N1.KN)("angularfire",sn.q4.full,"core"),(0,N1.KN)("angularfire",sn.q4.full,"app"),(0,N1.KN)("angular",a.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.Lbi))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Mw,Sw]}),n})();function dg(n,...e){return{ngModule:Ew,providers:[{provide:Ad,useFactory:fg(n),multi:!0,deps:[a.R0b,a.zs3,sn.HU,...e]}]}}const Vd=(0,sn.u3)(N1.ZF,!0);var Si=O(9681),F=O(2090),Wa=O(4859);const c5="firebasestorage.googleapis.com",Ld="storageBucket";class Jn extends F.ZR{constructor(e,t,i=0){super(u5(e),`Firebase Storage: ${t} (${u5(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Jn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return u5(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function u5(n){return"storage/"+n}function kd(){return new Jn("unknown","An unknown error occurred, please check the error payload for server response.")}function zd(n){return new Jn("invalid-argument",n)}function p5(){return new Jn("app-deleted","The Firebase app was deleted.")}function Fu(n,e){return new Jn("invalid-format","String does not match format '"+n+"': "+e)}function Bu(n){throw new Jn("internal-error","Internal error: "+n)}class ts{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=ts.makeFromUrl(e,t)}catch{return new ts(e,"")}if(""===i.path)return i;throw function Cg(n){return new Jn("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)",f=new RegExp("^gs://"+r+"(/(.*))?$","i");function _(Ze){Ze.path_=decodeURIComponent(Ze.path)}const M=t.replace(/[.]/g,"\\."),Ge=[{regex:f,indices:{bucket:1,path:3},postModify:function s(Ze){"/"===Ze.path.charAt(Ze.path.length-1)&&(Ze.path_=Ze.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${M}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:_},{regex:new RegExp(`^https?://${t===c5?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:_}];for(let Ze=0;Ze<Ge.length;Ze++){const ht=Ge[Ze],xt=ht.regex.exec(e);if(xt){let yi=xt[ht.indices.path];yi||(yi=""),i=new ts(xt[ht.indices.bucket],yi),ht.postModify(i);break}}if(null==i)throw function d5(n){return new Jn("invalid-url","Invalid URL '"+n+"'.")}(e);return i}}class Tw{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function Nd(n){return"string"==typeof n||n instanceof String}function m5(n){return Rd()&&n instanceof Blob}function Rd(){return typeof Blob<"u"&&!(0,F.UG)()}function P1(n,e,t,i){if(i<e)throw zd(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw zd(`Invalid value for '${n}'. Expected ${t} or less.`)}function O2(n,e,t){let i=e;return null==t&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function Ig(n){const e=encodeURIComponent;let t="?";for(const i in n)n.hasOwnProperty(i)&&(t=t+(e(i)+"=")+e(n[i])+"&");return t=t.slice(0,-1),t}var F2=(()=>{return(n=F2||(F2={}))[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",F2;var n})();class Vg{constructor(e,t,i,r,s,l,f,p,_,x,M,I=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=l,this.callback_=f,this.errorCallback_=p,this.timeout_=_,this.progressCallback_=x,this.connectionFactory_=M,this.retry=I,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((H,P)=>{this.resolve_=H,this.reject_=P,this.start_()})}start_(){const t=(i,r)=>{const s=this.resolve_,l=this.reject_,f=r.connection;if(r.wasSuccessCode)try{const p=this.callback_(f,f.getResponse());!function Iw(n){return void 0!==n}(p)?s():s(p)}catch(p){l(p)}else if(null!==f){const p=kd();p.serverResponse=f.getErrorText(),l(this.errorCallback_?this.errorCallback_(f,p):p)}else l(r.canceled?this.appDelete_?p5():function Hd(){return new Jn("canceled","User canceled the upload/download.")}():function f5(){return new Jn("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new g5(!1,null,!0)):this.backoffId_=function sr(n,e,t){let i=1,r=null,s=null,l=!1,f=0;function p(){return 2===f}let _=!1;function x(...se){_||(_=!0,e.apply(null,se))}function M(se){r=setTimeout(()=>{r=null,n(H,p())},se)}function I(){s&&clearTimeout(s)}function H(se,...De){if(_)return void I();if(se)return I(),void x.call(null,se,...De);if(p()||l)return I(),void x.call(null,se,...De);let Ge;i<64&&(i*=2),1===f?(f=2,Ge=0):Ge=1e3*(i+Math.random()),M(Ge)}let P=!1;function q(se){P||(P=!0,I(),!_&&(null!==r?(se||(f=2),clearTimeout(r),M(0)):se||(f=1)))}return M(0),s=setTimeout(()=>{l=!0,q(!0)},t),q}((i,r)=>{if(r)return void i(!1,new g5(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const l=f=>{null!==this.progressCallback_&&this.progressCallback_(f.loaded,f.lengthComputable?f.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(l),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(l),this.pendingConnection_=null;const f=s.getErrorCode()===F2.NO_ERROR,p=s.getStatus();if((!f||function Ag(n,e){const t=n>=500&&n<600,r=-1!==[408,429].indexOf(n),s=-1!==e.indexOf(n);return t||r||s}(p,this.additionalRetryCodes_))&&this.retry){const x=s.getErrorCode()===F2.ABORT;return void i(!1,new g5(!1,null,x))}const _=-1!==this.successCodes_.indexOf(p);i(!0,new g5(_,s))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function Dg(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class g5{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function sa(...n){const e=function Ya(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}if(Rd())return new Blob(n);throw new Jn("unsupported-environment","This browser doesn't seem to support creating Blobs")}class y5{constructor(e,t){this.data=e,this.contentType=t||null}}function Hg(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i<=127?e.push(i):i<=2047?e.push(192|i>>6,128|63&i):55296==(64512&i)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++t),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):e.push(239,191,189):56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function Pd(n,e){switch(n){case"base64":{const r=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(r||s)throw Fu(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case"base64url":{const r=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(r||s)throw Fu(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function Lg(n){if(typeof atob>"u")throw function Eg(n){return new Jn("unsupported-environment",`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(r){throw r.message.includes("polyfill")?r:Fu(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}class x3{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Fu("data_url","Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;null!=i&&(this.base64=function zw(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}class Za{constructor(e,t){let i=0,r="";m5(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(m5(this.data_)){const r=function oa(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===r?null:new Za(r)}{const i=new Uint8Array(this.data_.buffer,e,t-e);return new Za(i,!0)}}static getBlob(...e){if(Rd()){const t=e.map(i=>i instanceof Za?i.data_:i);return new Za(sa.apply(null,t))}{const t=e.map(l=>Nd(l)?function kg(n,e){switch(n){case"raw":return new y5(Hg(e));case"base64":case"base64url":return new y5(Pd(n,e));case"data_url":return new y5(function Hw(n){const e=new x3(n);return e.base64?Pd("base64",e.rest):function kw(n){let e;try{e=decodeURIComponent(n)}catch{throw Fu("data_url","Malformed data URL.")}return Hg(e)}(e.rest)}(e),function zg(n){return new x3(n).contentType}(e))}throw kd()}("raw",l).data:l.data_);let i=0;t.forEach(l=>{i+=l.byteLength});const r=new Uint8Array(i);let s=0;return t.forEach(l=>{for(let f=0;f<l.length;f++)r[s++]=l[f]}),new Za(r,!0)}}uploadData(){return this.data_}}function Od(n){let e;try{e=JSON.parse(n)}catch{return null}return function Tg(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function x5(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function Ng(n,e){return e}class Br{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||Ng}}let qc=null;function b3(){if(qc)return qc;const n=[];n.push(new Br("bucket")),n.push(new Br("generation")),n.push(new Br("metageneration")),n.push(new Br("name","fullPath",!0));const t=new Br("name");t.xform=function e(s,l){return function Rg(n){return!Nd(n)||n.length<2?n:x5(n)}(l)},n.push(t);const r=new Br("size");return r.xform=function i(s,l){return void 0!==l?Number(l):l},n.push(r),n.push(new Br("timeCreated")),n.push(new Br("updated")),n.push(new Br("md5Hash",null,!0)),n.push(new Br("cacheControl",null,!0)),n.push(new Br("contentDisposition",null,!0)),n.push(new Br("contentEncoding",null,!0)),n.push(new Br("contentLanguage",null,!0)),n.push(new Br("contentType",null,!0)),n.push(new Br("metadata","customMetadata",!0)),qc=n,qc}function b5(n,e,t){const i=Od(e);return null===i?null:function Og(n,e,t){const i={type:"file"},r=t.length;for(let s=0;s<r;s++){const l=t[s];i[l.local]=l.xform(i,e[l.server])}return function Pg(n,e){Object.defineProperty(n,"ref",{get:function t(){const s=new ts(n.bucket,n.fullPath);return e._makeStorageReference(s)}})}(i,n),i}(n,i,t)}class Ka{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Qa(n){if(!n)throw kd()}function C3(n){return function e(t,i){let r;return r=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function Dw(){return new Jn("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function xg(){return new Jn("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function yg(n){return new Jn("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function bg(n){return new Jn("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,r.status=t.getStatus(),r.serverResponse=i.serverResponse,r}}function Uu(n){const e=C3(n);return function t(i,r){let s=e(i,r);return 404===i.getStatus()&&(s=function vg(n){return new Jn("object-not-found","Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=r.serverResponse,s}}function w5(n,e,t,i,r){const s=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"},p=function f(){let Ge="";for(let Ze=0;Ze<2;Ze++)Ge+=Math.random().toString().slice(2);return Ge}();l["Content-Type"]="multipart/related; boundary="+p;const _=function $g(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=function Gw(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),i}(e,i,r),x=function Bd(n,e){const t={},i=e.length;for(let r=0;r<i;r++){const s=e[r];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}(_,t),H=Za.getBlob("--"+p+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+x+"\r\n--"+p+"\r\nContent-Type: "+_.contentType+"\r\n\r\n",i,"\r\n--"+p+"--");if(null===H)throw function h5(){return new Jn("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}();const P={name:_.fullPath},q=O2(s,n.host,n._protocol),De=n.maxUploadRetryTime,Fe=new Ka(q,"POST",function Ud(n,e){return function t(i,r){const s=b5(n,r,e);return Qa(null!==s),s}}(n,t),De);return Fe.urlParams=P,Fe.headers=l,Fe.body=H.uploadData(),Fe.errorHandler=C3(e),Fe}class qw{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=F2.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=F2.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=F2.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw Bu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Bu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Bu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Bu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Bu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class w3 extends qw{initXhr(){this.xhr_.responseType="text"}}function Xa(){return new w3}class It{constructor(e,t){this._service=e,this._location=t instanceof ts?t:ts.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new It(e,t)}get root(){const e=new ts(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return x5(this._location.path)}get storage(){return this._service}get parent(){const e=function Fd(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new ts(this._location.bucket,e);return new It(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function dL(n){return new Jn("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function Xw(n){n._throwIfRoot("getDownloadURL");const e=function Uw(n,e,t){const r=O2(e.fullServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,f=new Ka(r,"GET",function Fw(n,e){return function t(i,r){const s=b5(n,r,e);return Qa(null!==s),function Fg(n,e,t,i){const r=Od(e);if(null===r||!Nd(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const l=encodeURIComponent;return s.split(",").map(_=>{const M=n.fullPath;return O2("/b/"+l(n.bucket)+"/o/"+l(M),t,i)+Ig({alt:"media",token:_})})[0]}(s,r,n.host,n._protocol)}}(n,t),l);return f.errorHandler=Uu(e),f}(n.storage,n._location,b3());return n.storage.makeRequestWithTokens(e,Xa).then(t=>{if(null===t)throw function Sg(){return new Jn("no-download-url","The given file does not have any download URLs.")}();return t})}function i_(n,e){if(n instanceof T5){const t=n;if(null==t._bucket)throw function wg(){return new Jn("no-default-bucket","No default bucket found. Did you set the '"+Ld+"' property when initializing the app?")}();const i=new It(t,t._bucket);return null!=e?i_(i,e):i}return void 0!==e?function D5(n,e){const t=function Nw(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),i=new ts(n._location.bucket,t);return new It(n.storage,i)}(n,e):n}function r_(n,e){const t=e?.[Ld];return null==t?null:ts.makeFromBucketSpec(t,n)}class T5{constructor(e,t,i,r,s){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=c5,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?ts.makeFromBucketSpec(r,this._host):r_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?ts.makeFromBucketSpec(this._url,e):r_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){P1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){P1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,et.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const i=yield t.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,et.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new It(this,e)}_makeRequest(e,t,i,r,s=!0){if(this._deleted)return new Tw(p5());{const l=function Lw(n,e,t,i,r,s,l=!0){const f=Ig(n.urlParams),p=n.url+f,_=Object.assign({},n.headers);return function qa(n,e){e&&(n["X-Firebase-GMPID"]=e)}(_,e),function _5(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(_,t),function v5(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(_,s),function Vw(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(_,i),new Vg(p,n.method,_,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,l)}(e,this._appId,i,r,t,this._firebaseVersion,s);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}makeRequestWithTokens(e,t){var i=this;return(0,et.Z)(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,t,r,s).getPromise()})()}}const s_="@firebase/storage",qu="storage";function a_(n,e,t){return function Qg(n,e,t){n._throwIfRoot("uploadBytes");const i=w5(n.storage,n._location,b3(),new Za(e,!0),t);return n.storage.makeRequestWithTokens(i,Xa).then(r=>({metadata:r,ref:n}))}(n=(0,F.m9)(n),e,t)}function nM(n){return Xw(n=(0,F.m9)(n))}function c_(n){return function e_(n){n._throwIfRoot("deleteObject");const e=function $w(n,e){const i=O2(e.fullServerUrl(),n.host,n._protocol),f=new Ka(i,"DELETE",function l(p,_){},n.maxOperationRetryTime);return f.successCodes=[200,204],f.errorHandler=Uu(e),f}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Xa)}(n=(0,F.m9)(n))}function l_(n,e){return function Jw(n,e){if(e&&function t_(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof T5)return function n_(n,e){return new It(n,e)}(n,e);throw zd("To use ref(service, url), the first argument must be a Storage instance.")}return i_(n,e)}(n=(0,F.m9)(n),e)}function rM(n=(0,Si.getApp)(),e){n=(0,F.m9)(n);const i=(0,Si._getProvider)(n,qu).getImmediate({identifier:e}),r=(0,F.P0)("storage");return r&&function u_(n,e,t,i={}){!function Wu(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,F.Sg)(r,n.app.options.projectId))}(n,e,t,i)}(i,...r),i}function xL(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new T5(t,i,r,e,Si.SDK_VERSION)}!function bL(){(0,Si._registerComponent)(new Wa.wA(qu,xL,"PUBLIC").setMultipleInstances(!0)),(0,Si.registerVersion)(s_,"0.10.0",""),(0,Si.registerVersion)(s_,"0.10.0","esm2017")}();const lM=(0,sn.u3)(c_,!0),uM=(0,sn.u3)(nM,!0),p_=(0,sn.u3)(rM,!0),V5=(0,sn.u3)(l_,!0),pM=(0,sn.u3)(a_,!0);var io=O(552),Ja=O(1877);class __{constructor(){return(0,sn.vb)("auth")}}const k5=new Map,S_={activated:!1,tokenObservers:[]},Ku={initialized:!1,enabled:!1};function vr(n){return k5.get(n)||Object.assign({},S_)}function Qu(){return Ku}class A_{constructor(e,t,i,r,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,et.Z)(function*(){t.stop();try{t.pending=new F.BH,yield function OM(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new F.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ys=new F.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function V_(n){if(!vr(n).activated)throw ys.create("use-before-activation",{appName:n.name})}function H5(n,e){return Ju.apply(this,arguments)}function Ju(){return(Ju=(0,et.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const M=yield r.getHeartbeatsHeader();M&&(i["X-Firebase-Client"]=M)}const s={method:"POST",body:JSON.stringify(e),headers:i};let l,f;try{l=yield fetch(n,s)}catch(M){throw ys.create("fetch-network-error",{originalErrorMessage:M?.message})}if(200!==l.status)throw ys.create("fetch-status-error",{httpStatus:l.status});try{f=yield l.json()}catch(M){throw ys.create("fetch-parse-error",{originalErrorMessage:M?.message})}const p=f.ttl.match(/^([\d.]+)(s)$/);if(!p||!p[2]||isNaN(Number(p[1])))throw ys.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const _=1e3*Number(p[1]),x=Date.now();return{token:f.token,expireTimeMillis:x+_,issuedAtTimeMillis:x}})).apply(this,arguments)}function UM(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const F1="firebase-app-check-store";let Qd=null;function z5(){return Qd||(Qd=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(ys.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(F1,{keyPath:"compositeKey"})}}catch(t){e(ys.create("storage-open",{originalErrorMessage:t?.message}))}}),Qd)}function N_(){return(N_=(0,et.Z)(function*(n,e){const i=(yield z5()).transaction(F1,"readwrite"),s=i.objectStore(F1).put({compositeKey:n,value:e});return new Promise((l,f)=>{s.onsuccess=p=>{l()},i.onerror=p=>{var _;f(ys.create("storage-set",{originalErrorMessage:null===(_=p.target.error)||void 0===_?void 0:_.message}))}})})).apply(this,arguments)}const Yc=new Ja.Yd("@firebase/app-check");function F5(n,e){return(0,F.hl)()?function N5(n,e){return function z_(n,e){return N_.apply(this,arguments)}(function R5(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Yc.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function U5(){return Qu().enabled}function Jd(){return e0.apply(this,arguments)}function e0(){return(e0=(0,et.Z)(function*(){const n=Qu();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const P_={error:"UNKNOWN_ERROR"};function O_(n){return F.US.encodeString(JSON.stringify(n),!1)}function t0(n){return n0.apply(this,arguments)}function n0(){return(n0=(0,et.Z)(function*(n,e=!1){const t=n.app;V_(t);const i=vr(t);let s,r=i.token;if(r&&!aa(r)&&(i.token=void 0,r=void 0),!r){const p=yield i.cachedTokenPromise;p&&(aa(p)?r=p:yield F5(t,void 0))}if(!e&&r&&aa(r))return{token:r.token};let f,l=!1;if(U5()){i.exchangeTokenPromise||(i.exchangeTokenPromise=H5(UM(t,yield Jd()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),l=!0);const p=yield i.exchangeTokenPromise;return yield F5(t,p),i.token=p,{token:p.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),l=!0),r=yield vr(t).exchangeTokenPromise}catch(p){"appCheck/throttled"===p.code?Yc.warn(p.message):Yc.error(p),s=p}return r?s?f=aa(r)?{token:r.token,internalError:s}:B_(s):(f={token:r.token},i.token=r,yield F5(t,r)):f=B_(s),l&&ns(t,f),f})).apply(this,arguments)}function j5(n,e){const t=vr(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function $5(n){const{app:e}=n,t=vr(e);let i=t.tokenRefresher;i||(i=function F_(n){const{app:e}=n;return new A_((0,et.Z)(function*(){let i;if(i=vr(e).token?yield t0(n,!0):yield t0(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=vr(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function ns(n,e){const t=vr(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}function aa(n){return n.expireTimeMillis-Date.now()>0}function B_(n){return{token:O_(P_),error:n}}class WM{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=vr(this.app);for(const t of e)j5(this.app,t.next);return Promise.resolve()}}const JM="app-check-internal";!function eS(){(0,Si._registerComponent)(new Wa.wA("app-check",n=>function ik(n,e){return new WM(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(JM).initialize()})),(0,Si._registerComponent)(new Wa.wA(JM,n=>function rk(n){return{getToken:e=>t0(n,e),addTokenListener:e=>function r0(n,e,t,i){const{app:r}=n,s=vr(r);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:i,type:e}],s.token&&aa(s.token)){const f=s.token;Promise.resolve().then(()=>{t({token:f.token}),$5(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>$5(n))}(n,"INTERNAL",e),removeTokenListener:e=>j5(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Si.registerVersion)("@firebase/app-check","0.6.0")}();class o6{constructor(){return(0,sn.vb)("app-check")}}typeof window<"u"&&window;var Dt,J_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},B1={},ev=ev||{},Xt=J_||self;function Q5(){}function X5(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function o0(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var E3="closure_uid_"+(1e9*Math.random()>>>0),fk=0;function tv(n,e,t){return n.call.apply(n.bind,arguments)}function a0(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function Ur(n,e,t){return(Ur=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?tv:a0).apply(null,arguments)}function a6(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function is(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(i,r,s){for(var l=Array(arguments.length-2),f=2;f<arguments.length;f++)l[f-2]=arguments[f];return e.prototype[r].apply(i,l)}}function e2(){this.s=this.s,this.o=this.o}e2.prototype.s=!1,e2.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function uk(n){Object.prototype.hasOwnProperty.call(n,E3)&&n[E3]||(n[E3]=++fk)}(this)},e2.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const iv=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function c0(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function aS(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(X5(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let l=0;l<s;l++)n[r+l]=i[l]}else n.push(i)}}function rs(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}rs.prototype.h=function(){this.defaultPrevented=!0};var cS=function(){if(!Xt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Xt.addEventListener("test",Q5,e),Xt.removeEventListener("test",Q5,e)}catch{}return n}();function l0(n){return/^[\s\xa0]*$/.test(n)}var c6=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function J5(n,e){return n<e?-1:n>e?1:0}function ep(){var n=Xt.navigator;return n&&(n=n.userAgent)?n:""}function B2(n){return-1!=ep().indexOf(n)}function rv(n){return rv[" "](n),n}rv[" "]=Q5;var zs,n,uS=B2("Opera"),D3=B2("Trident")||B2("MSIE"),fS=B2("Edge"),tp=fS||D3,np=B2("Gecko")&&!(-1!=ep().toLowerCase().indexOf("webkit")&&!B2("Edge"))&&!(B2("Trident")||B2("MSIE"))&&!B2("Edge"),sv=-1!=ep().toLowerCase().indexOf("webkit")&&!B2("Edge");function dS(){var n=Xt.document;return n?n.documentMode:void 0}e:{var ip="",l6=(n=ep(),np?/rv:([^\);]+)(\)|;)/.exec(n):fS?/Edge\/([\d\.]+)/.exec(n):D3?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):sv?/WebKit\/(\S+)/.exec(n):uS?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(l6&&(ip=l6?l6[1]:""),D3){var rp=dS();if(null!=rp&&rp>parseFloat(ip)){zs=String(rp);break e}}zs=ip}var dk={};var hS=Xt.document&&D3&&(dS()||parseInt(zs,10))||void 0;function u6(n,e){if(rs.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(np){e:{try{rv(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:op[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&u6.X.h.call(this)}}is(u6,rs);var op={2:"touch",3:"pen",4:"mouse"};u6.prototype.h=function(){u6.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var T3="closure_listenable_"+(1e6*Math.random()|0),ov=0;function pS(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ha=r,this.key=++ov,this.ba=this.ea=!1}function f6(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function f0(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function av(n){const e={};for(const t in n)e[t]=n[t];return e}const ap="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function cv(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let s=0;s<ap.length;s++)t=ap[s],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function I3(n){this.src=n,this.g={},this.h=0}function t2(n,e){var t=e.type;if(t in n.g){var s,i=n.g[t],r=iv(i,e);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(f6(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function d0(n,e,t,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.ba&&s.listener==e&&s.capture==!!t&&s.ha==i)return r}return-1}I3.prototype.add=function(n,e,t,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var l=d0(n,e,i,r);return-1<l?(e=n[l],t||(e.ea=!1)):((e=new pS(e,this.src,s,!!i,r)).ea=t,n.push(e)),e};var d6="closure_lm_"+(1e6*Math.random()|0),ca={};function lv(n,e,t,i,r){if(i&&i.once)return uv(n,e,t,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)lv(n,e[s],t,i,r);return null}return t=p0(t),n&&n[T3]?n.N(e,t,o0(i)?!!i.capture:!!i,r):mS(n,e,t,!1,i,r)}function mS(n,e,t,i,r,s){if(!e)throw Error("Invalid event type");var l=o0(r)?!!r.capture:!!r,f=h0(n);if(f||(n[d6]=f=new I3(n)),(t=f.add(e,t,i,l,s)).proxy)return t;if(i=function gS(){const e=hk;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)cS||(r=l),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(lp(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function uv(n,e,t,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)uv(n,e[s],t,i,r);return null}return t=p0(t),n&&n[T3]?n.O(e,t,o0(i)?!!i.capture:!!i,r):mS(n,e,t,!0,i,r)}function fv(n,e,t,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)fv(n,e[s],t,i,r);else i=o0(i)?!!i.capture:!!i,t=p0(t),n&&n[T3]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=d0(s=n.g[e],t,i,r))&&(f6(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=h0(n))&&(e=n.g[e.toString()],n=-1,e&&(n=d0(e,t,i,r)),(t=-1<n?e[n]:null)&&cp(t))}function cp(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[T3])t2(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(lp(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=h0(e))?(t2(t,n),0==t.h&&(t.src=null,e[d6]=null)):f6(n)}}}function lp(n){return n in ca?ca[n]:ca[n]="on"+n}function hk(n,e){if(n.ba)n=!0;else{e=new u6(e,this);var t=n.listener,i=n.ha||n.src;n.ea&&cp(n),n=t.call(i,e)}return n}function h0(n){return(n=n[d6])instanceof I3?n:null}var up="__closure_events_fn_"+(1e9*Math.random()>>>0);function p0(n){return"function"==typeof n?n:(n[up]||(n[up]=function(e){return n.handleEvent(e)}),n[up])}function jr(){e2.call(this),this.i=new I3(this),this.P=this,this.I=null}function or(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new rs(e,n);else if(e instanceof rs)e.target=e.target||n;else{var r=e;cv(e=new rs(i,n),r)}if(r=!0,t)for(var s=t.length-1;0<=s;s--){var l=e.g=t[s];r=h6(l,i,!0,e)&&r}if(r=h6(l=e.g=n,i,!0,e)&&r,r=h6(l,i,!1,e)&&r,t)for(s=0;s<t.length;s++)r=h6(l=e.g=t[s],i,!1,e)&&r}function h6(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var l=e[s];if(l&&!l.ba&&l.capture==t){var f=l.listener,p=l.ha||l.src;l.ea&&t2(n.i,l),r=!1!==f.call(p,i)&&r}}return r&&!i.defaultPrevented}is(jr,e2),jr.prototype[T3]=!0,jr.prototype.removeEventListener=function(n,e,t,i){fv(this,n,e,t,i)},jr.prototype.M=function(){if(jr.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)f6(t[i]);delete n.g[e],n.h--}}this.I=null},jr.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},jr.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var m0=Xt.JSON.stringify;function dv(){var n=vS;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var hp,fp=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new g0,n=>n.reset());class g0{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function _0(n){Xt.setTimeout(()=>{throw n},0)}function dp(n,e){hp||function _S(){var n=Xt.Promise.resolve(void 0);hp=function(){n.then(pk)}}(),pv||(hp(),pv=!0),vS.add(n,e)}var pv=!1,vS=new class hv{constructor(){this.h=this.g=null}add(e,t){const i=fp.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function pk(){for(var n;n=dv();){try{n.h.call(n.g)}catch(t){_0(t)}var e=fp;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}pv=!1}function p6(n,e){jr.call(this),this.h=n||1,this.g=e||Xt,this.j=Ur(this.lb,this),this.l=Date.now()}function pp(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function mp(n,e,t){if("function"==typeof n)t&&(n=Ur(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Ur(n.handleEvent,n)}return 2147483647<Number(e)?-1:Xt.setTimeout(n,e||0)}function mv(n){n.g=mp(()=>{n.g=null,n.i&&(n.i=!1,mv(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}is(p6,jr),(Dt=p6.prototype).ca=!1,Dt.R=null,Dt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),or(this,"tick"),this.ca&&(pp(this),this.start()))}},Dt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Dt.M=function(){p6.X.M.call(this),pp(this),delete this.g};class mk extends e2{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:mv(this)}M(){super.M(),this.g&&(Xt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function v0(n){e2.call(this),this.h=n,this.g={}}is(v0,e2);var yS=[];function xS(n,e,t,i){Array.isArray(t)||(t&&(yS[0]=t.toString()),t=yS);for(var r=0;r<t.length;r++){var s=lv(e,t[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function bS(n){f0(n.g,function(e,t){this.g.hasOwnProperty(t)&&cp(e)},n),n.g={}}function y0(){this.g=!0}function A3(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Zc(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var l=1;l<r.length;l++)r[l]=""}}}return m0(t)}catch{return e}}(n,t)+(i?" "+i:"")})}v0.prototype.M=function(){v0.X.M.call(this),bS(this)},v0.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},y0.prototype.Aa=function(){this.g=!1},y0.prototype.info=function(){};var U1={},b0=null;function V3(){return b0=b0||new jr}function _v(n){rs.call(this,U1.Pa,n)}function Kc(n){const e=V3();or(e,new _v(e))}function C0(n,e){rs.call(this,U1.STAT_EVENT,n),this.stat=e}function yr(n){const e=V3();or(e,new C0(e,n))}function wS(n,e){rs.call(this,U1.Qa,n),this.size=e}function w0(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Xt.setTimeout(function(){n()},e)}U1.Pa="serverreachability",is(_v,rs),U1.STAT_EVENT="statevent",is(C0,rs),U1.Qa="timingevent",is(wS,rs);var gp={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},MS={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function M0(){}function yv(){}M0.prototype.h=null;var E0,m6={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function _p(){rs.call(this,"d")}function S0(){rs.call(this,"c")}function g6(){}function _6(n,e,t,i){this.l=n,this.j=e,this.m=t,this.U=i||1,this.S=new v0(this),this.O=bv,this.T=new p6(n=tp?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new xv}function xv(){this.i=null,this.g="",this.h=!1}is(_p,rs),is(S0,rs),is(g6,M0),g6.prototype.g=function(){return new XMLHttpRequest},g6.prototype.i=function(){return{}},E0=new g6;var bv=45e3,v6={},vp={};function D0(n,e,t){n.K=1,n.v=c(j1(e)),n.s=t,n.P=!0,T0(n,null)}function T0(n,e){n.F=Date.now(),I0(n),n.A=j1(n.v);var t=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),Ce(t.i,"t",i),n.C=0,t=n.l.H,n.h=new xv,n.g=Pk(n.l,t?e:null,!n.s),0<n.N&&(n.L=new mk(Ur(n.La,n,n.g),n.N)),xS(n.S,n.g,"readystatechange",n.ib),e=n.H?av(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),Kc(),function x0(n,e,t,i,r,s){n.info(function(){if(n.g)if(s)for(var l="",f=s.split("&"),p=0;p<f.length;p++){var _=f[p].split("=");if(1<_.length){var x=_[0];_=_[1];var M=x.split("_");l=2<=M.length&&"type"==M[1]?l+(x+"=")+_+"&":l+(x+"=redacted&")}}else l=null;else l=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.U,n.s)}function Cv(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function wv(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=gk(n,t),r==vp){4==e&&(n.o=4,yr(14),i=!1),A3(n.j,n.m,null,"[Incomplete Response]");break}if(r==v6){n.o=4,yr(15),A3(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}A3(n.j,n.m,r,null),Sv(n,r)}Cv(n)&&r!=vp&&r!=v6&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,yr(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),AS(e),e.K=!0,yr(11))):(A3(n.j,n.m,t,"[Invalid Chunked Response]"),L3(n),y6(n))}function gk(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?vp:(t=Number(e.substring(t,i)),isNaN(t)?v6:(i+=1)+t>e.length?vp:(e=e.substr(i,t),n.C=i+t,e))}function I0(n){n.V=Date.now()+n.O,Mv(n,n.O)}function Mv(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=w0(Ur(n.gb,n),e)}function A0(n){n.B&&(Xt.clearTimeout(n.B),n.B=null)}function y6(n){0==n.l.G||n.I||Hk(n.l,n)}function L3(n){A0(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,pp(n.T),bS(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Sv(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Un(t.h,n)))if(!n.J&&Un(t.h,n)&&3==t.G){try{var i=t.Fa.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;Av(t),Tv(t)}IS(t),yr(18)}}else t.Ba=r[1],0<t.Ba-t.T&&37500>r[2]&&t.L&&0==t.A&&!t.v&&(t.v=w0(Ur(t.cb,t),6e3));if(1>=zn(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else b6(t,11)}else if((n.J||t.g==n)&&Av(t),!l0(e))for(r=t.Fa.g.parse(e),e=0;e<r.length;e++){let _=r[e];if(t.T=_[0],_=_[1],2==t.G)if("c"==_[0]){t.I=_[1],t.ka=_[2];const x=_[3];null!=x&&(t.ma=x,t.j.info("VER="+t.ma));const M=_[4];null!=M&&(t.Ca=M,t.j.info("SVER="+t.Ca));const I=_[5];null!=I&&"number"==typeof I&&0<I&&(t.J=i=1.5*I,t.j.info("backChannelRequestTimeoutMs_="+i)),i=t;const H=n.g;if(H){const P=H.g?H.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(P){var s=i.h;s.g||-1==P.indexOf("spdy")&&-1==P.indexOf("quic")&&-1==P.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(H3(s,s.h),s.h=null))}if(i.D){const q=H.g?H.g.getResponseHeader("X-HTTP-Session-Id"):null;q&&(i.za=q,o(i.F,i.D,q))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var l=n;if((i=t).sa=Rk(i,i.H?i.ka:null,i.V),l.J){V0(i.h,l);var f=l,p=i.J;p&&f.setTimeout(p),f.B&&(A0(f),I0(f)),i.g=l}else Lk(i);0<t.i.length&&Iv(t)}else"stop"!=_[0]&&"close"!=_[0]||b6(t,7);else 3==t.G&&("stop"==_[0]||"close"==_[0]?"stop"==_[0]?b6(t,7):TS(t):"noop"!=_[0]&&t.l&&t.l.wa(_),t.A=0)}Kc()}catch{}}function SS(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(X5(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function vk(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(X5(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function _k(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(X5(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,s=0;s<r;s++)e.call(void 0,i[s],t&&t[s],n)}(Dt=_6.prototype).setTimeout=function(n){this.O=n},Dt.ib=function(n){n=n.target;const e=this.L;e&&3==Xc(n)?e.l():this.La(n)},Dt.La=function(n){try{if(n==this.g)e:{const x=Xc(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>x)&&(3!=x||tp||this.g&&(this.h.h||this.g.fa()||Ek(this.g)))){this.I||4!=x||7==e||Kc(),A0(this);var t=this.g.aa();this.Y=t;t:if(Cv(this)){var i=Ek(this.g);n="";var r=i.length,s=4==Xc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){L3(this),y6(this);var l="";break t}this.h.i=new Xt.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.fa();if(this.i=200==t,function CS(n,e,t,i,r,s,l){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+s+" "+l})}(this.j,this.u,this.A,this.m,this.U,x,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var f,p=this.g;if((f=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!l0(f)){var _=f;break t}}_=null}if(!(t=_)){this.i=!1,this.o=3,yr(12),L3(this),y6(this);break e}A3(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Sv(this,t)}this.P?(wv(this,x,l),tp&&this.i&&3==x&&(xS(this.S,this.T,"tick",this.hb),this.T.start())):(A3(this.j,this.m,l,null),Sv(this,l)),4==x&&L3(this),this.i&&!this.I&&(4==x?Hk(this.l,this):(this.i=!1,I0(this)))}else 400==t&&0<l.indexOf("Unknown SID")?(this.o=3,yr(12)):(this.o=0,yr(13)),L3(this),y6(this)}}}catch{}},Dt.hb=function(){if(this.g){var n=Xc(this.g),e=this.g.fa();this.C<e.length&&(A0(this),wv(this,n,e),this.i&&4!=n&&I0(this))}},Dt.cancel=function(){this.I=!0,L3(this)},Dt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function gv(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Kc(),yr(17)),L3(this),this.o=2,y6(this)):Mv(this,this.V-n)};var Ev=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function k3(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof k3){this.h=void 0!==e?e:n.h,yp(this,n.j),this.s=n.s,this.g=n.g,xp(this,n.m),this.l=n.l,e=n.i;var t=new k;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),ES(this,t),this.o=n.o}else n&&(t=String(n).match(Ev))?(this.h=!!e,yp(this,t[1]||"",!0),this.s=u(t[2]||""),this.g=u(t[3]||"",!0),xp(this,t[4]),this.l=u(t[5]||"",!0),ES(this,t[6]||"",!0),this.o=u(t[7]||"")):(this.h=!!e,this.i=new k(null,this.h))}function j1(n){return new k3(n)}function yp(n,e,t){n.j=t?u(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function xp(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function ES(n,e,t){e instanceof k?(n.i=e,function Xe(n,e){e&&!n.j&&(B(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(X(this,i),Ce(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=d(e,S)),n.i=new k(e,n.h))}function o(n,e,t){n.i.set(e,t)}function c(n){return o(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function u(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function d(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,h),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function h(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}k3.prototype.toString=function(){var n=[],e=this.j;e&&n.push(d(e,m,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(d(e,m,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(d(t,"/"==t.charAt(0)?C:y,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",d(t,T)),n.join("")};var m=/[#\/\?@]/g,y=/[#\?:]/g,C=/[#\?]/g,S=/[#\?@]/g,T=/#/g;function k(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function B(n){n.g||(n.g=new Map,n.h=0,n.i&&function yk(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var s=n[t].substring(0,i);r=n[t].substring(i+1)}else s=n[t];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function X(n,e){B(n),e=Oe(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function ae(n,e){return B(n),e=Oe(n,e),n.g.has(e)}function Ce(n,e,t){X(n,e),0<t.length&&(n.i=null,n.g.set(Oe(n,e),c0(t)),n.h+=t.length)}function Oe(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Lt(n){this.l=n||Re,n=Xt.PerformanceNavigationTiming?0<(n=Xt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Xt.g&&Xt.g.Ga&&Xt.g.Ga()&&Xt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Dt=k.prototype).add=function(n,e){B(this),this.i=null,n=Oe(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Dt.forEach=function(n,e){B(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},Dt.oa=function(){B(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let s=0;s<r.length;s++)t.push(e[i])}return t},Dt.W=function(n){B(this);let e=[];if("string"==typeof n)ae(this,n)&&(e=e.concat(this.g.get(Oe(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Dt.set=function(n,e){return B(this),this.i=null,ae(this,n=Oe(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Dt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},Dt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const s=encodeURIComponent(String(i)),l=this.W(i);for(i=0;i<l.length;i++){var r=s;""!==l[i]&&(r+="="+encodeURIComponent(String(l[i]))),n.push(r)}}return this.i=n.join("&")};var Re=10;function jt(n){return!!n.h||!!n.g&&n.g.size>=n.j}function zn(n){return n.h?1:n.g?n.g.size:0}function Un(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function H3(n,e){n.g?n.g.add(e):n.h=e}function V0(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function L0(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return c0(n.i)}function x6(){}function bp(){this.g=new x6}function Cp(n,e,t){const i=t||"";try{SS(n,function(r,s){let l=r;o0(r)&&(l=m0(r)),e.push(i+s+"="+encodeURIComponent(l))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function z3(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function Qc(n){this.l=n.ac||null,this.j=n.jb||!1}function N3(n,e){jr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Mp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Lt.prototype.cancel=function(){if(this.i=L0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},x6.prototype.stringify=function(n){return Xt.JSON.stringify(n,void 0)},x6.prototype.parse=function(n){return Xt.JSON.parse(n,void 0)},is(Qc,M0),Qc.prototype.g=function(){return new N3(this.l,this.j)},Qc.prototype.i=function(n){return function(){return n}}({}),is(N3,jr);var Mp=0;function xk(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function Sp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Ep(n)}function Ep(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Dt=N3.prototype).open=function(n,e){if(this.readyState!=Mp)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Ep(this)},Dt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Xt).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},Dt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Sp(this)),this.readyState=Mp},Dt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Ep(this)),this.g&&(this.readyState=3,Ep(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Xt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;xk(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},Dt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Sp(this):Ep(this),3==this.readyState&&xk(this)}},Dt.Va=function(n){this.g&&(this.response=this.responseText=n,Sp(this))},Dt.Ua=function(n){this.g&&(this.response=n,Sp(this))},Dt.ga=function(){this.g&&Sp(this)},Dt.setRequestHeader=function(n,e){this.v.append(n,e)},Dt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Dt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(N3.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var rQ=Xt.JSON.parse;function Yi(n){jr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=bk,this.K=this.L=!1}is(Yi,jr);var bk="",sQ=/^https?$/i,oQ=["POST","PUT"];function Ck(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,wk(n),Dv(n)}function wk(n){n.D||(n.D=!0,or(n,"complete"),or(n,"error"))}function Mk(n){if(n.h&&typeof ev<"u"&&(!n.C[1]||4!=Xc(n)||2!=n.aa()))if(n.v&&4==Xc(n))mp(n.Ha,0,n);else if(or(n,"readystatechange"),4==Xc(n)){n.h=!1;try{const f=n.aa();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===f){var r=String(n.H).match(Ev)[1]||null;if(!r&&Xt.self&&Xt.self.location){var s=Xt.self.location.protocol;r=s.substr(0,s.length-1)}i=!sQ.test(r?r.toLowerCase():"")}t=i}if(t)or(n,"complete"),or(n,"success");else{n.m=6;try{var l=2<Xc(n)?n.g.statusText:""}catch{l=""}n.j=l+" ["+n.aa()+"]",wk(n)}}finally{Dv(n)}}}function Dv(n,e){if(n.g){Sk(n);const t=n.g,i=n.C[0]?Q5:null;n.g=null,n.C=null,e||or(n,"ready");try{t.onreadystatechange=i}catch{}}}function Sk(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Xt.clearTimeout(n.A),n.A=null)}function Xc(n){return n.g?n.g.readyState:0}function Ek(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case bk:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Dk(n){let e="";return f0(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function DS(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=Dk(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):o(n,e,t))}function Dp(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Tk(n){this.Ca=0,this.i=[],this.j=new y0,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Dp("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Dp("baseRetryDelayMs",5e3,n),this.bb=Dp("retryDelaySeedMs",1e4,n),this.$a=Dp("forwardChannelMaxRetries",2,n),this.ta=Dp("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new Lt(n&&n.concurrentRequestLimit),this.Fa=new bp,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function TS(n){if(Ik(n),3==n.G){var e=n.U++,t=j1(n.F);o(t,"SID",n.I),o(t,"RID",e),o(t,"TYPE","terminate"),Tp(n,t),(e=new _6(n,n.j,e,void 0)).K=2,e.v=c(j1(t)),t=!1,Xt.navigator&&Xt.navigator.sendBeacon&&(t=Xt.navigator.sendBeacon(e.v.toString(),"")),!t&&Xt.Image&&((new Image).src=e.v,t=!0),t||(e.g=Pk(e.l,null),e.g.da(e.v)),e.F=Date.now(),I0(e)}Nk(n)}function Tv(n){n.g&&(AS(n),n.g.cancel(),n.g=null)}function Ik(n){Tv(n),n.u&&(Xt.clearTimeout(n.u),n.u=null),Av(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Xt.clearTimeout(n.m),n.m=null)}function Iv(n){jt(n.h)||n.m||(n.m=!0,dp(n.Ja,n),n.C=0)}function Ak(n,e){var t;t=e?e.m:n.U++;const i=j1(n.F);o(i,"SID",n.I),o(i,"RID",t),o(i,"AID",n.T),Tp(n,i),n.o&&n.s&&DS(i,n.o,n.s),t=new _6(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=Vk(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),H3(n.h,t),D0(t,i,e)}function Tp(n,e){n.ia&&f0(n.ia,function(t,i){o(e,i,t)}),n.l&&SS({},function(t,i){o(e,i,t)})}function Vk(n,e,t){t=Math.min(n.i.length,t);var i=n.l?Ur(n.l.Ra,n.l,n):null;e:{var r=n.i;let s=-1;for(;;){const l=["count="+t];-1==s?0<t?(s=r[0].h,l.push("ofs="+s)):s=0:l.push("ofs="+s);let f=!0;for(let p=0;p<t;p++){let _=r[p].h;const x=r[p].g;if(_-=s,0>_)s=Math.max(0,r[p].h-100),f=!1;else try{Cp(x,l,"req"+_+"_")}catch{i&&i(x)}}if(f){i=l.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,i}function Lk(n){n.g||n.u||(n.Z=1,dp(n.Ia,n),n.A=0)}function IS(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=w0(Ur(n.Ia,n),zk(n,n.A)),n.A++,0))}function AS(n){null!=n.B&&(Xt.clearTimeout(n.B),n.B=null)}function kk(n){n.g=new _6(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=j1(n.sa);o(e,"RID","rpc"),o(e,"SID",n.I),o(e,"CI",n.L?"0":"1"),o(e,"AID",n.T),o(e,"TYPE","xmlhttp"),Tp(n,e),n.o&&n.s&&DS(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=c(j1(e)),t.s=null,t.P=!0,T0(t,n)}function Av(n){null!=n.v&&(Xt.clearTimeout(n.v),n.v=null)}function Hk(n,e){var t=null;if(n.g==e){Av(n),AS(n),n.g=null;var i=2}else{if(!Un(n.h,e))return;t=e.D,V0(n.h,e),i=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;or(i=V3(),new wS(i,t)),Iv(n)}else Lk(n);else if(3==(r=e.o)||0==r&&0<n.pa||!(1==i&&function cQ(n,e){return!(zn(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=w0(Ur(n.Ja,n,e),zk(n,n.C)),n.C++,0)))}(n,e)||2==i&&IS(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),r){case 1:b6(n,5);break;case 4:b6(n,10);break;case 3:b6(n,6);break;default:b6(n,2)}}function zk(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function b6(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var i=Ur(n.kb,n);t||(t=new k3("//www.google.com/images/cleardot.gif"),Xt.location&&"http"==Xt.location.protocol||yp(t,"https"),c(t)),function wp(n,e){const t=new y0;if(Xt.Image){const i=new Image;i.onload=a6(z3,t,i,"TestLoadImage: loaded",!0,e),i.onerror=a6(z3,t,i,"TestLoadImage: error",!1,e),i.onabort=a6(z3,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=a6(z3,t,i,"TestLoadImage: timeout",!1,e),Xt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else yr(2);n.G=0,n.l&&n.l.va(e),Nk(n),Ik(n)}function Nk(n){if(n.G=0,n.la=[],n.l){const e=L0(n.h);(0!=e.length||0!=n.i.length)&&(aS(n.la,e),aS(n.la,n.i),n.h.i.length=0,c0(n.i),n.i.length=0),n.l.ua()}}function Rk(n,e,t){var i=t instanceof k3?j1(t):new k3(t,void 0);if(""!=i.g)e&&(i.g=e+"."+i.g),xp(i,i.m);else{var r=Xt.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var s=new k3(null,void 0);i&&yp(s,i),e&&(s.g=e),r&&xp(s,r),t&&(s.l=t),i=s}return e=n.za,(t=n.D)&&e&&o(i,t,e),o(i,"VER",n.ma),Tp(n,i),i}function Pk(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Yi(t&&n.Da&&!n.ra?new Qc({jb:!0}):n.ra)).Ka(n.H),e}function Ok(){}function Vv(){if(D3&&!(10<=Number(hS)))throw Error("Environmental error: no available transport.")}function la(n,e){jr.call(this),this.g=new Tk(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!l0(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!l0(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new k0(this)}function Fk(n){_p.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Bk(){S0.call(this),this.status=1}function k0(n){this.g=n}(Dt=Yi.prototype).Ka=function(n){this.L=n},Dt.da=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():E0.g(),this.C=function vv(n){return n.h||(n.h=n.i())}(this.u?this.u:E0),this.g.onreadystatechange=Ur(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void Ck(this,s)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())t.set(s,i.get(s))}i=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),r=Xt.FormData&&n instanceof Xt.FormData,!(0<=iv(oQ,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,l]of t)this.g.setRequestHeader(s,l);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Sk(this),0<this.B&&((this.K=function aQ(n){return D3&&function To(){return function lS(n){var e=dk;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=c6(String(zs)).split("."),t=c6("9").split("."),i=Math.max(e.length,t.length);for(let l=0;0==n&&l<i;l++){var r=e[l]||"",s=t[l]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;n=J5(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||J5(0==r[2].length,0==s[2].length)||J5(r[2],s[2]),r=r[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ur(this.qa,this)):this.A=mp(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){Ck(this,s)}},Dt.qa=function(){typeof ev<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,or(this,"timeout"),this.abort(8))},Dt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,or(this,"complete"),or(this,"abort"),Dv(this))},Dt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Dv(this,!0)),Yi.X.M.call(this)},Dt.Ha=function(){this.s||(this.F||this.v||this.l?Mk(this):this.fb())},Dt.fb=function(){Mk(this)},Dt.aa=function(){try{return 2<Xc(this)?this.g.status:-1}catch{return-1}},Dt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},Dt.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),rQ(e)}},Dt.Ea=function(){return this.m},Dt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Dt=Tk.prototype).ma=8,Dt.G=1,Dt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const r=new _6(this,this.j,n,void 0);let s=this.s;if(this.S&&(s?(s=av(s),cv(s,this.S)):s=this.S),null!==this.o||this.N||(r.H=s,s=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var i=this.i[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Vk(this,r,e),o(t=j1(this.F),"RID",n),o(t,"CVER",22),this.D&&o(t,"X-HTTP-Session-Id",this.D),Tp(this,t),s&&(this.N?e="headers="+encodeURIComponent(String(Dk(s)))+"&"+e:this.o&&DS(t,this.o,s)),H3(this.h,r),this.Ya&&o(t,"TYPE","init"),this.O?(o(t,"$req",e),o(t,"SID","null"),r.Z=!0,D0(r,t,null)):D0(r,t,e),this.G=2}}else 3==this.G&&(n?Ak(this,n):0==this.i.length||jt(this.h)||Ak(this))},Dt.Ia=function(){if(this.u=null,kk(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=w0(Ur(this.eb,this),n)}},Dt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,yr(10),Tv(this),kk(this))},Dt.cb=function(){null!=this.v&&(this.v=null,Tv(this),IS(this),yr(19))},Dt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),yr(2)):(this.j.info("Failed to ping google.com"),yr(1))},(Dt=Ok.prototype).xa=function(){},Dt.wa=function(){},Dt.va=function(){},Dt.ua=function(){},Dt.Ra=function(){},Vv.prototype.g=function(n,e){return new la(n,e)},is(la,jr),la.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;yr(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=Rk(n,null,n.V),Iv(n)},la.prototype.close=function(){TS(this.g)},la.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=m0(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&Iv(e)},la.prototype.M=function(){this.g.l=null,delete this.j,TS(this.g),delete this.g,la.X.M.call(this)},is(Fk,_p),is(Bk,S0),is(k0,Ok),k0.prototype.xa=function(){or(this.g,"a")},k0.prototype.wa=function(n){or(this.g,new Fk(n))},k0.prototype.va=function(n){or(this.g,new Bk)},k0.prototype.ua=function(){or(this.g,"b")},Vv.prototype.createWebChannel=Vv.prototype.g,la.prototype.send=la.prototype.u,la.prototype.open=la.prototype.m,la.prototype.close=la.prototype.close,gp.NO_ERROR=0,gp.TIMEOUT=8,gp.HTTP_ERROR=6,MS.COMPLETE="complete",yv.EventType=m6,m6.OPEN="a",m6.CLOSE="b",m6.ERROR="c",m6.MESSAGE="d",jr.prototype.listen=jr.prototype.N,Yi.prototype.listenOnce=Yi.prototype.O,Yi.prototype.getLastError=Yi.prototype.Oa,Yi.prototype.getLastErrorCode=Yi.prototype.Ea,Yi.prototype.getStatus=Yi.prototype.aa,Yi.prototype.getResponseJson=Yi.prototype.Sa,Yi.prototype.getResponseText=Yi.prototype.fa,Yi.prototype.send=Yi.prototype.da,Yi.prototype.setWithCredentials=Yi.prototype.Ka;var lQ=B1.createWebChannelTransport=function(){return new Vv},uQ=B1.getStatEventTarget=function(){return V3()},VS=B1.ErrorCode=gp,fQ=B1.EventType=MS,dQ=B1.Event=U1,Uk=B1.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},hQ=B1.FetchXmlHttpFactory=Qc,Lv=B1.WebChannel=yv,pQ=B1.XhrIo=Yi;const jk="@firebase/firestore";class ss{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ss.UNAUTHENTICATED=new ss(null),ss.GOOGLE_CREDENTIALS=new ss("google-credentials-uid"),ss.FIRST_PARTY=new ss("first-party-uid"),ss.MOCK_USER=new ss("mock-user");let H0="9.15.0";const R3=new Ja.Yd("@firebase/firestore");function LS(){return R3.logLevel}function We(n,...e){if(R3.logLevel<=Ja.in.DEBUG){const t=e.map(kS);R3.debug(`Firestore (${H0}): ${n}`,...t)}}function ar(n,...e){if(R3.logLevel<=Ja.in.ERROR){const t=e.map(kS);R3.error(`Firestore (${H0}): ${n}`,...t)}}function z0(n,...e){if(R3.logLevel<=Ja.in.WARN){const t=e.map(kS);R3.warn(`Firestore (${H0}): ${n}`,...t)}}function kS(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function _t(n="Unexpected state"){const e=`FIRESTORE (${H0}) INTERNAL ASSERTION FAILED: `+n;throw ar(e),new Error(e)}function Tt(n,e){n||_t()}function ot(n,e){return n}const ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class je extends F.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class $r{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class $k{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mQ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ss.UNAUTHENTICATED))}shutdown(){}}class gQ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class _Q{constructor(e){this.t=e,this.currentUser=ss.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const s=_=>this.i!==r?(r=this.i,t(_)):Promise.resolve();let l=new $r;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new $r,e.enqueueRetryable(()=>s(this.currentUser))};const f=()=>{const _=l;e.enqueueRetryable((0,et.Z)(function*(){yield _.promise,yield s(i.currentUser)}))},p=_=>{We("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(_=>p(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(We("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new $r)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(We("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Tt("string"==typeof i.accessToken),new $k(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Tt(null===e||"string"==typeof e),new ss(e)}}class vQ{constructor(e,t,i,r){this.h=e,this.l=t,this.m=i,this.g=r,this.type="FirstParty",this.user=ss.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Tt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class yQ{constructor(e,t,i,r){this.h=e,this.l=t,this.m=i,this.g=r}getToken(){return Promise.resolve(new vQ(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(ss.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Gk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xQ{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const i=s=>{null!=s.error&&We("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.A;return this.A=s.token,We("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{We("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?r(s):We("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Tt("string"==typeof t.token),this.A=t.token,new Gk(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function bQ(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class Wk{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=bQ(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%e.length))}return i}}function en(n,e){return n<e?-1:n>e?1:0}function N0(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}class Oi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new je(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new je(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new je(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new je(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Oi.fromMillis(Date.now())}static fromDate(e){return Oi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Oi(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?en(this.nanoseconds,e.nanoseconds):en(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class kt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new kt(e)}static min(){return new kt(new Oi(0,0))}static max(){return new kt(new Oi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ip{constructor(e,t,i){void 0===t?t=0:t>e.length&&_t(),void 0===i?i=e.length-t:i>e.length-t&&_t(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Ip.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ip?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=e.get(r),l=t.get(r);if(s<l)return-1;if(s>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Mn extends Ip{construct(e,t,i){return new Mn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new je(ve.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new Mn(t)}static emptyPath(){return new Mn([])}}const CQ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cr extends Ip{construct(e,t,i){return new cr(e,t,i)}static isValidIdentifier(e){return CQ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new cr(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const s=()=>{if(0===i.length)throw new je(ve.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let l=!1;for(;r<e.length;){const f=e[r];if("\\"===f){if(r+1===e.length)throw new je(ve.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[r+1];if("\\"!==p&&"."!==p&&"`"!==p)throw new je(ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,r+=2}else"`"===f?(l=!l,r++):"."!==f||l?(i+=f,r++):(s(),r++)}if(s(),l)throw new je(ve.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cr(t)}static emptyPath(){return new cr([])}}class rt{constructor(e){this.path=e}static fromPath(e){return new rt(Mn.fromString(e))}static fromName(e){return new rt(Mn.fromString(e).popFirst(5))}static empty(){return new rt(Mn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Mn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Mn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new rt(new Mn(e.slice()))}}function Zk(n){return new ua(n.readTime,n.key,-1)}class ua{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ua(kt.min(),rt.empty(),-1)}static max(){return new ua(kt.max(),rt.empty(),-1)}}function zS(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=rt.comparator(n.documentKey,e.documentKey),0!==t?t:en(n.largestBatchId,e.largestBatchId))}const Kk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SQ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function P3(n){return NS.apply(this,arguments)}function NS(){return NS=(0,et.Z)(function*(n){if(n.code!==ve.FAILED_PRECONDITION||n.message!==Kk)throw n;We("LocalStore","Unexpectedly lost primary lease")}),NS.apply(this,arguments)}class ge{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&_t(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ge((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ge?t:ge.resolve(t)}catch(t){return ge.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ge.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ge.reject(t)}static resolve(e){return new ge((t,i)=>{t(e)})}static reject(e){return new ge((t,i)=>{i(e)})}static waitFor(e){return new ge((t,i)=>{let r=0,s=0,l=!1;e.forEach(f=>{++r,f.next(()=>{++s,l&&s===r&&t()},p=>i(p))}),l=!0,s===r&&t()})}static or(e){let t=ge.resolve(!1);for(const i of e)t=t.next(r=>r?ge.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new ge((i,r)=>{const s=e.length,l=new Array(s);let f=0;for(let p=0;p<s;p++){const _=p;t(e[_]).next(x=>{l[_]=x,++f,f===s&&i(l)},x=>r(x))}})}static doWhile(e,t){return new ge((i,r)=>{const s=()=>{!0===e()?t().next(()=>{s()},r):i()};s()})}}function O3(n){return"IndexedDbTransactionError"===n.name}let fa=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>i.writeSequenceNumber(r))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return n.at=-1,n})();class AQ{constructor(e,t,i,r,s,l,f,p){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=f,this.useFetchStreams=p}}class M6{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new M6("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof M6&&e.projectId===this.projectId&&e.database===this.database}}function Xk(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function S6(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Jk(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Lp(n){return null==n}function kp(n){return 0===n&&1/n==-1/0}class Gr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Gr(t)}static fromUint8Array(e){const t=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(e);return new Gr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return en(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gr.EMPTY_BYTE_STRING=new Gr("");const VQ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function F3(n){if(Tt(!!n),"string"==typeof n){let e=0;const t=VQ.exec(n);if(Tt(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Zi(n.seconds),nanos:Zi(n.nanos)}}function Zi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function E6(n){return"string"==typeof n?Gr.fromBase64String(n):Gr.fromUint8Array(n)}function PS(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function tH(n){const e=n.mapValue.fields.__previous_value__;return PS(e)?tH(e):e}function Hp(n){const e=F3(n.mapValue.fields.__local_write_time__.timestampValue);return new Oi(e.seconds,e.nanos)}const B3_mapValue={fields:{__type__:{stringValue:"__max__"}}};function D6(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?PS(n)?4:sH(n)?9007199254740991:10:_t()}function $1(n,e){if(n===e)return!0;const t=D6(n);if(t!==D6(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Hp(n).isEqual(Hp(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=F3(i.timestampValue),l=F3(r.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,E6(n.bytesValue).isEqual(E6(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return Zi(i.geoPointValue.latitude)===Zi(r.geoPointValue.latitude)&&Zi(i.geoPointValue.longitude)===Zi(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Zi(i.integerValue)===Zi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=Zi(i.doubleValue),l=Zi(r.doubleValue);return s===l?kp(s)===kp(l):isNaN(s)&&isNaN(l)}return!1}(n,e);case 9:return N0(n.arrayValue.values||[],e.arrayValue.values||[],$1);case 10:return function(i,r){const s=i.mapValue.fields||{},l=r.mapValue.fields||{};if(Xk(s)!==Xk(l))return!1;for(const f in s)if(s.hasOwnProperty(f)&&(void 0===l[f]||!$1(s[f],l[f])))return!1;return!0}(n,e);default:return _t()}var r}function zp(n,e){return void 0!==(n.values||[]).find(t=>$1(t,e))}function U3(n,e){if(n===e)return 0;const t=D6(n),i=D6(e);if(t!==i)return en(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return en(n.booleanValue,e.booleanValue);case 2:return function(r,s){const l=Zi(r.integerValue||r.doubleValue),f=Zi(s.integerValue||s.doubleValue);return l<f?-1:l>f?1:l===f?0:isNaN(l)?isNaN(f)?0:-1:1}(n,e);case 3:return nH(n.timestampValue,e.timestampValue);case 4:return nH(Hp(n),Hp(e));case 5:return en(n.stringValue,e.stringValue);case 6:return function(r,s){const l=E6(r),f=E6(s);return l.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(r,s){const l=r.split("/"),f=s.split("/");for(let p=0;p<l.length&&p<f.length;p++){const _=en(l[p],f[p]);if(0!==_)return _}return en(l.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,s){const l=en(Zi(r.latitude),Zi(s.latitude));return 0!==l?l:en(Zi(r.longitude),Zi(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,s){const l=r.values||[],f=s.values||[];for(let p=0;p<l.length&&p<f.length;++p){const _=U3(l[p],f[p]);if(_)return _}return en(l.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,s){if(r===B3_mapValue&&s===B3_mapValue)return 0;if(r===B3_mapValue)return 1;if(s===B3_mapValue)return-1;const l=r.fields||{},f=Object.keys(l),p=s.fields||{},_=Object.keys(p);f.sort(),_.sort();for(let x=0;x<f.length&&x<_.length;++x){const M=en(f[x],_[x]);if(0!==M)return M;const I=U3(l[f[x]],p[_[x]]);if(0!==I)return I}return en(f.length,_.length)}(n.mapValue,e.mapValue);default:throw _t()}}function nH(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return en(n,e);const t=F3(n),i=F3(e),r=en(t.seconds,i.seconds);return 0!==r?r:en(t.nanos,i.nanos)}function R0(n){return OS(n)}function OS(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=F3(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?E6(n.bytesValue).toBase64():"referenceValue"in n?rt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const l of i.values||[])s?s=!1:r+=",",r+=OS(l);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",l=!0;for(const f of r)l?l=!1:s+=",",s+=`${f}:${OS(i.fields[f])}`;return s+"}"}(n.mapValue):_t();var e}function T6(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function FS(n){return!!n&&"integerValue"in n}function Np(n){return!!n&&"arrayValue"in n}function iH(n){return!!n&&"nullValue"in n}function rH(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Rv(n){return!!n&&"mapValue"in n}function Rp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return S6(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Rp(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Rp(n.arrayValue.values[t]);return e}return Object.assign({},n)}function sH(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class j3{constructor(e,t){this.position=e,this.inclusive=t}}function cH(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const s=e[r],l=n.position[r];if(i=s.field.isKeyField()?rt.comparator(rt.fromName(l.referenceValue),t.key):U3(l,t.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function lH(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!$1(n.position[t],e.position[t]))return!1;return!0}class uH{}class yn extends uH{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new HQ(e,t,i):"array-contains"===t?new RQ(e,i):"in"===t?new vH(e,i):"not-in"===t?new PQ(e,i):"array-contains-any"===t?new OQ(e,i):new yn(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new zQ(e,i):new NQ(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(U3(t,this.value)):null!==t&&D6(this.value)===D6(t)&&this.matchesComparison(U3(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return _t()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class jn extends uH{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new jn(e,t)}matches(e){return P0(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function P0(n){return"and"===n.op}function fH(n){return function dH(n){for(const e of n.filters)if(e instanceof jn)return!1;return!0}(n)&&P0(n)}function hH(n){if(n instanceof yn)return n.field.canonicalString()+n.op.toString()+R0(n.value);{const e=n.filters.map(t=>hH(t)).join(",");return`${n.op}(${e})`}}function pH(n,e){return n instanceof yn?(t=n,(i=e)instanceof yn&&t.op===i.op&&t.field.isEqual(i.field)&&$1(t.value,i.value)):n instanceof jn?function(t,i){return i instanceof jn&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((r,s,l)=>r&&pH(s,i.filters[l]),!0)}(n,e):void _t();var t,i}function gH(n){return n instanceof yn?`${(e=n).field.canonicalString()} ${e.op} ${R0(e.value)}`:n instanceof jn?function(e){return e.op.toString()+" {"+e.getFilters().map(gH).join(" ,")+"}"}(n):"Filter";var e}class HQ extends yn{constructor(e,t,i){super(e,t,i),this.key=rt.fromName(i.referenceValue)}matches(e){const t=rt.comparator(e.key,this.key);return this.matchesComparison(t)}}class zQ extends yn{constructor(e,t){super(e,"in",t),this.keys=_H(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class NQ extends yn{constructor(e,t){super(e,"not-in",t),this.keys=_H(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function _H(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>rt.fromName(i.referenceValue))}class RQ extends yn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Np(t)&&zp(t.arrayValue,this.value)}}class vH extends yn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&zp(this.value.arrayValue,t)}}class PQ extends yn{constructor(e,t){super(e,"not-in",t)}matches(e){if(zp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!zp(this.value.arrayValue,t)}}class OQ extends yn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Np(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>zp(this.value.arrayValue,i))}}class O0{constructor(e,t="asc"){this.field=e,this.dir=t}}function FQ(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Ki{constructor(e,t){this.comparator=e,this.root=t||xs.EMPTY}insert(e,t){return new Ki(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,xs.BLACK,null,null))}remove(e){return new Ki(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pv(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pv(this.root,e,this.comparator,!0)}}class Pv{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xs{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??xs.RED,this.left=r??xs.EMPTY,this.right=s??xs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new xs(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return xs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return xs.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _t();const e=this.left.check();if(e!==this.right.check())throw _t();return e+(this.isRed()?0:1)}}xs.EMPTY=null,xs.RED=!0,xs.BLACK=!1,xs.EMPTY=new class{constructor(){this.size=0}get key(){throw _t()}get value(){throw _t()}get color(){throw _t()}get left(){throw _t()}get right(){throw _t()}copy(n,e,t,i,r){return this}insert(n,e,t){return new xs(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qn{constructor(e){this.comparator=e,this.data=new Ki(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new yH(this.data.getIterator())}getIteratorFrom(e){return new yH(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof qn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new qn(this.comparator);return t.data=e,t}}class yH{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class da{constructor(e){this.fields=e,e.sort(cr.comparator)}static empty(){return new da([])}unionWith(e){let t=new qn(cr.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new da(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return N0(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class bs{constructor(e){this.value=e}static empty(){return new bs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Rv(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rp(t)}setAll(e){let t=cr.emptyPath(),i={},r=[];e.forEach((l,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,i,r),i={},r=[],t=f.popLast()}l?i[f.lastSegment()]=Rp(l):r.push(f.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){const t=this.field(e.popLast());Rv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return $1(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];Rv(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){S6(t,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new bs(Rp(this.value))}}function xH(n){const e=[];return S6(n.fields,(t,i)=>{const r=new cr([t]);if(Rv(i)){const s=xH(i.mapValue).fields;if(0===s.length)e.push(r);else for(const l of s)e.push(r.child(l))}else e.push(r)}),new da(e)}class mi{constructor(e,t,i,r,s,l,f){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=s,this.data=l,this.documentState=f}static newInvalidDocument(e){return new mi(e,0,kt.min(),kt.min(),kt.min(),bs.empty(),0)}static newFoundDocument(e,t,i,r){return new mi(e,1,t,kt.min(),i,r,0)}static newNoDocument(e,t){return new mi(e,2,t,kt.min(),kt.min(),bs.empty(),0)}static newUnknownDocument(e,t){return new mi(e,3,t,kt.min(),kt.min(),bs.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(kt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=kt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof mi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class BQ{constructor(e,t=null,i=[],r=[],s=null,l=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=l,this.endAt=f,this.ft=null}}function US(n,e=null,t=[],i=[],r=null,s=null,l=null){return new BQ(n,e,t,i,r,s,l)}function I6(n){const e=ot(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>hH(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Lp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>R0(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>R0(i)).join(",")),e.ft=t}return e.ft}function Pp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!FQ(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!pH(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!lH(n.startAt,e.startAt)&&lH(n.endAt,e.endAt)}function Ov(n){return rt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Jc{constructor(e,t=null,i=[],r=[],s=null,l="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=l,this.startAt=f,this.endAt=p,this.dt=null,this._t=null}}function B0(n){return new Jc(n)}function MH(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function jS(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Bv(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function $S(n){return null!==n.collectionGroup}function A6(n){const e=ot(n);if(null===e.dt){e.dt=[];const t=Bv(e),i=jS(e);if(null!==t&&null===i)t.isKeyField()||e.dt.push(new O0(t)),e.dt.push(new O0(cr.keyField(),"asc"));else{let r=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new O0(cr.keyField(),s))}}}return e.dt}function so(n){const e=ot(n);if(!e._t)if("F"===e.limitType)e._t=US(e.path,e.collectionGroup,A6(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of A6(e))t.push(new O0(s.field,"desc"===s.dir?"asc":"desc"));const i=e.endAt?new j3(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new j3(e.startAt.position,e.startAt.inclusive):null;e._t=US(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e._t}function GS(n,e){e.getFirstInequalityField(),Bv(n);const t=n.filters.concat([e]);return new Jc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Uv(n,e,t){return new Jc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Op(n,e){return Pp(so(n),so(e))&&n.limitType===e.limitType}function SH(n){return`${I6(so(n))}|lt:${n.limitType}`}function WS(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>gH(i)).join(", ")}]`),Lp(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>R0(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>R0(i)).join(",")),`Target(${t})`}(so(n))}; limitType=${n.limitType})`}function qS(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):rt.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of A6(t))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,s,l){const f=cH(r,s,l);return r.inclusive?f<=0:f<0}(t.startAt,A6(t),i)||t.endAt&&!function(r,s,l){const f=cH(r,s,l);return r.inclusive?f>=0:f>0}(t.endAt,A6(t),i)));var t,i}function DH(n){return(e,t)=>{let i=!1;for(const r of A6(n)){const s=UQ(r,e,t);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function UQ(n,e,t){const i=n.field.isKeyField()?rt.comparator(e.key,t.key):function(r,s,l){const f=s.data.field(r),p=l.data.field(r);return null!==f&&null!==p?U3(f,p):_t()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return _t()}}function TH(n,e){if(n.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kp(e)?"-0":e}}function IH(n){return{integerValue:""+n}}function AH(n,e){return function eH(n){return"number"==typeof n&&Number.isInteger(n)&&!kp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?IH(e):TH(n,e)}class jv{constructor(){this._=void 0}}function jQ(n,e,t){return n instanceof U0?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(s.fields.__previous_value__=r),{mapValue:s}}(t,e):n instanceof V6?LH(n,e):n instanceof L6?kH(n,e):function(i,r){const s=VH(i,r),l=HH(s)+HH(i.gt);return FS(s)&&FS(i.gt)?IH(l):TH(i.yt,l)}(n,e)}function $Q(n,e,t){return n instanceof V6?LH(n,e):n instanceof L6?kH(n,e):t}function VH(n,e){return n instanceof j0?FS(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class U0 extends jv{}class V6 extends jv{constructor(e){super(),this.elements=e}}function LH(n,e){const t=zH(e);for(const i of n.elements)t.some(r=>$1(r,i))||t.push(i);return{arrayValue:{values:t}}}class L6 extends jv{constructor(e){super(),this.elements=e}}function kH(n,e){let t=zH(e);for(const i of n.elements)t=t.filter(r=>!$1(r,i));return{arrayValue:{values:t}}}class j0 extends jv{constructor(e,t){super(),this.yt=e,this.gt=t}}function HH(n){return Zi(n.integerValue||n.doubleValue)}function zH(n){return Np(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class WQ{constructor(e,t){this.version=e,this.transformResults=t}}class Ei{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ei}static exists(e){return new Ei(void 0,e)}static updateTime(e){return new Ei(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $v(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Gv{}function NH(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new G0(n.key,Ei.none()):new $0(n.key,n.data,Ei.none());{const t=n.data,i=bs.empty();let r=new qn(cr.comparator);for(let s of e.fields)if(!r.has(s)){let l=t.field(s);null===l&&s.length>1&&(s=s.popLast(),l=t.field(s)),null===l?i.delete(s):i.set(s,l),r=r.add(s)}return new el(n.key,i,new da(r.toArray()),Ei.none())}}function qQ(n,e,t){n instanceof $0?function(i,r,s){const l=i.value.clone(),f=OH(i.fieldTransforms,r,s.transformResults);l.setAll(f),r.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,e,t):n instanceof el?function(i,r,s){if(!$v(i.precondition,r))return void r.convertToUnknownDocument(s.version);const l=OH(i.fieldTransforms,r,s.transformResults),f=r.data;f.setAll(PH(i)),f.setAll(l),r.convertToFoundDocument(s.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Bp(n,e,t,i){return n instanceof $0?function(r,s,l,f){if(!$v(r.precondition,s))return l;const p=r.value.clone(),_=FH(r.fieldTransforms,f,s);return p.setAll(_),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),null}(n,e,t,i):n instanceof el?function(r,s,l,f){if(!$v(r.precondition,s))return l;const p=FH(r.fieldTransforms,f,s),_=s.data;return _.setAll(PH(r)),_.setAll(p),s.convertToFoundDocument(s.version,_).setHasLocalMutations(),null===l?null:l.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(x=>x.field))}(n,e,t,i):(l=t,$v(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l);var s,l}function YQ(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),s=VH(i.transform,r||null);null!=s&&(null===t&&(t=bs.empty()),t.set(i.field,s))}return t||null}function RH(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&N0(t,i,(r,s)=>function GQ(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof V6&&i instanceof V6||t instanceof L6&&i instanceof L6?N0(t.elements,i.elements,$1):t instanceof j0&&i instanceof j0?$1(t.gt,i.gt):t instanceof U0&&i instanceof U0);var t,i}(r,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class $0 extends Gv{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class el extends Gv{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function PH(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function OH(n,e,t){const i=new Map;Tt(n.length===t.length);for(let r=0;r<t.length;r++){const s=n[r],l=s.transform,f=e.data.field(s.field);i.set(s.field,$Q(l,f,t[r]))}return i}function FH(n,e,t){const i=new Map;for(const r of n){const s=r.transform,l=t.data.field(r.field);i.set(r.field,jQ(s,l,e))}return i}class G0 extends Gv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YS extends Gv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ZQ{constructor(e){this.count=e}}var xr,Sn;function BH(n){switch(n){default:return _t();case ve.CANCELLED:case ve.UNKNOWN:case ve.DEADLINE_EXCEEDED:case ve.RESOURCE_EXHAUSTED:case ve.INTERNAL:case ve.UNAVAILABLE:case ve.UNAUTHENTICATED:return!1;case ve.INVALID_ARGUMENT:case ve.NOT_FOUND:case ve.ALREADY_EXISTS:case ve.PERMISSION_DENIED:case ve.FAILED_PRECONDITION:case ve.ABORTED:case ve.OUT_OF_RANGE:case ve.UNIMPLEMENTED:case ve.DATA_LOSS:return!0}}function UH(n){if(void 0===n)return ar("GRPC error has no .code"),ve.UNKNOWN;switch(n){case xr.OK:return ve.OK;case xr.CANCELLED:return ve.CANCELLED;case xr.UNKNOWN:return ve.UNKNOWN;case xr.DEADLINE_EXCEEDED:return ve.DEADLINE_EXCEEDED;case xr.RESOURCE_EXHAUSTED:return ve.RESOURCE_EXHAUSTED;case xr.INTERNAL:return ve.INTERNAL;case xr.UNAVAILABLE:return ve.UNAVAILABLE;case xr.UNAUTHENTICATED:return ve.UNAUTHENTICATED;case xr.INVALID_ARGUMENT:return ve.INVALID_ARGUMENT;case xr.NOT_FOUND:return ve.NOT_FOUND;case xr.ALREADY_EXISTS:return ve.ALREADY_EXISTS;case xr.PERMISSION_DENIED:return ve.PERMISSION_DENIED;case xr.FAILED_PRECONDITION:return ve.FAILED_PRECONDITION;case xr.ABORTED:return ve.ABORTED;case xr.OUT_OF_RANGE:return ve.OUT_OF_RANGE;case xr.UNIMPLEMENTED:return ve.UNIMPLEMENTED;case xr.DATA_LOSS:return ve.DATA_LOSS;default:return _t()}}(Sn=xr||(xr={}))[Sn.OK=0]="OK",Sn[Sn.CANCELLED=1]="CANCELLED",Sn[Sn.UNKNOWN=2]="UNKNOWN",Sn[Sn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Sn[Sn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Sn[Sn.NOT_FOUND=5]="NOT_FOUND",Sn[Sn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Sn[Sn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Sn[Sn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Sn[Sn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Sn[Sn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Sn[Sn.ABORTED=10]="ABORTED",Sn[Sn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Sn[Sn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Sn[Sn.INTERNAL=13]="INTERNAL",Sn[Sn.UNAVAILABLE=14]="UNAVAILABLE",Sn[Sn.DATA_LOSS=15]="DATA_LOSS";class $3{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){S6(this.inner,(t,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return Jk(this.inner)}size(){return this.innerSize}}const KQ=new Ki(rt.comparator);function Io(){return KQ}const jH=new Ki(rt.comparator);function Up(...n){let e=jH;for(const t of n)e=e.insert(t.key,t);return e}function $H(n){let e=jH;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function G1(){return jp()}function GH(){return jp()}function jp(){return new $3(n=>n.toString(),(n,e)=>n.isEqual(e))}const QQ=new Ki(rt.comparator),XQ=new qn(rt.comparator);function un(...n){let e=XQ;for(const t of n)e=e.add(t);return e}const JQ=new qn(en);function Wv(){return JQ}class $p{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,Gp.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new $p(kt.min(),r,Wv(),Io(),un())}}class Gp{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Gp(i,t,un(),un(),un())}}class qv{constructor(e,t,i,r){this.It=e,this.removedTargetIds=t,this.key=i,this.Tt=r}}class WH{constructor(e,t){this.targetId=e,this.Et=t}}class qH{constructor(e,t,i=Gr.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class YH{constructor(){this.At=0,this.Rt=KH(),this.bt=Gr.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=un(),t=un(),i=un();return this.Rt.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:_t()}}),new Gp(this.bt,this.Pt,e,t,i)}xt(){this.vt=!1,this.Rt=KH()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class eX{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=Io(),this.qt=ZH(),this.Ut=new qn(en)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const i=this.Wt(t);switch(e.state){case 0:this.zt(t)&&i.Dt(e.resumeToken);break;case 1:i.Mt(),i.Vt||i.xt(),i.Dt(e.resumeToken);break;case 2:i.Mt(),i.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(i.Ft(),i.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),i.Dt(e.resumeToken));break;default:_t()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((i,r)=>{this.zt(r)&&t(r)})}Jt(e){const t=e.targetId,i=e.Et.count,r=this.Yt(t);if(r){const s=r.target;if(Ov(s))if(0===i){const l=new rt(s.path);this.Qt(t,l,mi.newNoDocument(l,kt.min()))}else Tt(1===i);else this.Xt(t)!==i&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((s,l)=>{const f=this.Yt(l);if(f){if(s.current&&Ov(f.target)){const p=new rt(f.target.path);null!==this.Lt.get(p)||this.te(l,p)||this.Qt(l,p,mi.newNoDocument(p,e))}s.St&&(t.set(l,s.Ct()),s.xt())}});let i=un();this.qt.forEach((s,l)=>{let f=!0;l.forEachWhile(p=>{const _=this.Yt(p);return!_||2===_.purpose||(f=!1,!1)}),f&&(i=i.add(s))}),this.Lt.forEach((s,l)=>l.setReadTime(e));const r=new $p(e,t,this.Ut,this.Lt,i);return this.Lt=Io(),this.qt=ZH(),this.Ut=new qn(en),r}Gt(e,t){if(!this.zt(e))return;const i=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,i),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,i){if(!this.zt(e))return;const r=this.Wt(e);this.te(e,t)?r.Nt(t,1):r.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),i&&(this.Lt=this.Lt.insert(t,i))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new YH,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new qn(en),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||We("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new YH),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function ZH(){return new Ki(rt.comparator)}function KH(){return new Ki(rt.comparator)}const tX={asc:"ASCENDING",desc:"DESCENDING"},nX={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iX={and:"AND",or:"OR"};class rX{constructor(e,t){this.databaseId=e,this.wt=t}}function W0(n,e){return n.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function QH(n,e){return n.wt?e.toBase64():e.toUint8Array()}function sX(n,e){return W0(n,e.toTimestamp())}function lr(n){return Tt(!!n),kt.fromTimestamp(function(e){const t=F3(e);return new Oi(t.seconds,t.nanos)}(n))}function ZS(n,e){return(t=n,new Mn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function XH(n){const e=Mn.fromString(n);return Tt(az(e)),e}function Wp(n,e){return ZS(n.databaseId,e.path)}function W1(n,e){const t=XH(e);if(t.get(1)!==n.databaseId.projectId)throw new je(ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new je(ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new rt(ez(t))}function KS(n,e){return ZS(n.databaseId,e)}function qp(n){return new Mn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function ez(n){return Tt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function tz(n,e,t){return{name:Wp(n,e),fields:t.value.mapValue.fields}}function iz(n,e){return{documents:[KS(n,e.path)]}}function XS(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=KS(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=KS(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(p){if(0!==p.length)return oz(jn.create(p,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const s=function(p){if(0!==p.length)return p.map(_=>{return{field:q0((x=_).field),direction:uX(x.dir)};var x})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const l=(_=e.limit,n.wt||Lp(_)?_:{value:_});var _,f,p;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(p=e.endAt).inclusive,values:p.position}),t}function rz(n){let e=function JH(n){const e=XH(n);return 4===e.length?Mn.emptyPath():ez(e)}(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Tt(1===i);const x=t.from[0];x.allDescendants?r=x.collectionId:e=e.child(x.collectionId)}let s=[];t.where&&(s=function(x){const M=sz(x);return M instanceof jn&&fH(M)?M.getFilters():[M]}(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(x=>{return new O0(Y0((M=x).field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let f=null;t.limit&&(f=function(x){let M;return M="object"==typeof x?x.value:x,Lp(M)?null:M}(t.limit));let p=null;var x;t.startAt&&(p=new j3((x=t.startAt).values||[],!!x.before));let _=null;return t.endAt&&(_=function(x){return new j3(x.values||[],!x.before)}(t.endAt)),function wH(n,e,t,i,r,s,l,f){return new Jc(n,e,t,i,r,s,l,f)}(e,r,l,s,f,"F",p,_)}function sz(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Y0(e.unaryFilter.field);return yn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=Y0(e.unaryFilter.field);return yn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Y0(e.unaryFilter.field);return yn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Y0(e.unaryFilter.field);return yn.create(s,"!=",{nullValue:"NULL_VALUE"});default:return _t()}}(n):void 0!==n.fieldFilter?yn.create(Y0((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _t()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return jn.create(e.compositeFilter.filters.map(t=>sz(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return _t()}}(e.compositeFilter.op))}(n):_t();var e}function uX(n){return tX[n]}function fX(n){return nX[n]}function dX(n){return iX[n]}function q0(n){return{fieldPath:n.canonicalString()}}function Y0(n){return cr.fromServerFormat(n.fieldPath)}function oz(n){return n instanceof yn?function(e){if("=="===e.op){if(rH(e.value))return{unaryFilter:{field:q0(e.field),op:"IS_NAN"}};if(iH(e.value))return{unaryFilter:{field:q0(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(rH(e.value))return{unaryFilter:{field:q0(e.field),op:"IS_NOT_NAN"}};if(iH(e.value))return{unaryFilter:{field:q0(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:q0(e.field),op:fX(e.op),value:e.value}}}(n):n instanceof jn?function(e){const t=e.getFilters().map(i=>oz(i));return 1===t.length?t[0]:{compositeFilter:{op:dX(e.op),filters:t}}}(n):_t()}function hX(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function az(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class eE{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&qQ(s,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Bp(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Bp(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=GH();return this.mutations.forEach(r=>{const s=e.get(r.key),l=s.overlayedDocument;let f=this.applyToLocalView(l,s.mutatedFields);f=t.has(r.key)?null:f;const p=NH(l,f);null!==p&&i.set(r.key,p),l.isValidDocument()||l.convertToNoDocument(kt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),un())}isEqual(e){return this.batchId===e.batchId&&N0(this.mutations,e.mutations,(t,i)=>RH(t,i))&&N0(this.baseMutations,e.baseMutations,(t,i)=>RH(t,i))}}class tE{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Tt(e.mutations.length===i.length);let r=QQ;const s=e.mutations;for(let l=0;l<s.length;l++)r=r.insert(s[l].key,i[l].version);return new tE(e,t,i,r)}}class nE{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class G3{constructor(e,t,i,r,s=kt.min(),l=kt.min(),f=Gr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=f}withSequenceNumber(e){return new G3(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new G3(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new G3(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class pz{constructor(e){this.ie=e}}function iE(n){const e=rz({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Uv(e,e.limit,"L"):e}class N6{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(Zi(e.integerValue));else if("doubleValue"in e){const i=Zi(e.doubleValue);isNaN(i)?this.he(t,13):(this.he(t,15),kp(i)?t.le(0):t.le(i))}else if("timestampValue"in e){const i=e.timestampValue;this.he(t,20),"string"==typeof i?t.fe(i):(t.fe(`${i.seconds||""}`),t.le(i.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(E6(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.he(t,45),t.le(i.latitude||0),t.le(i.longitude||0)}else"mapValue"in e?sH(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):_t()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const i=e.fields||{};this.he(t,55);for(const r of Object.keys(i))this.de(r,t),this.ce(i[r],t)}ye(e,t){const i=e.values||[];this.he(t,50);for(const r of i)this.ce(r,t)}me(e,t){this.he(t,37),rt.fromName(e).path.forEach(i=>{this.he(t,60),this.pe(i,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}N6.Ie=new N6;class FX{constructor(){this.Je=new lE}addToCollectionParentIndex(e,t){return this.Je.add(t),ge.resolve()}getCollectionParents(e,t){return ge.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return ge.resolve()}deleteFieldIndex(e,t){return ge.resolve()}getDocumentsMatchingTarget(e,t){return ge.resolve(null)}getIndexType(e,t){return ge.resolve(0)}getFieldIndexes(e,t){return ge.resolve([])}getNextCollectionGroupToUpdate(e){return ge.resolve(null)}getMinOffset(e,t){return ge.resolve(ua.min())}getMinOffsetFromCollectionGroup(e,t){return ge.resolve(ua.min())}updateCollectionGroup(e,t,i){return ge.resolve()}updateIndexEntries(e,t){return ge.resolve()}}class lE{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new qn(Mn.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new qn(Mn.comparator)).toArray()}}new Uint8Array(0);class Ao{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Ao(e,Ao.DEFAULT_COLLECTION_PERCENTILE,Ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Ao.DEFAULT_COLLECTION_PERCENTILE=10,Ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ao.DEFAULT=new Ao(41943040,Ao.DEFAULT_COLLECTION_PERCENTILE,Ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ao.DISABLED=new Ao(-1,0,0);class P6{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new P6(0)}static vn(){return new P6(-1)}}class qX{constructor(){this.changes=new $3(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,mi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?ge.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class KX{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Pz{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&Bp(i.mutation,r,da.empty(),Oi.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,un()).next(()=>i))}getLocalViewOfDocuments(e,t,i=un()){const r=G1();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let l=Up();return s.forEach((f,p)=>{l=l.insert(f,p.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const i=G1();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,un()))}populateOverlays(e,t,i){const r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((l,f)=>{t.set(l,f)})})}computeViews(e,t,i,r){let s=Io();const l=jp(),f=jp();return t.forEach((p,_)=>{const x=i.get(_.key);r.has(_.key)&&(void 0===x||x.mutation instanceof el)?s=s.insert(_.key,_):void 0!==x&&(l.set(_.key,x.mutation.getFieldMask()),Bp(x.mutation,_,x.mutation.getFieldMask(),Oi.now()))}),this.recalculateAndSaveOverlays(e,s).next(p=>(p.forEach((_,x)=>l.set(_,x)),t.forEach((_,x)=>{var M;return f.set(_,new KX(x,null!==(M=l.get(_))&&void 0!==M?M:null))}),f))}recalculateAndSaveOverlays(e,t){const i=jp();let r=new Ki((l,f)=>l-f),s=un();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const f of l)f.keys().forEach(p=>{const _=t.get(p);if(null===_)return;let x=i.get(p)||da.empty();x=f.applyToLocalView(_,x),i.set(p,x);const M=(r.get(f.batchId)||un()).add(p);r=r.insert(f.batchId,M)})}).next(()=>{const l=[],f=r.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),_=p.key,x=p.value,M=GH();x.forEach(I=>{if(!s.has(I)){const H=NH(t.get(I),i.get(I));null!==H&&M.set(I,H),s=s.add(I)}}),l.push(this.documentOverlayCache.saveOverlays(e,_,M))}return ge.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return rt.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):$S(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{const l=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):ge.resolve(G1());let f=-1,p=s;return l.next(_=>ge.forEach(_,(x,M)=>(f<M.largestBatchId&&(f=M.largestBatchId),s.get(x)?ge.resolve():this.remoteDocumentCache.getEntry(e,x).next(I=>{p=p.insert(x,I)}))).next(()=>this.populateOverlays(e,_,s)).next(()=>this.computeViews(e,p,_,un())).next(x=>({batchId:f,changes:$H(x)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new rt(t)).next(i=>{let r=Up();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let s=Up();return this.indexManager.getCollectionParents(e,r).next(l=>ge.forEach(l,f=>{const p=(_=t,x=f.child(r),new Jc(x,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt));var _,x;return this.getDocumentsMatchingCollectionQuery(e,p,i).next(_=>{_.forEach((x,M)=>{s=s.insert(x,M)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.remoteDocumentCache.getAllFromCollection(e,t.path,i).next(s=>(r=s,this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId))).next(s=>{s.forEach((f,p)=>{const _=p.getKey();null===r.get(_)&&(r=r.insert(_,mi.newInvalidDocument(_)))});let l=Up();return r.forEach((f,p)=>{const _=s.get(f);void 0!==_&&Bp(_.mutation,p,da.empty(),Oi.now()),qS(t,p)&&(l=l.insert(f,p))}),l})}}class QX{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return ge.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var i;return this.Zn.set(t.id,{id:(i=t).id,version:i.version,createTime:lr(i.createTime)}),ge.resolve()}getNamedQuery(e,t){return ge.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(i=t).name,query:iE(i.bundledQuery),readTime:lr(i.readTime)}),ge.resolve();var i}}class XX{constructor(){this.overlays=new Ki(rt.comparator),this.es=new Map}getOverlay(e,t){return ge.resolve(this.overlays.get(t))}getOverlays(e,t){const i=G1();return ge.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.oe(e,t,s)}),ge.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.es.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(i)),ge.resolve()}getOverlaysForCollection(e,t,i){const r=G1(),s=t.length+1,l=new rt(t.child("")),f=this.overlays.getIteratorFrom(l);for(;f.hasNext();){const p=f.getNext().value,_=p.getKey();if(!t.isPrefixOf(_.path))break;_.path.length===s&&p.largestBatchId>i&&r.set(p.getKey(),p)}return ge.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new Ki((_,x)=>_-x);const l=this.overlays.getIterator();for(;l.hasNext();){const _=l.getNext().value;if(_.getKey().getCollectionGroup()===t&&_.largestBatchId>i){let x=s.get(_.largestBatchId);null===x&&(x=G1(),s=s.insert(_.largestBatchId,x)),x.set(_.getKey(),_)}}const f=G1(),p=s.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,x)=>f.set(_,x)),!(f.size()>=r)););return ge.resolve(f)}oe(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const l=this.es.get(r.largestBatchId).delete(i.key);this.es.set(r.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new nE(t,i));let s=this.es.get(t);void 0===s&&(s=un(),this.es.set(t,s)),this.es.set(t,s.add(i.key))}}class uE{constructor(){this.ns=new qn(as.ss),this.rs=new qn(as.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const i=new as(e,t);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.cs(new as(e,t))}hs(e,t){e.forEach(i=>this.removeReference(i,t))}ls(e){const t=new rt(new Mn([])),i=new as(t,e),r=new as(t,e+1),s=[];return this.rs.forEachInRange([i,r],l=>{this.cs(l),s.push(l.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new rt(new Mn([])),i=new as(t,e),r=new as(t,e+1);let s=un();return this.rs.forEachInRange([i,r],l=>{s=s.add(l.key)}),s}containsKey(e){const t=new as(e,0),i=this.ns.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class as{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return rt.comparator(e.key,t.key)||en(e._s,t._s)}static os(e,t){return en(e._s,t._s)||rt.comparator(e.key,t.key)}}class JX{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new qn(as.ss)}checkEmpty(e){return ge.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const s=this.ws;this.ws++;const l=new eE(s,t,i,r);this.mutationQueue.push(l);for(const f of r)this.gs=this.gs.add(new as(f.key,s)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ge.resolve(l)}lookupMutationBatch(e,t){return ge.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.ps(t+1),s=r<0?0:r;return ge.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ge.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return ge.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new as(t,0),r=new as(t,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([i,r],l=>{const f=this.ys(l._s);s.push(f)}),ge.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new qn(en);return t.forEach(r=>{const s=new as(r,0),l=new as(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,l],f=>{i=i.add(f._s)})}),ge.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let s=i;rt.isDocumentKey(s)||(s=s.child(""));const l=new as(new rt(s),0);let f=new qn(en);return this.gs.forEachWhile(p=>{const _=p.key.path;return!!i.isPrefixOf(_)&&(_.length===r&&(f=f.add(p._s)),!0)},l),ge.resolve(this.Is(f))}Is(e){const t=[];return e.forEach(i=>{const r=this.ys(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Tt(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let i=this.gs;return ge.forEach(t.mutations,r=>{const s=new as(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.gs=i})}An(e){}containsKey(e,t){const i=new as(t,0),r=this.gs.firstAfterOrEqual(i);return ge.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return ge.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class eJ{constructor(e){this.Es=e,this.docs=new Ki(rt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),s=r?r.size:0,l=this.Es(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ge.resolve(i?i.document.mutableCopy():mi.newInvalidDocument(t))}getEntries(e,t){let i=Io();return t.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():mi.newInvalidDocument(r))}),ge.resolve(i)}getAllFromCollection(e,t,i){let r=Io();const s=new rt(t.child("")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:f,value:{document:p}}=l.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||zS(Zk(p),i)<=0||(r=r.insert(p.key,p.mutableCopy()))}return ge.resolve(r)}getAllFromCollectionGroup(e,t,i,r){_t()}As(e,t){return ge.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new tJ(this)}getSize(e){return ge.resolve(this.size)}}class tJ extends qX{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Yn.addEntry(e,r)):this.Yn.removeEntry(i)}),ge.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class nJ{constructor(e){this.persistence=e,this.Rs=new $3(t=>I6(t),Pp),this.lastRemoteSnapshotVersion=kt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new uE,this.targetCount=0,this.vs=P6.Pn()}forEachTarget(e,t){return this.Rs.forEach((i,r)=>t(r)),ge.resolve()}getLastRemoteSnapshotVersion(e){return ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ge.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),ge.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.bs&&(this.bs=t),ge.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new P6(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,ge.resolve()}updateTargetData(e,t){return this.Dn(t),ge.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,ge.resolve()}removeTargets(e,t,i){let r=0;const s=[];return this.Rs.forEach((l,f)=>{f.sequenceNumber<=t&&null===i.get(f.targetId)&&(this.Rs.delete(l),s.push(this.removeMatchingKeysForTargetId(e,f.targetId)),r++)}),ge.waitFor(s).next(()=>r)}getTargetCount(e){return ge.resolve(this.targetCount)}getTargetData(e,t){const i=this.Rs.get(t)||null;return ge.resolve(i)}addMatchingKeys(e,t,i){return this.Ps.us(t,i),ge.resolve()}removeMatchingKeys(e,t,i){this.Ps.hs(t,i);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(l=>{s.push(r.markPotentiallyOrphaned(e,l))}),ge.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),ge.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Ps.ds(t);return ge.resolve(i)}containsKey(e,t){return ge.resolve(this.Ps.containsKey(t))}}class Oz{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new fa(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new nJ(this),this.indexManager=new FX,this.remoteDocumentCache=new eJ(i=>this.referenceDelegate.xs(i)),this.yt=new pz(t),this.Ns=new QX(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new XX,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Vs[e.toKey()];return i||(i=new JX(t,this.referenceDelegate),this.Vs[e.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,i){We("MemoryPersistence","Starting transaction:",e);const r=new iJ(this.Ss.next());return this.referenceDelegate.ks(),i(r).next(s=>this.referenceDelegate.Os(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ms(e,t){return ge.or(Object.values(this.Vs).map(i=>()=>i.containsKey(e,t)))}}class iJ extends SQ{constructor(e){super(),this.currentSequenceNumber=e}}class iy{constructor(e){this.persistence=e,this.Fs=new uE,this.$s=null}static Bs(e){return new iy(e)}get Ls(){if(this.$s)return this.$s;throw _t()}addReference(e,t,i){return this.Fs.addReference(i,t),this.Ls.delete(i.toString()),ge.resolve()}removeReference(e,t,i){return this.Fs.removeReference(i,t),this.Ls.add(i.toString()),ge.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),ge.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(r=>this.Ls.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.Ls.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ge.forEach(this.Ls,i=>{const r=rt.fromPath(i);return this.qs(e,r).next(s=>{s||t.removeEntry(r,kt.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(i=>{i?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return ge.or([()=>ge.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class pE{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Si=i,this.Di=r}static Ci(e,t){let i=un(),r=un();for(const s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new pE(e,t.fromCache,i,r)}}class Bz{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,i,r){return this.ki(e,t).next(s=>s||this.Oi(e,t,r,i)).next(s=>s||this.Mi(e,t))}ki(e,t){if(MH(t))return ge.resolve(null);let i=so(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Uv(t,null,"F"),i=so(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const l=un(...s);return this.Ni.getDocuments(e,l).next(f=>this.indexManager.getMinOffset(e,i).next(p=>{const _=this.Fi(t,f);return this.$i(t,_,l,p.readTime)?this.ki(e,Uv(t,null,"F")):this.Bi(e,_,t,p)}))})))}Oi(e,t,i,r){return MH(t)||r.isEqual(kt.min())?this.Mi(e,t):this.Ni.getDocuments(e,i).next(s=>{const l=this.Fi(t,s);return this.$i(t,l,i,r)?this.Mi(e,t):(LS()<=Ja.in.DEBUG&&We("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),WS(t)),this.Bi(e,l,t,function Yk(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=kt.fromTimestamp(1e9===i?new Oi(t+1,0):new Oi(t,i));return new ua(r,rt.empty(),e)}(r,-1)))})}Fi(e,t){let i=new qn(DH(e));return t.forEach((r,s)=>{qS(e,s)&&(i=i.add(s))}),i}$i(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Mi(e,t){return LS()<=Ja.in.DEBUG&&We("QueryEngine","Using full collection scan to execute query:",WS(t)),this.Ni.getDocumentsMatchingQuery(e,t,ua.min())}Bi(e,t,i,r){return this.Ni.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(l=>{s=s.insert(l.key,l)}),s))}}class sJ{constructor(e,t,i,r){this.persistence=e,this.Li=t,this.yt=r,this.qi=new Ki(en),this.Ui=new $3(s=>I6(s),Pp),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(i)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Pz(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function jz(n,e){return mE.apply(this,arguments)}function mE(){return mE=(0,et.Z)(function*(n,e){const t=ot(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t.Qi(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{const l=[],f=[];let p=un();for(const _ of r){l.push(_.batchId);for(const x of _.mutations)p=p.add(x.key)}for(const _ of s){f.push(_.batchId);for(const x of _.mutations)p=p.add(x.key)}return t.localDocuments.getDocuments(i,p).next(_=>({ji:_,removedBatchIds:l,addedBatchIds:f}))})})}),mE.apply(this,arguments)}function oJ(n,e){const t=ot(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=t.Gi.newChangeBuffer({trackRemovals:!0});return function(l,f,p,_){const x=p.batch,M=x.keys();let I=ge.resolve();return M.forEach(H=>{I=I.next(()=>_.getEntry(f,H)).next(P=>{const q=p.docVersions.get(H);Tt(null!==q),P.version.compareTo(q)<0&&(x.applyToRemoteDocument(P,p),P.isValidDocument()&&(P.setReadTime(p.commitVersion),_.addEntry(P)))})}),I.next(()=>l.mutationQueue.removeMutationBatch(f,x))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let f=un();for(let p=0;p<l.mutationResults.length;++p)l.mutationResults[p].transformResults.length>0&&(f=f.add(l.batch.mutations[p].key));return f}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function $z(n){const e=ot(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function aJ(n,e){const t=ot(n),i=e.snapshotVersion;let r=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const l=t.Gi.newChangeBuffer({trackRemovals:!0});r=t.qi;const f=[];e.targetChanges.forEach((x,M)=>{const I=r.get(M);if(!I)return;f.push(t.Cs.removeMatchingKeys(s,x.removedDocuments,M).next(()=>t.Cs.addMatchingKeys(s,x.addedDocuments,M)));let H=I.withSequenceNumber(s.currentSequenceNumber);var P,q,se;e.targetMismatches.has(M)?H=H.withResumeToken(Gr.EMPTY_BYTE_STRING,kt.min()).withLastLimboFreeSnapshotVersion(kt.min()):x.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(x.resumeToken,i)),r=r.insert(M,H),q=H,se=x,(0===(P=I).resumeToken.approximateByteSize()||q.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=3e8||se.addedDocuments.size+se.modifiedDocuments.size+se.removedDocuments.size>0)&&f.push(t.Cs.updateTargetData(s,H))});let p=Io(),_=un();if(e.documentUpdates.forEach(x=>{e.resolvedLimboDocuments.has(x)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(s,x))}),f.push(function Gz(n,e,t){let i=un(),r=un();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let l=Io();return t.forEach((f,p)=>{const _=s.get(f);p.isFoundDocument()!==_.isFoundDocument()&&(r=r.add(f)),p.isNoDocument()&&p.version.isEqual(kt.min())?(e.removeEntry(f,p.readTime),l=l.insert(f,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||0===p.version.compareTo(_.version)&&_.hasPendingWrites?(e.addEntry(p),l=l.insert(f,p)):We("LocalStore","Ignoring outdated watch update for ",f,". Current version:",_.version," Watch version:",p.version)}),{Wi:l,zi:r}})}(s,l,e.documentUpdates).next(x=>{p=x.Wi,_=x.zi})),!i.isEqual(kt.min())){const x=t.Cs.getLastRemoteSnapshotVersion(s).next(M=>t.Cs.setTargetsMetadata(s,s.currentSequenceNumber,i));f.push(x)}return ge.waitFor(f).next(()=>l.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,p,_)).next(()=>p)}).then(s=>(t.qi=r,s))}function cJ(n,e){const t=ot(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Q0(n,e){const t=ot(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Cs.getTargetData(i,e).next(s=>s?(r=s,ge.resolve(r)):t.Cs.allocateTargetId(i).next(l=>(r=new G3(e,l,0,i.currentSequenceNumber),t.Cs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.qi.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.qi=t.qi.insert(i.targetId,i),t.Ui.set(e,i.targetId)),i})}function X0(n,e,t){return gE.apply(this,arguments)}function gE(){return gE=(0,et.Z)(function*(n,e,t){const i=ot(n),r=i.qi.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,l=>i.persistence.referenceDelegate.removeTarget(l,r)))}catch(l){if(!O3(l))throw l;We("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}i.qi=i.qi.remove(e),i.Ui.delete(r.target)}),gE.apply(this,arguments)}function sy(n,e,t){const i=ot(n);let r=kt.min(),s=un();return i.persistence.runTransaction("Execute query","readonly",l=>function(f,p,_){const x=ot(f),M=x.Ui.get(_);return void 0!==M?ge.resolve(x.qi.get(M)):x.Cs.getTargetData(p,_)}(i,l,so(e)).next(f=>{if(f)return r=f.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(l,f.targetId).next(p=>{s=p})}).next(()=>i.Li.getDocumentsMatchingQuery(l,e,t?r:kt.min(),t?s:un())).next(f=>(function Yz(n,e,t){let i=n.Ki.get(e)||kt.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Ki.set(e,i)}(i,function EH(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),f),{documents:f,Hi:s})))}class bE{constructor(){this.activeTargetIds=Wv()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Qz{constructor(){this.Lr=new bE,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,i){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new bE,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class fJ{Ur(e){}shutdown(){}}class Xz{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){We("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){We("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const dJ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class hJ{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class pJ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,i,r,s){const l=this.ho(e,t);We("RestConnection","Sending: ",l,i);const f={};return this.lo(f,r,s),this.fo(e,l,f,i).then(p=>(We("RestConnection","Received: ",p),p),p=>{throw z0("RestConnection",`${e} failed with error: `,p,"url: ",l,"request:",i),p})}_o(e,t,i,r,s,l){return this.ao(e,t,i,r,s)}lo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+H0,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}ho(e,t){return`${this.oo}/v1/${t}:${dJ[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,i,r){return new Promise((s,l)=>{const f=new pQ;f.setWithCredentials(!0),f.listenOnce(fQ.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case VS.NO_ERROR:const _=f.getResponseJson();We("Connection","XHR received:",JSON.stringify(_)),s(_);break;case VS.TIMEOUT:We("Connection",'RPC "'+e+'" timed out'),l(new je(ve.DEADLINE_EXCEEDED,"Request time out"));break;case VS.HTTP_ERROR:const x=f.getStatus();if(We("Connection",'RPC "'+e+'" failed with status:',x,"response text:",f.getResponseText()),x>0){let M=f.getResponseJson();Array.isArray(M)&&(M=M[0]);const I=M?.error;if(I&&I.status&&I.message){const H=function(P){const q=P.toLowerCase().replace(/_/g,"-");return Object.values(ve).indexOf(q)>=0?q:ve.UNKNOWN}(I.status);l(new je(H,I.message))}else l(new je(ve.UNKNOWN,"Server responded with status "+f.getStatus()))}else l(new je(ve.UNAVAILABLE,"Connection failed."));break;default:_t()}}finally{We("Connection",'RPC "'+e+'" completed.')}});const p=JSON.stringify(r);f.send(t,"POST",p,i,15)})}wo(e,t,i){const r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=lQ(),l=uQ(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new hQ({})),this.lo(f.initMessageHeaders,t,i),f.encodeInitMessageHeaders=!0;const p=r.join("");We("Connection","Creating WebChannel: "+p,f);const _=s.createWebChannel(p,f);let x=!1,M=!1;const I=new hJ({Hr:P=>{M?We("Connection","Not sending because WebChannel is closed:",P):(x||(We("Connection","Opening WebChannel transport."),_.open(),x=!0),We("Connection","WebChannel sending:",P),_.send(P))},Jr:()=>_.close()}),H=(P,q,se)=>{P.listen(q,De=>{try{se(De)}catch(Fe){setTimeout(()=>{throw Fe},0)}})};return H(_,Lv.EventType.OPEN,()=>{M||We("Connection","WebChannel transport opened.")}),H(_,Lv.EventType.CLOSE,()=>{M||(M=!0,We("Connection","WebChannel transport closed"),I.io())}),H(_,Lv.EventType.ERROR,P=>{M||(M=!0,z0("Connection","WebChannel transport errored:",P),I.io(new je(ve.UNAVAILABLE,"The operation could not be completed")))}),H(_,Lv.EventType.MESSAGE,P=>{var q;if(!M){const se=P.data[0];Tt(!!se);const De=se,Fe=De.error||(null===(q=De[0])||void 0===q?void 0:q.error);if(Fe){We("Connection","WebChannel received error:",Fe);const Ge=Fe.status;let Ze=function(xt){const tn=xr[xt];if(void 0!==tn)return UH(tn)}(Ge),ht=Fe.message;void 0===Ze&&(Ze=ve.INTERNAL,ht="Unknown error status: "+Ge+" with message "+Fe.message),M=!0,I.io(new je(Ze,ht)),_.close()}else We("Connection","WebChannel received:",se),I.ro(se)}}),H(l,dQ.STAT_EVENT,P=>{P.stat===Uk.PROXY?We("Connection","Detected buffering proxy"):P.stat===Uk.NOPROXY&&We("Connection","Detected no buffering proxy")}),setTimeout(()=>{I.so()},0),I}}function cy(){return typeof document<"u"?document:null}function i7(n){return new rX(n,!0)}class wE{constructor(e,t,i=1e3,r=1.5,s=6e4){this.Hs=e,this.timerId=t,this.mo=i,this.yo=r,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),r=Math.max(0,t-i);r>0&&We("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class eN{constructor(e,t,i,r,s,l,f,p){this.Hs=e,this.vo=i,this.Vo=r,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new wE(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,et.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,et.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var i=this;return(0,et.Z)(function*(){i.Lo(),i.qo(),i.xo.cancel(),i.So++,4!==e?i.xo.reset():t&&t.code===ve.RESOURCE_EXHAUSTED?(ar(t.toString()),ar("Using maximum backoff delay to prevent overloading the backend."),i.xo.Ao()):t&&t.code===ve.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Uo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.So===t&&this.Go(i,r)},i=>{e(()=>{const r=new je(ve.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(r)})})}Go(e,t){const i=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{i(()=>this.Qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,et.Z)(function*(){e.state=0,e.start()}))}Qo(e){return We("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(We("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mJ extends eN{constructor(e,t,i,r,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,l),this.yt=s}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function aX(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(p=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===p?1:"REMOVE"===p?2:"CURRENT"===p?3:"RESET"===p?4:_t(),r=e.targetChange.targetIds||[],s=function(p,_){return p.wt?(Tt(void 0===_||"string"==typeof _),Gr.fromBase64String(_||"")):(Tt(void 0===_||_ instanceof Uint8Array),Gr.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,f=l&&function(p){const _=void 0===p.code?ve.UNKNOWN:UH(p.code);return new je(_,p.message||"")}(l);t=new qH(i,r,s,f||null)}else if("documentChange"in e){const i=e.documentChange,r=W1(n,i.document.name),s=lr(i.document.updateTime),l=i.document.createTime?lr(i.document.createTime):kt.min(),f=new bs({mapValue:{fields:i.document.fields}}),p=mi.newFoundDocument(r,s,l,f);t=new qv(i.targetIds||[],i.removedTargetIds||[],p.key,p)}else if("documentDelete"in e){const i=e.documentDelete,r=W1(n,i.document),s=i.readTime?lr(i.readTime):kt.min(),l=mi.newNoDocument(r,s);t=new qv([],i.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const i=e.documentRemove,r=W1(n,i.document);t=new qv([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return _t();{const i=e.filter,s=new ZQ(i.count||0);t=new WH(i.targetId,s)}}var p;return t}(this.yt,e),i=function(r){if(!("targetChange"in r))return kt.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?kt.min():s.readTime?lr(s.readTime):kt.min()}(e);return this.listener.Wo(t,i)}zo(e){const t={};t.database=qp(this.yt),t.addTarget=function(r,s){let l;const f=s.target;return l=Ov(f)?{documents:iz(r,f)}:{query:XS(r,f)},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?l.resumeToken=QH(r,s.resumeToken):s.snapshotVersion.compareTo(kt.min())>0&&(l.readTime=W0(r,s.snapshotVersion.toTimestamp())),l}(this.yt,e);const i=function lX(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return _t()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Bo(t)}Ho(e){const t={};t.database=qp(this.yt),t.removeTarget=e,this.Bo(t)}}class gJ extends eN{constructor(e,t,i,r,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,l),this.yt=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(Tt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function cX(n,e){return n&&n.length>0?(Tt(void 0!==e),n.map(t=>function(i,r){let s=lr(i.updateTime?i.updateTime:r);return s.isEqual(kt.min())&&(s=lr(r)),new WQ(s,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=lr(e.commitTime);return this.listener.Zo(i,t)}return Tt(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=qp(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>function Yp(n,e){let t;if(e instanceof $0)t={update:tz(n,e.key,e.value)};else if(e instanceof G0)t={delete:Wp(n,e.key)};else if(e instanceof el)t={update:tz(n,e.key,e.data),updateMask:hX(e.fieldMask)};else{if(!(e instanceof YS))return _t();t={verify:Wp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,s){const l=s.transform;if(l instanceof U0)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof V6)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof L6)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof j0)return{fieldPath:s.field.canonicalString(),increment:l.gt};throw _t()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:sX(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:_t()),t;var r}(this.yt,i))};this.Bo(t)}}class _J extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.yt=r,this.nu=!1}su(){if(this.nu)throw new je(ve.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.ao(e,t,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new je(ve.UNKNOWN,r.toString())})}_o(e,t,i,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection._o(e,t,i,s,l,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new je(ve.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class yJ{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(ar(t),this.ou=!1):We("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class xJ{constructor(e,t,i,r,s){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.Ur(f=>{i.enqueueAndForget((0,et.Z)(function*(){var p;tl(l)&&(We("RemoteStore","Restarting streams for network reachability change."),yield(p=(0,et.Z)(function*(_){const x=ot(_);x._u.add(4),yield J0(x),x.gu.set("Unknown"),x._u.delete(4),yield r7(x)}),function(_){return p.apply(this,arguments)})(l))}))}),this.gu=new yJ(i,r)}}function r7(n){return SE.apply(this,arguments)}function SE(){return SE=(0,et.Z)(function*(n){if(tl(n))for(const e of n.wu)yield e(!0)}),SE.apply(this,arguments)}function J0(n){return EE.apply(this,arguments)}function EE(){return EE=(0,et.Z)(function*(n){for(const e of n.wu)yield e(!1)}),EE.apply(this,arguments)}function ly(n,e){const t=ot(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),IE(t)?TE(t):th(t).ko()&&DE(t,e))}function s7(n,e){const t=ot(n),i=th(t);t.du.delete(e),i.ko()&&tN(t,e),0===t.du.size&&(i.ko()?i.Fo():tl(t)&&t.gu.set("Unknown"))}function DE(n,e){n.yu.Ot(e.targetId),th(n).zo(e)}function tN(n,e){n.yu.Ot(e),th(n).Ho(e)}function TE(n){n.yu=new eX({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>n.du.get(e)||null}),th(n).start(),n.gu.uu()}function IE(n){return tl(n)&&!th(n).No()&&n.du.size>0}function tl(n){return 0===ot(n)._u.size}function nN(n){n.yu=void 0}function bJ(n){return AE.apply(this,arguments)}function AE(){return AE=(0,et.Z)(function*(n){n.du.forEach((e,t)=>{DE(n,e)})}),AE.apply(this,arguments)}function CJ(n,e){return VE.apply(this,arguments)}function VE(){return VE=(0,et.Z)(function*(n,e){nN(n),IE(n)?(n.gu.hu(e),TE(n)):n.gu.set("Unknown")}),VE.apply(this,arguments)}function wJ(n,e,t){return LE.apply(this,arguments)}function LE(){return LE=(0,et.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof qH&&2===e.state&&e.cause)try{yield(i=(0,et.Z)(function*(r,s){const l=s.cause;for(const f of s.targetIds)r.du.has(f)&&(yield r.remoteSyncer.rejectListen(f,l),r.du.delete(f),r.yu.removeTarget(f))}),function(r,s){return i.apply(this,arguments)})(n,e)}catch(i){We("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield uy(n,i)}else if(e instanceof qv?n.yu.Kt(e):e instanceof WH?n.yu.Jt(e):n.yu.jt(e),!t.isEqual(kt.min()))try{const i=yield $z(n.localStore);t.compareTo(i)>=0&&(yield function(r,s){const l=r.yu.Zt(s);return l.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const _=r.du.get(p);_&&r.du.set(p,_.withResumeToken(f.resumeToken,s))}}),l.targetMismatches.forEach(f=>{const p=r.du.get(f);if(!p)return;r.du.set(f,p.withResumeToken(Gr.EMPTY_BYTE_STRING,p.snapshotVersion)),tN(r,f);const _=new G3(p.target,f,1,p.sequenceNumber);DE(r,_)}),r.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(i){We("RemoteStore","Failed to raise snapshot:",i),yield uy(n,i)}var i}),LE.apply(this,arguments)}function uy(n,e,t){return kE.apply(this,arguments)}function kE(){return kE=(0,et.Z)(function*(n,e,t){if(!O3(e))throw e;n._u.add(1),yield J0(n),n.gu.set("Offline"),t||(t=()=>$z(n.localStore)),n.asyncQueue.enqueueRetryable((0,et.Z)(function*(){We("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield r7(n)}))}),kE.apply(this,arguments)}function iN(n,e){return e().catch(t=>uy(n,t,e))}function eh(n){return HE.apply(this,arguments)}function HE(){return HE=(0,et.Z)(function*(n){const e=ot(n),t=Z3(e);let i=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;MJ(e);)try{const r=yield cJ(e.localStore,i);if(null===r){0===e.fu.length&&t.Fo();break}i=r.batchId,SJ(e,r)}catch(r){yield uy(e,r)}rN(e)&&sN(e)}),HE.apply(this,arguments)}function MJ(n){return tl(n)&&n.fu.length<10}function SJ(n,e){n.fu.push(e);const t=Z3(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function rN(n){return tl(n)&&!Z3(n).No()&&n.fu.length>0}function sN(n){Z3(n).start()}function EJ(n){return zE.apply(this,arguments)}function zE(){return zE=(0,et.Z)(function*(n){Z3(n).eu()}),zE.apply(this,arguments)}function DJ(n){return NE.apply(this,arguments)}function NE(){return NE=(0,et.Z)(function*(n){const e=Z3(n);for(const t of n.fu)e.Xo(t.mutations)}),NE.apply(this,arguments)}function TJ(n,e,t){return RE.apply(this,arguments)}function RE(){return RE=(0,et.Z)(function*(n,e,t){const i=n.fu.shift(),r=tE.from(i,e,t);yield iN(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield eh(n)}),RE.apply(this,arguments)}function IJ(n,e){return PE.apply(this,arguments)}function PE(){return PE=(0,et.Z)(function*(n,e){var t;e&&Z3(n).Yo&&(yield(t=(0,et.Z)(function*(i,r){if(BH(s=r.code)&&s!==ve.ABORTED){const l=i.fu.shift();Z3(i).Mo(),yield iN(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,r)),yield eh(i)}var s}),function(i,r){return t.apply(this,arguments)})(n,e)),rN(n)&&sN(n)}),PE.apply(this,arguments)}function oN(n,e){return OE.apply(this,arguments)}function OE(){return OE=(0,et.Z)(function*(n,e){const t=ot(n);t.asyncQueue.verifyOperationInProgress(),We("RemoteStore","RemoteStore received new credentials");const i=tl(t);t._u.add(3),yield J0(t),i&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield r7(t)}),OE.apply(this,arguments)}function BE(){return BE=(0,et.Z)(function*(n,e){const t=ot(n);e?(t._u.delete(2),yield r7(t)):e||(t._u.add(2),yield J0(t),t.gu.set("Unknown"))}),BE.apply(this,arguments)}function th(n){return n.pu||(n.pu=function(e,t,i){const r=ot(e);return r.su(),new mJ(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,i)}(n.datastore,n.asyncQueue,{Yr:bJ.bind(null,n),Zr:CJ.bind(null,n),Wo:wJ.bind(null,n)}),n.wu.push(function(){var e=(0,et.Z)(function*(t){t?(n.pu.Mo(),IE(n)?TE(n):n.gu.set("Unknown")):(yield n.pu.stop(),nN(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function Z3(n){return n.Iu||(n.Iu=function(e,t,i){const r=ot(e);return r.su(),new gJ(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,i)}(n.datastore,n.asyncQueue,{Yr:EJ.bind(null,n),Zr:IJ.bind(null,n),tu:DJ.bind(null,n),Zo:TJ.bind(null,n)}),n.wu.push(function(){var e=(0,et.Z)(function*(t){t?(n.Iu.Mo(),yield eh(n)):(yield n.Iu.stop(),n.fu.length>0&&(We("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class UE{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new $r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,i,r,s){const l=Date.now()+i,f=new UE(e,t,l,r,s);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new je(ve.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nh(n,e){if(ar("AsyncQueue",`${e}: ${n}`),O3(n))return new je(ve.UNAVAILABLE,`${e}: ${n}`);throw n}class ih{constructor(e){this.comparator=e?(t,i)=>e(t,i)||rt.comparator(t.key,i.key):(t,i)=>rt.comparator(t.key,i.key),this.keyedMap=Up(),this.sortedSet=new Ki(this.comparator)}static emptySet(e){return new ih(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ih)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new ih;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class aN{constructor(){this.Tu=new Ki(rt.comparator)}track(e){const t=e.doc.key,i=this.Tu.get(t);i?0!==e.type&&3===i.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==i.type?this.Tu=this.Tu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Tu=this.Tu.remove(t):1===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):_t():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,i)=>{e.push(i)}),e}}class rh{constructor(e,t,i,r,s,l,f,p,_){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(e,t,i,r,s){const l=[];return t.forEach(f=>{l.push({type:0,doc:f})}),new rh(e,t,ih.emptySet(t),l,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Op(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class AJ{constructor(){this.Au=void 0,this.listeners=[]}}class VJ{constructor(){this.queries=new $3(e=>SH(e),Op),this.onlineState="Unknown",this.Ru=new Set}}function jE(n,e){return $E.apply(this,arguments)}function $E(){return $E=(0,et.Z)(function*(n,e){const t=ot(n),i=e.query;let r=!1,s=t.queries.get(i);if(s||(r=!0,s=new AJ),r)try{s.Au=yield t.onListen(i)}catch(l){const f=nh(l,`Initialization of query '${WS(e.query)}' failed`);return void e.onError(f)}t.queries.set(i,s),s.listeners.push(e),e.bu(t.onlineState),s.Au&&e.Pu(s.Au)&&qE(t)}),$E.apply(this,arguments)}function GE(n,e){return WE.apply(this,arguments)}function WE(){return WE=(0,et.Z)(function*(n,e){const t=ot(n),i=e.query;let r=!1;const s=t.queries.get(i);if(s){const l=s.listeners.indexOf(e);l>=0&&(s.listeners.splice(l,1),r=0===s.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),WE.apply(this,arguments)}function LJ(n,e){const t=ot(n);let i=!1;for(const r of e){const l=t.queries.get(r.query);if(l){for(const f of l.listeners)f.Pu(r)&&(i=!0);l.Au=r}}i&&qE(t)}function kJ(n,e,t){const i=ot(n),r=i.queries.get(e);if(r)for(const s of r.listeners)s.onError(t);i.queries.delete(e)}function qE(n){n.Ru.forEach(e=>{e.next()})}class YE{constructor(e,t,i){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new rh(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=rh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class uN{constructor(e){this.key=e}}class fN{constructor(e){this.key=e}}class dN{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=un(),this.mutatedKeys=un(),this.Gu=DH(e),this.Qu=new ih(this.Gu)}get ju(){return this.qu}Wu(e,t){const i=t?t.zu:new aN,r=t?t.Qu:this.Qu;let s=t?t.mutatedKeys:this.mutatedKeys,l=r,f=!1;const p="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,_="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((x,M)=>{const I=r.get(x),H=qS(this.query,M)?M:null,P=!!I&&this.mutatedKeys.has(I.key),q=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let se=!1;I&&H?I.data.isEqual(H.data)?P!==q&&(i.track({type:3,doc:H}),se=!0):this.Hu(I,H)||(i.track({type:2,doc:H}),se=!0,(p&&this.Gu(H,p)>0||_&&this.Gu(H,_)<0)&&(f=!0)):!I&&H?(i.track({type:0,doc:H}),se=!0):I&&!H&&(i.track({type:1,doc:I}),se=!0,(p||_)&&(f=!0)),se&&(H?(l=l.add(H),s=q?s.add(x):s.delete(x)):(l=l.delete(x),s=s.delete(x)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const x="F"===this.query.limitType?l.last():l.first();l=l.delete(x.key),s=s.delete(x.key),i.track({type:1,doc:x})}return{Qu:l,zu:i,$i:f,mutatedKeys:s}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Eu();s.sort((_,x)=>function(M,I){const H=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t()}};return H(M)-H(I)}(_.type,x.type)||this.Gu(_.doc,x.doc)),this.Ju(i);const l=t?this.Yu():[],f=0===this.Ku.size&&this.current?1:0,p=f!==this.Uu;return this.Uu=f,0!==s.length||p?{snapshot:new rh(this.query,e.Qu,r,s,e.mutatedKeys,0===f,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),Xu:l}:{Xu:l}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new aN,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=un(),this.Qu.forEach(i=>{this.Zu(i.key)&&(this.Ku=this.Ku.add(i.key))});const t=[];return e.forEach(i=>{this.Ku.has(i)||t.push(new fN(i))}),this.Ku.forEach(i=>{e.has(i)||t.push(new uN(i))}),t}tc(e){this.qu=e.Hi,this.Ku=un();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return rh.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class NJ{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class RJ{constructor(e){this.key=e,this.nc=!1}}class PJ{constructor(e,t,i,r,s,l){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.sc={},this.ic=new $3(f=>SH(f),Op),this.rc=new Map,this.oc=new Set,this.uc=new Ki(rt.comparator),this.cc=new Map,this.ac=new uE,this.hc={},this.lc=new Map,this.fc=P6.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function OJ(n,e){return ZE.apply(this,arguments)}function ZE(){return ZE=(0,et.Z)(function*(n,e){const t=vD(n);let i,r;const s=t.ic.get(e);if(s)i=s.targetId,t.sharedClientState.addLocalQueryTarget(i),r=s.view.ec();else{const l=yield Q0(t.localStore,so(e));t.isPrimaryClient&&ly(t.remoteStore,l);const f=t.sharedClientState.addLocalQueryTarget(l.targetId);i=l.targetId,r=yield KE(t,e,i,"current"===f,l.resumeToken)}return r}),ZE.apply(this,arguments)}function KE(n,e,t,i,r){return QE.apply(this,arguments)}function QE(){return QE=(0,et.Z)(function*(n,e,t,i,r){n._c=(M,I,H)=>{return(P=(0,et.Z)(function*(q,se,De,Fe){let Ge=se.view.Wu(De);Ge.$i&&(Ge=yield sy(q.localStore,se.query,!1).then(({documents:xt})=>se.view.Wu(xt,Ge)));const Ze=Fe&&Fe.targetChanges.get(se.targetId),ht=se.view.applyChanges(Ge,q.isPrimaryClient,Ze);return aD(q,se.targetId,ht.Xu),ht.snapshot}),function(q,se,De,Fe){return P.apply(this,arguments)})(n,M,I,H);var P};const s=yield sy(n.localStore,e,!0),l=new dN(e,s.Hi),f=l.Wu(s.documents),p=Gp.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),_=l.applyChanges(f,n.isPrimaryClient,p);aD(n,t,_.Xu);const x=new NJ(e,t,l);return n.ic.set(e,x),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),_.snapshot}),QE.apply(this,arguments)}function FJ(n,e){return XE.apply(this,arguments)}function XE(){return XE=(0,et.Z)(function*(n,e){const t=ot(n),i=t.ic.get(e),r=t.rc.get(i.targetId);if(r.length>1)return t.rc.set(i.targetId,r.filter(s=>!Op(s,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield X0(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),s7(t.remoteStore,i.targetId),sh(t,i.targetId)}).catch(P3))):(sh(t,i.targetId),yield X0(t.localStore,i.targetId,!0))}),XE.apply(this,arguments)}function JE(){return JE=(0,et.Z)(function*(n,e,t){const i=yD(n);try{const r=yield function(s,l){const f=ot(s),p=Oi.now(),_=l.reduce((I,H)=>I.add(H.key),un());let x,M;return f.persistence.runTransaction("Locally write mutations","readwrite",I=>{let H=Io(),P=un();return f.Gi.getEntries(I,_).next(q=>{H=q,H.forEach((se,De)=>{De.isValidDocument()||(P=P.add(se))})}).next(()=>f.localDocuments.getOverlayedDocuments(I,H)).next(q=>{x=q;const se=[];for(const De of l){const Fe=YQ(De,x.get(De.key).overlayedDocument);null!=Fe&&se.push(new el(De.key,Fe,xH(Fe.value.mapValue),Ei.exists(!0)))}return f.mutationQueue.addMutationBatch(I,p,se,l)}).next(q=>{M=q;const se=q.applyToLocalDocumentSet(x,P);return f.documentOverlayCache.saveOverlays(I,q.batchId,se)})}).then(()=>({batchId:M.batchId,changes:$H(x)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,l,f){let p=s.hc[s.currentUser.toKey()];p||(p=new Ki(en)),p=p.insert(l,f),s.hc[s.currentUser.toKey()]=p}(i,r.batchId,t),yield nl(i,r.changes),yield eh(i.remoteStore)}catch(r){const s=nh(r,"Failed to persist write");t.reject(s)}}),JE.apply(this,arguments)}function hN(n,e){return eD.apply(this,arguments)}function eD(){return eD=(0,et.Z)(function*(n,e){const t=ot(n);try{const i=yield aJ(t.localStore,e);e.targetChanges.forEach((r,s)=>{const l=t.cc.get(s);l&&(Tt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?l.nc=!0:r.modifiedDocuments.size>0?Tt(l.nc):r.removedDocuments.size>0&&(Tt(l.nc),l.nc=!1))}),yield nl(t,i,e)}catch(i){yield P3(i)}}),eD.apply(this,arguments)}function pN(n,e,t){const i=ot(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.ic.forEach((s,l)=>{const f=l.view.bu(e);f.snapshot&&r.push(f.snapshot)}),function(s,l){const f=ot(s);f.onlineState=l;let p=!1;f.queries.forEach((_,x)=>{for(const M of x.listeners)M.bu(l)&&(p=!0)}),p&&qE(f)}(i.eventManager,e),r.length&&i.sc.Wo(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function UJ(n,e,t){return tD.apply(this,arguments)}function tD(){return tD=(0,et.Z)(function*(n,e,t){const i=ot(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.cc.get(e),s=r&&r.key;if(s){let l=new Ki(rt.comparator);l=l.insert(s,mi.newNoDocument(s,kt.min()));const f=un().add(s),p=new $p(kt.min(),new Map,new qn(en),l,f);yield hN(i,p),i.uc=i.uc.remove(s),i.cc.delete(e),cD(i)}else yield X0(i.localStore,e,!1).then(()=>sh(i,e,t)).catch(P3)}),tD.apply(this,arguments)}function jJ(n,e){return nD.apply(this,arguments)}function nD(){return nD=(0,et.Z)(function*(n,e){const t=ot(n),i=e.batch.batchId;try{const r=yield oJ(t.localStore,e);oD(t,i,null),sD(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield nl(t,r)}catch(r){yield P3(r)}}),nD.apply(this,arguments)}function $J(n,e,t){return iD.apply(this,arguments)}function iD(){return iD=(0,et.Z)(function*(n,e,t){const i=ot(n);try{const r=yield function(s,l){const f=ot(s);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let _;return f.mutationQueue.lookupMutationBatch(p,l).next(x=>(Tt(null!==x),_=x.keys(),f.mutationQueue.removeMutationBatch(p,x))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,_,l)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,_)).next(()=>f.localDocuments.getDocuments(p,_))})}(i.localStore,e);oD(i,e,t),sD(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield nl(i,r)}catch(r){yield P3(r)}}),iD.apply(this,arguments)}function sD(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function oD(n,e,t){const i=ot(n);let r=i.hc[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.hc[i.currentUser.toKey()]=r}}function sh(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.rc.get(e))n.ic.delete(i),t&&n.sc.wc(i,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(i=>{n.ac.containsKey(i)||mN(n,i)})}function mN(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(s7(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),cD(n))}function aD(n,e,t){for(const i of t)i instanceof uN?(n.ac.addReference(i.key,e),WJ(n,i)):i instanceof fN?(We("SyncEngine","Document no longer in limbo: "+i.key),n.ac.removeReference(i.key,e),n.ac.containsKey(i.key)||mN(n,i.key)):_t()}function WJ(n,e){const t=e.key,i=t.path.canonicalString();n.uc.get(t)||n.oc.has(i)||(We("SyncEngine","New document in limbo: "+t),n.oc.add(i),cD(n))}function cD(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new rt(Mn.fromString(e)),i=n.fc.next();n.cc.set(i,new RJ(t)),n.uc=n.uc.insert(t,i),ly(n.remoteStore,new G3(so(B0(t.path)),i,2,fa.at))}}function nl(n,e,t){return lD.apply(this,arguments)}function lD(){return lD=(0,et.Z)(function*(n,e,t){const i=ot(n),r=[],s=[],l=[];var f;i.ic.isEmpty()||(i.ic.forEach((f,p)=>{l.push(i._c(p,e,t).then(_=>{if((_||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(p.targetId,_?.fromCache?"not-current":"current"),_){r.push(_);const x=pE.Ci(p.targetId,_);s.push(x)}}))}),yield Promise.all(l),i.sc.Wo(r),yield(f=(0,et.Z)(function*(p,_){const x=ot(p);try{yield x.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>ge.forEach(_,I=>ge.forEach(I.Si,H=>x.persistence.referenceDelegate.addReference(M,I.targetId,H)).next(()=>ge.forEach(I.Di,H=>x.persistence.referenceDelegate.removeReference(M,I.targetId,H)))))}catch(M){if(!O3(M))throw M;We("LocalStore","Failed to update sequence numbers: "+M)}for(const M of _){const I=M.targetId;if(!M.fromCache){const H=x.qi.get(I),q=H.withLastLimboFreeSnapshotVersion(H.snapshotVersion);x.qi=x.qi.insert(I,q)}}}),function(p,_){return f.apply(this,arguments)})(i.localStore,s))}),lD.apply(this,arguments)}function qJ(n,e){return uD.apply(this,arguments)}function uD(){return uD=(0,et.Z)(function*(n,e){const t=ot(n);if(!t.currentUser.isEqual(e)){We("SyncEngine","User change. New user:",e.toKey());const i=yield jz(t.localStore,e);t.currentUser=e,(r=t).lc.forEach(l=>{l.forEach(f=>{f.reject(new je(ve.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.lc.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield nl(t,i.ji)}var r}),uD.apply(this,arguments)}function YJ(n,e){const t=ot(n),i=t.cc.get(e);if(i&&i.nc)return un().add(i.key);{let r=un();const s=t.rc.get(e);if(!s)return r;for(const l of s){const f=t.ic.get(l);r=r.unionWith(f.view.ju)}return r}}function vD(n){const e=ot(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=hN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=YJ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=UJ.bind(null,e),e.sc.Wo=LJ.bind(null,e.eventManager),e.sc.wc=kJ.bind(null,e.eventManager),e}function yD(n){const e=ot(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jJ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$J.bind(null,e),e}class iee{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,et.Z)(function*(){t.yt=i7(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return function Uz(n,e,t,i){return new sJ(n,e,t,i)}(this.persistence,new Bz,e.initialUser,this.yt)}yc(e){return new Oz(iy.Bs,this.yt)}gc(e){return new Qz}terminate(){var e=this;return(0,et.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class xD{initialize(e,t){var i=this;return(0,et.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>pN(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=qJ.bind(null,i.syncEngine),yield function FE(n,e){return BE.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new VJ}createDatastore(e){const t=i7(e.databaseInfo.databaseId),i=new pJ(e.databaseInfo);return new _J(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,s=f=>pN(this.syncEngine,f,0),l=Xz.C()?new Xz:new fJ,new xJ(t,i,r,s,l);var t,i,r,s,l}createSyncEngine(e,t){return function(i,r,s,l,f,p,_){const x=new PJ(i,r,s,l,f,p);return _&&(x.dc=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,et.Z)(function*(t){const i=ot(t);We("RemoteStore","RemoteStore shutting down."),i._u.add(5),yield J0(i),i.mu.shutdown(),i.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function bD(n,e,t){if(!t)throw new je(ve.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function vN(n){if(!rt.isDocumentKey(n))throw new je(ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function yN(n){if(rt.isDocumentKey(n))throw new je(ve.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function fy(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":_t()}function xn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new je(ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=fy(n);throw new je(ve.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}const bN=new Map;class CN{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new je(ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new je(ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function oee(n,e,t,i){if(!0===e&&!0===i)throw new je(ve.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class o7{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CN({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new je(ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new je(ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CN(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new mQ;switch(t.type){case"gapi":return new yQ(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new je(ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=bN.get(e);t&&(We("ComponentProvider","Removing Datastore"),bN.delete(e),t.terminate())}(this),Promise.resolve()}}class ur{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Y1(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ur(this.firestore,e,this._key)}}class Cs{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Cs(this.firestore,e,this._query)}}class Y1 extends Cs{constructor(e,t,i){super(e,t,B0(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ur(this.firestore,null,new rt(e))}withConverter(e){return new Y1(this.firestore,e,this._path)}}function cee(n,e,...t){if(n=(0,F.m9)(n),bD("collection","path",e),n instanceof o7){const i=Mn.fromString(e,...t);return yN(i),new Y1(n,null,i)}{if(!(n instanceof ur||n instanceof Y1))throw new je(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Mn.fromString(e,...t));return yN(i),new Y1(n.firestore,null,i)}}function wN(n,e,...t){if(n=(0,F.m9)(n),1===arguments.length&&(e=Wk.R()),bD("doc","path",e),n instanceof o7){const i=Mn.fromString(e,...t);return vN(i),new ur(n,null,new rt(i))}{if(!(n instanceof ur||n instanceof Y1))throw new je(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Mn.fromString(e,...t));return vN(i),new ur(n.firestore,n instanceof Y1?n.converter:null,new rt(i))}}class dy{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):ar("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class pee{constructor(e,t,i,r){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=ss.UNAUTHENTICATED,this.clientId=Wk.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var l=(0,et.Z)(function*(f){We("FirestoreClient","Received user=",f.uid),yield s.authCredentialListener(f),s.user=f});return function(f){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(i,l=>(We("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,et.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new je(ve.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new $r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,et.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=nh(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function EN(n,e){return CD.apply(this,arguments)}function CD(){return CD=(0,et.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),We("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,et.Z)(function*(s){i.isEqual(s)||(yield jz(e.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),CD.apply(this,arguments)}function DN(n,e){return wD.apply(this,arguments)}function wD(){return wD=(0,et.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield MD(n);We("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>oN(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>oN(e.remoteStore,s)),n.onlineComponents=e}),wD.apply(this,arguments)}function MD(n){return SD.apply(this,arguments)}function SD(){return SD=(0,et.Z)(function*(n){return n.offlineComponents||(We("FirestoreClient","Using default OfflineComponentProvider"),yield EN(n,new iee)),n.offlineComponents}),SD.apply(this,arguments)}function hy(n){return ED.apply(this,arguments)}function ED(){return ED=(0,et.Z)(function*(n){return n.onlineComponents||(We("FirestoreClient","Using default OnlineComponentProvider"),yield DN(n,new xD)),n.onlineComponents}),ED.apply(this,arguments)}function oh(n){return ID.apply(this,arguments)}function ID(){return ID=(0,et.Z)(function*(n){const e=yield hy(n),t=e.eventManager;return t.onListen=OJ.bind(null,e.syncEngine),t.onUnlisten=FJ.bind(null,e.syncEngine),t}),ID.apply(this,arguments)}class Cee{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new wE(this,"async_queue_retry"),this.Wc=()=>{const t=cy();t&&We("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=cy();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=cy();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new $r;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,et.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!O3(t))throw t;We("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(i=>{throw this.Kc=i,this.Gc=!1,ar("INTERNAL UNHANDLED ERROR: ",function(s){let l=s.message||"";return s.stack&&(l=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),l}(i)),i}).then(i=>(this.Gc=!1,i))));return this.Bc=t,t}enqueueAfterDelay(e,t,i){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const r=UE.createAndSchedule(this,e,t,i,s=>this.Yc(s));return this.Uc.push(r),r}zc(){this.Kc&&_t()}verifyOperationInProgress(){}Xc(){var e=this;return(0,et.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function AD(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class gi extends o7{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new Cee,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||LN(this),this._firestoreClient.terminate()}}function Mee(n,e){const t="object"==typeof n?n:(0,Si.getApp)(),i="string"==typeof n?n:e||"(default)",r=(0,Si._getProvider)(t,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=(0,F.P0)("firestore");s&&function aee(n,e,t,i={}){var r;const s=(n=xn(n,o7))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&z0("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let l,f;if("string"==typeof i.mockUserToken)l=i.mockUserToken,f=ss.MOCK_USER;else{l=(0,F.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new je(ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new ss(p)}n._authCredentials=new gQ(new $k(l,f))}}(r,...s)}return r}function br(n){return n._firestoreClient||LN(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function LN(n){var e;const t=n._freezeSettings(),i=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new AQ(n._databaseId,s,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var s,f;n._firestoreClient=new pee(n._authCredentials,n._appCheckCredentials,n._queue,i)}class F6{constructor(e){this._byteString=e}static fromBase64String(e){try{return new F6(Gr.fromBase64String(e))}catch(t){throw new je(ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new F6(Gr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ah{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new je(ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class VD{constructor(e){this._methodName=e}}class LD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new je(ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new je(ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return en(this._lat,e._lat)||en(this._long,e._long)}}const See=/^__.*__$/;class Eee{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new el(e,this.data,this.fieldMask,t,this.fieldTransforms):new $0(e,this.data,t,this.fieldTransforms)}}class zN{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new el(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function NN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t()}}class my{constructor(e,t,i,r,s,l){this.settings=e,this.databaseId=t,this.yt=i,this.ignoreUndefinedProperties=r,void 0===s&&this.na(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new my(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:i,oa:!1});return r.ua(e),r}ca(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:i,oa:!1});return r.na(),r}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return _y(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(NN(this.sa)&&See.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class Dee{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=i||i7(e)}da(e,t,i,r=!1){return new my({sa:e,methodName:t,fa:i,path:cr.emptyPath(),oa:!1,la:r},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function ch(n){const e=n._freezeSettings(),t=i7(n._databaseId);return new Dee(n._databaseId,!!e.ignoreUndefinedProperties,t)}function kD(n,e,t,i,r,s={}){const l=n.da(s.merge||s.mergeFields?2:0,e,t,r);zD("Data must be an object, but it was:",l,i);const f=BN(i,l);let p,_;if(s.merge)p=new da(l.fieldMask),_=l.fieldTransforms;else if(s.mergeFields){const x=[];for(const M of s.mergeFields){const I=ND(e,M,t);if(!l.contains(I))throw new je(ve.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);jN(x,I)||x.push(I)}p=new da(x),_=l.fieldTransforms.filter(M=>p.covers(M.field))}else p=null,_=l.fieldTransforms;return new Eee(new bs(f),p,_)}class a7 extends VD{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof a7}}function B6(n,e){if(UN(n=(0,F.m9)(n)))return zD("Unsupported field value:",e,n),BN(n,e);if(n instanceof VD)return function(t,i){if(!NN(i.sa))throw i.ha(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ha(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,i){const r=[];let s=0;for(const l of t){let f=B6(l,i.aa(s));null==f&&(f={nullValue:"NULL_VALUE"}),r.push(f),s++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,F.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return AH(i.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=Oi.fromDate(t);return{timestampValue:W0(i.yt,r)}}if(t instanceof Oi){const r=new Oi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:W0(i.yt,r)}}if(t instanceof LD)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof F6)return{bytesValue:QH(i.yt,t._byteString)};if(t instanceof ur){const r=i.databaseId,s=t.firestore._databaseId;if(!s.isEqual(r))throw i.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:ZS(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.ha(`Unsupported field value: ${fy(t)}`)}(n,e)}function BN(n,e){const t={};return Jk(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):S6(n,(i,r)=>{const s=B6(r,e.ra(i));null!=s&&(t[i]=s)}),{mapValue:{fields:t}}}function UN(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Oi||n instanceof LD||n instanceof F6||n instanceof ur||n instanceof VD)}function zD(n,e,t){if(!UN(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=fy(t);throw e.ha("an object"===i?n+" a custom object":n+" "+i)}var i}function ND(n,e,t){if((e=(0,F.m9)(e))instanceof ah)return e._internalPath;if("string"==typeof e)return gy(n,e);throw _y("Field path arguments must be of type string or ",n,!1,void 0,t)}const Vee=new RegExp("[~\\*/\\[\\]]");function gy(n,e,t){if(e.search(Vee)>=0)throw _y(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ah(...e.split("."))._internalPath}catch{throw _y(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function _y(n,e,t,i,r){const s=i&&!i.isEmpty(),l=void 0!==r;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(s||l)&&(p+=" (found",s&&(p+=` in field ${i}`),l&&(p+=` in document ${r}`),p+=")"),new je(ve.INVALID_ARGUMENT,f+n+p)}function jN(n,e){return n.some(t=>t.isEqual(e))}class RD{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ur(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Lee(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(vy("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Lee extends RD{data(){return super.data()}}function vy(n,e){return"string"==typeof e?gy(n,e):e instanceof ah?e._internalPath:e._delegate._internalPath}function $N(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new je(ve.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class PD{}class kee extends PD{}function Hee(n,e,...t){let i=[];e instanceof PD&&i.push(e),i=i.concat(t),function(r){const s=r.filter(f=>f instanceof lh).length,l=r.filter(f=>f instanceof c7).length;if(s>1||s>0&&l>0)throw new je(ve.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class c7 extends kee{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new c7(e,t,i)}_apply(e){const t=this._parse(e);return YN(e._query,t),new Cs(e.firestore,e.converter,GS(e._query,t))}_parse(e){const t=ch(e.firestore);return function(r,s,l,f,p,_,x){let M;if(p.isKeyField()){if("array-contains"===_||"array-contains-any"===_)throw new je(ve.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if("in"===_||"not-in"===_){qN(x,_);const I=[];for(const H of x)I.push(WN(f,r,H));M={arrayValue:{values:I}}}else M=WN(f,r,x)}else"in"!==_&&"not-in"!==_&&"array-contains-any"!==_||qN(x,_),M=function FN(n,e,t,i=!1){return B6(t,n.da(i?4:3,e))}(l,"where",x,"in"===_||"not-in"===_);return yn.create(p,_,M)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function zee(n,e,t){const i=e,r=vy("where",n);return c7._create(r,i,t)}class lh extends PD{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new lh(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:jn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,r){let s=i;const l=r.getFlattenedFilters();for(const f of l)YN(s,f),s=GS(s,f)}(e._query,t),new Cs(e.firestore,e.converter,GS(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function WN(n,e,t){if("string"==typeof(t=(0,F.m9)(t))){if(""===t)throw new je(ve.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$S(e)&&-1!==t.indexOf("/"))throw new je(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Mn.fromString(t));if(!rt.isDocumentKey(i))throw new je(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return T6(n,new rt(i))}if(t instanceof ur)return T6(n,t._key);throw new je(ve.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fy(t)}.`)}function qN(n,e){if(!Array.isArray(n)||0===n.length)throw new je(ve.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new je(ve.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function YN(n,e){if(e.isInequality()){const i=Bv(n),r=e.field;if(null!==i&&!i.isEqual(r))throw new je(ve.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const s=jS(n);null!==s&&function ZN(n,e,t){if(!t.isEqual(e))throw new je(ve.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}(0,r,s)}const t=function(i,r){for(const s of i)for(const l of s.getFlattenedFilters())if(r.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new je(ve.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Nee{convertValue(e,t="none"){switch(D6(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Zi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(E6(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw _t()}}convertObject(e,t){const i={};return S6(e.fields,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertGeoPoint(e){return new LD(Zi(e.latitude),Zi(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=tH(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Hp(e));default:return null}}convertTimestamp(e){const t=F3(e);return new Oi(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Mn.fromString(e);Tt(az(i));const r=new M6(i.get(1),i.get(3)),s=new rt(i.popFirst(5));return r.isEqual(t)||ar(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}class U6{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class uh extends RD{constructor(e,t,i,r,s,l){super(e,t,i,r,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Cy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(vy("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Cy extends uh{data(e={}){return super.data(e)}}class fh{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new U6(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Cy(this._firestore,this._userDataWriter,i.key,i,new U6(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new je(ve.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(l=>({type:"added",doc:new Cy(i._firestore,i._userDataWriter,l.doc.key,l.doc,new U6(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>r||3!==l.type).map(l=>{const f=new Cy(i._firestore,i._userDataWriter,l.doc.key,l.doc,new U6(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,_=-1;return 0!==l.type&&(p=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),1!==l.type&&(s=s.add(l.doc),_=s.indexOf(l.doc.key)),{type:Ree(l.type),doc:f,oldIndex:p,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Ree(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t()}}function Pee(n){n=xn(n,ur);const e=xn(n.firestore,gi);return function AN(n,e,t={}){const i=new $r;return n.asyncQueue.enqueueAndForget((0,et.Z)(function*(){return function(r,s,l,f,p){const _=new dy({next:M=>{s.enqueueAndForget(()=>GE(r,x));const I=M.docs.has(l);!I&&M.fromCache?p.reject(new je(ve.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&M.fromCache&&f&&"server"===f.source?p.reject(new je(ve.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(M)},error:M=>p.reject(M)}),x=new YE(B0(l.path),_,{includeMetadataChanges:!0,Nu:!0});return jE(r,x)}(yield oh(n),n.asyncQueue,e,t,i)})),i.promise}(br(e),n._key).then(t=>BD(e,n,t))}class K3 extends Nee{constructor(e){super(),this.firestore=e}convertBytes(e){return new F6(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ur(this.firestore,null,t)}}function wy(n){n=xn(n,Cs);const e=xn(n.firestore,gi),t=br(e),i=new K3(e);return $N(n._query),function VN(n,e,t={}){const i=new $r;return n.asyncQueue.enqueueAndForget((0,et.Z)(function*(){return function(r,s,l,f,p){const _=new dy({next:M=>{s.enqueueAndForget(()=>GE(r,x)),M.fromCache&&"server"===f.source?p.reject(new je(ve.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(M)},error:M=>p.reject(M)}),x=new YE(l,_,{includeMetadataChanges:!0,Nu:!0});return jE(r,x)}(yield oh(n),n.asyncQueue,e,t,i)})),i.promise}(t,n._query).then(r=>new fh(e,i,n,r))}function Oee(n,e,t){n=xn(n,ur);const i=xn(n.firestore,gi),r=function FD(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}(n.converter,e,t);return l7(i,[kD(ch(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,Ei.none())])}function Fee(n,e,t,...i){n=xn(n,ur);const r=xn(n.firestore,gi),s=ch(r);let l;return l="string"==typeof(e=(0,F.m9)(e))||e instanceof ah?function ON(n,e,t,i,r,s){const l=n.da(1,e,t),f=[ND(e,i,t)],p=[r];if(s.length%2!=0)throw new je(ve.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<s.length;I+=2)f.push(ND(e,s[I])),p.push(s[I+1]);const _=[],x=bs.empty();for(let I=f.length-1;I>=0;--I)if(!jN(_,f[I])){const H=f[I];let P=p[I];P=(0,F.m9)(P);const q=l.ca(H);if(P instanceof a7)_.push(H);else{const se=B6(P,q);null!=se&&(_.push(H),x.set(H,se))}}const M=new da(_);return new zN(x,M,l.fieldTransforms)}(s,"updateDoc",n._key,e,t,i):function PN(n,e,t,i){const r=n.da(1,e,t);zD("Data must be an object, but it was:",r,i);const s=[],l=bs.empty();S6(i,(p,_)=>{const x=gy(e,p,t);_=(0,F.m9)(_);const M=r.ca(x);if(_ instanceof a7)s.push(x);else{const I=B6(_,M);null!=I&&(s.push(x),l.set(x,I))}});const f=new da(s);return new zN(l,f,r.fieldTransforms)}(s,"updateDoc",n._key,e),l7(r,[l.toMutation(n._key,Ei.exists(!0))])}function Bee(n){return l7(xn(n.firestore,gi),[new G0(n._key,Ei.none())])}function l7(n,e){return function(t,i){const r=new $r;return t.asyncQueue.enqueueAndForget((0,et.Z)(function*(){return function BJ(n,e,t){return JE.apply(this,arguments)}(yield function TD(n){return hy(n).then(e=>e.syncEngine)}(t),i,r)})),r.promise}(br(n),e)}function BD(n,e,t){const i=t.docs.get(e._key),r=new K3(n);return new uh(n,r,e._key,i,new U6(t.hasPendingWrites,t.fromCache),e.converter)}!function(n,e=!0){H0=Si.SDK_VERSION,(0,Si._registerComponent)(new Wa.wA("firestore",(t,{instanceIdentifier:i,options:r})=>{const s=t.getProvider("app").getImmediate(),l=new gi(new _Q(t.getProvider("auth-internal")),new xQ(t.getProvider("app-check-internal")),function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new je(ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new M6(f.options.projectId,p)}(s,i),s);return r=Object.assign({useFetchStreams:e},r),l._setSettings(r),l},"PUBLIC").setMultipleInstances(!0)),(0,Si.registerVersion)(jk,"3.8.0",n),(0,Si.registerVersion)(jk,"3.8.0","esm2017")}();var Wee={includeMetadataChanges:!1};function Jee(n,e){return void 0===e&&(e={}),function Xee(n){return function UD(n,e){return void 0===e&&(e=Wee),new hi.y(function(t){var i=function Uee(n,...e){var t,i,r;n=(0,F.m9)(n);let s={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||AD(e[l])||(s=e[l],l++);const f={includeMetadataChanges:s.includeMetadataChanges};if(AD(e[l])){const M=e[l];e[l]=null===(t=M.next)||void 0===t?void 0:t.bind(M),e[l+1]=null===(i=M.error)||void 0===i?void 0:i.bind(M),e[l+2]=null===(r=M.complete)||void 0===r?void 0:r.bind(M)}let p,_,x;if(n instanceof ur)_=xn(n.firestore,gi),x=B0(n._key.path),p={next:M=>{e[l]&&e[l](BD(_,n,M))},error:e[l+1],complete:e[l+2]};else{const M=xn(n,Cs);_=xn(M.firestore,gi),x=M._query;const I=new K3(_);p={next:H=>{e[l]&&e[l](new fh(_,I,M,H))},error:e[l+1],complete:e[l+2]},$N(n._query)}return function(M,I,H,P){const q=new dy(P),se=new YE(I,q,H);return M.asyncQueue.enqueueAndForget((0,et.Z)(function*(){return jE(yield oh(M),se)})),()=>{q.bc(),M.asyncQueue.enqueueAndForget((0,et.Z)(function*(){return GE(yield oh(M),se)}))}}(br(_),x,f,p)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:i}})}(n,{includeMetadataChanges:!0}).pipe((0,ut.U)(function(e){return e.docs}))}(n).pipe((0,ut.U)(function(t){return t.map(function(i){return function XN(n,e){void 0===e&&(e={});var t=n.data();return!n.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=n.id),t}(i,e)})}))}class Sy{constructor(e){return e}}const nR="firestore",GD=new a.OlP("angularfire2.firestore-instances");function nte(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new Sy(i)}}const ite={provide:class ete{constructor(){return(0,sn.vb)(nR)}},deps:[[new a.FiY,GD]]},rte={provide:Sy,useFactory:function tte(n,e){const t=(0,sn.JM)(nR,n,e);return t&&new Sy(t)},deps:[[new a.FiY,GD],R1]};let ste=(()=>{class n{constructor(){(0,N1.KN)("angularfire",sn.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[rte,ite]}),n})();function ote(n,...e){return{ngModule:ste,providers:[{provide:GD,useFactory:nte(n),multi:!0,deps:[a.R0b,a.zs3,sn.HU,o5,[new a.FiY,__],[new a.FiY,o6],...e]}]}}const ate=(0,sn.u3)(Jee,!0),Q3=(0,sn.u3)(cee,!0),cte=(0,sn.u3)(Bee,!0),j6=(0,sn.u3)(wN,!0),lte=(0,sn.u3)(Pee,!0),ute=(0,sn.u3)(Mee,!0),Ey=(0,sn.u3)(Hee,!0),WD=(0,sn.u3)(Oee,!0),u7=(0,sn.u3)(Fee,!0),Dy=(0,sn.u3)(zee,!0);var il=O(6451),Ty=O(5363),fte=O(6063);class dte extends Qt.x{constructor(e=1/0,t=1/0,i=fte.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:l}=this;t||(i.push(e),!r&&i.push(s.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let l=0;l<s.length&&!e.closed;l+=i?1:2)e.next(s[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*e;if(e<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const l=t.now();let f=0;for(let p=1;p<i.length&&i[p]<=l;p+=2)f=p;f&&i.splice(0,f+1)}}}var qD=O(3099);function iR(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,qD.B)({connector:()=>new dte(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function rR(n,e){return(0,wn.m)(e)?Xn(()=>n,e):Xn(()=>n)}var YD=O(9468),j2=O(2011),sR=O(9260);const oR=new a.OlP("angularfire2.auth.use-emulator"),aR=new a.OlP("angularfire2.auth.settings"),cR=new a.OlP("angularfire2.auth.tenant-id"),lR=new a.OlP("angularfire2.auth.langugage-code"),uR=new a.OlP("angularfire2.auth.use-device-language"),fR=new a.OlP("angularfire.auth.persistence"),dR=(n,e,t,i,r,s,l,f)=>(0,j2.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const p=e.runOutsideAngular(()=>n.auth());if(t&&p.useEmulator(...t),i&&(p.tenantId=i),p.languageCode=r,s&&p.useDeviceLanguage(),l)for(const[_,x]of Object.entries(l))p.settings[_]=x;return f&&p.setPersistence(f),p},[t,i,r,s,l,f]);let ZD,Iy=(()=>{class n{constructor(t,i,r,s,l,f,p,_,x,M,I,H){const P=new Qt.x,q=Qe(void 0).pipe((0,Ty.Q)(l.outsideAngular),Xn(()=>s.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,9568)))),(0,ut.U)(()=>(0,j2.on)(t,s,i)),(0,ut.U)(se=>dR(se,s,f,_,x,M,p,I)),iR({bufferSize:1,refCount:!1}));if(function e1(n){return"server"===n}(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Qe(null);else{q.pipe(Qo()).subscribe();const De=q.pipe(Xn(Ze=>Ze.getRedirectResult().then(ht=>ht,()=>null)),sn.iC,iR({bufferSize:1,refCount:!1})),Fe=q.pipe(Xn(Ze=>new hi.y(ht=>({unsubscribe:s.runOutsideAngular(()=>Ze.onAuthStateChanged(xt=>ht.next(xt),xt=>ht.error(xt),()=>ht.complete()))})))),Ge=q.pipe(Xn(Ze=>new hi.y(ht=>({unsubscribe:s.runOutsideAngular(()=>Ze.onIdTokenChanged(xt=>ht.next(xt),xt=>ht.error(xt),()=>ht.complete()))}))));this.authState=De.pipe(rR(Fe),(0,YD.R)(l.outsideAngular),(0,Ty.Q)(l.insideAngular)),this.user=De.pipe(rR(Ge),(0,YD.R)(l.outsideAngular),(0,Ty.Q)(l.insideAngular)),this.idToken=this.user.pipe(Xn(Ze=>Ze?(0,di.D)(Ze.getIdToken()):Qe(null))),this.idTokenResult=this.user.pipe(Xn(Ze=>Ze?(0,di.D)(Ze.getIdTokenResult()):Qe(null))),this.credential=(0,il.T)(De,P,this.authState.pipe(es(Ze=>!Ze))).pipe((0,ut.U)(Ze=>Ze?.user?Ze:null),(0,YD.R)(l.outsideAngular),(0,Ty.Q)(l.insideAngular))}return(0,j2.pX)(this,q,s,{spy:{apply:(se,De,Fe)=>{(se.startsWith("signIn")||se.startsWith("createUser"))&&Fe.then(Ge=>P.next(Ge))}}})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(j2.Dh),a.LFG(j2.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(sn.HU),a.LFG(oR,8),a.LFG(aR,8),a.LFG(cR,8),a.LFG(lR,8),a.LFG(uR,8),a.LFG(fR,8),a.LFG(o6,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),pte=(()=>{class n{constructor(){sR.Z.registerVersion("angularfire",sn.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Iy]}),n})();class Wr{constructor(e,t,i,r){this.firestore=e,this.router=t,this.afAuth=i,this.counter=r,this.userState=new Qn(null),this.temp=[],this.userData=null,this.userRoles={id:"tmp",guest:!0,admin:!1,menager:!1,client:!1,banned:!1};const s=Q3(e,"Tours");this.item$=ate(s);const l=(0,io.n)();(0,io.v)(l,f=>{f?(this.userData=f,this.getUserById(f.uid).then(_=>{this.userRoles=_._snapshot.docChanges[0].doc.data.value.mapValue.fields,this.userState.next(this.userRoles)})):(this.userData=null,this.userRoles={id:"tmp",guest:!0,admin:!1,menager:!1,client:!1,banned:!1})})}createTour(e){const t=e.photo_src,i=p_(),r=j6(Q3(this.firestore,"Tours"));return pM(V5(i,"images/"+r.id),t).then(s=>{uM(V5(i,"images/"+r.id)).then(l=>{e.photo_src=l,WD(r,e)}).catch(l=>{console.log(l)})})}getSingleTour(e){const t=j6(this.firestore,"Tours",e);return lte(t)}getData(){return wy(Ey(Q3(this.firestore,"Tours"),Dy("max_people","!=",-111)))}uploadReview(e,t){const i={...e,id:t},r=j6(Q3(this.firestore,"Reviews"));WD(r,i)}getReviewsByID(e){return wy(Ey(Q3(this.firestore,"Reviews"),Dy("id","==",e)))}deleteByID(e){const t=j6(this.firestore,"Tours",e);cte(t).then(()=>{console.log("delted succces")});const i=p_();lM(V5(i,"images/"+e)).then(()=>{}).catch(r=>{console.log(r)})}registerUser(e,t){const i=(0,io.n)();(0,io.a5)(i,e,t).then(r=>{this.addUserToDb({id:r.user.uid,email:e,guest:!0,admin:!1,menager:!1,client:!0,banned:!1}).then(f=>f)}).catch(r=>{window.alert(r)})}addUserToDb(e){const t=j6(Q3(this.firestore,"Users"));return WD(t,e)}loginUser(e,t){const i=(0,io.n)();(0,io.a6)(i,e,t).then(r=>{this.router.navigate(["tourlist"])}).catch(r=>{alert(r)})}signOut(){const e=(0,io.n)();(0,io.y)(e).then(()=>{window.location.reload()}).catch(t=>{})}getAuthenticated(){return this.afAuth.authState}getUserById(e){return wy(Ey(Q3(this.firestore,"Users"),Dy("id","==",e)))}changePersistance(e){e="session"==e?io.a:"local"==e?io.b:io.L;const i=(0,io.n)();(0,io.p)(i,e).then(()=>{}).catch(r=>{})}getUsersList(){return wy(Ey(Q3(this.firestore,"Users"),Dy("id","!=","2137")))}banUserById(e){this.getUserById(e).then(function(){var t=(0,et.Z)(function*(i){const r=i.docs[0].ref;yield u7(r,{banned:!0})});return function(i){return t.apply(this,arguments)}}())}unbanUserById(e){this.getUserById(e).then(function(){var t=(0,et.Z)(function*(i){const r=i.docs[0].ref;yield u7(r,{banned:!1})});return function(i){return t.apply(this,arguments)}}())}updatePriceByID(e,t){var i=this;return(0,et.Z)(function*(){const r=j6(i.firestore,"Tours",e);yield u7(r,{unit_price:t})})()}updatePeopleByID(e,t){var i=this;return(0,et.Z)(function*(){const r=j6(i.firestore,"Tours",e);yield u7(r,{max_people:t})})()}updateRolesByID(e,t){this.getUserById(e).then(function(){var i=(0,et.Z)(function*(r){const s=r.docs[0].ref;yield u7(s,{admin:t.admin,banned:t.banned,client:t.client,guest:t.guest,menager:t.menager})});return function(r){return i.apply(this,arguments)}}())}static#e=this.\u0275fac=function(t){return new(t||Wr)(a.LFG(Sy),a.LFG(Bn),a.LFG(Iy),a.LFG(Mo))};static#t=this.\u0275prov=a.Yz7({token:Wr,factory:Wr.\u0275fac,providedIn:"root"})}class Ay{constructor(e,t){this.fire=e,this.router=t,this.loginForm=new N2({login:new Or("",[pi.required,pi.email]),password:new Or("",[pi.required])})}ngOnInit(){}submitForm(){if(this.loginForm.valid){let e=this.loginForm.get("login").value,t=this.loginForm.get("password").value;this.fire.loginUser(e,t),this.loginForm.reset()}else alert("form not valid")}static#e=this.\u0275fac=function(t){return new(t||Ay)(a.Y36(Wr),a.Y36(Bn))};static#t=this.\u0275cmp=a.Xpm({type:Ay,selectors:[["app-login"]],decls:10,vars:1,consts:[[1,"form-container"],[3,"formGroup"],[1,"left-right"],["id","name","type","text","formControlName","login","placeholder","Email"],["id","password","type","password","formControlName","password","placeholder","Password"],["type","submit",1,"button-accent",3,"click"]],template:function(t,i){1&t&&(a.TgZ(0,"div",0)(1,"h2"),a._uU(2,"Zaloguj si\u0119"),a.qZA(),a.TgZ(3,"form",1)(4,"div",2),a._UZ(5,"input",3),a.qZA(),a.TgZ(6,"div",2),a._UZ(7,"input",4),a.qZA()(),a.TgZ(8,"button",5),a.NdJ("click",function(){return i.submitForm()}),a._uU(9,"Zaloguj"),a.qZA()()),2&t&&(a.xp6(3),a.Q6J("formGroup",i.loginForm))},dependencies:[h3,z2,o3,md,ia,m3],styles:[".form-container[_ngcontent-%COMP%]{border:solid 2px black;position:relative;transform:translate(-50%);left:50%;width:80%;top:20%;display:flex;justify-content:center;align-items:center;flex-direction:column;gap:10px;background-color:#823127;border-radius:5px;color:#fff}label[_ngcontent-%COMP%]{text-align:left}h2[_ngcontent-%COMP%]{font-size:2rem}input[_ngcontent-%COMP%]{font-size:1.4rem}button[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:10px}form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin:10px}"]})}class Vy{static#e=this.\u0275fac=function(t){return new(t||Vy)};static#t=this.\u0275cmp=a.Xpm({type:Vy,selectors:[["app-mainpage"]],decls:21,vars:0,consts:[[1,"body"],["id","stars"],["id","stars2"],["id","stars3"],["id","parallax"],["data-depth","0.6",1,"layer"],[1,"some-space"],[2,"margin","2rem","font-size","1rem","letter-spacing","normal"],[2,"display","flex","justify-content","center","align-items","center"],["href","tel:+48513274649",2,"position","static","transform","none"],["href","mailto:rudy@gmail.com",2,"position","static","transform","none"],["href","https://goo.gl/maps/GgZhbFckAKP6sYNy7",2,"position","static","transform","none"],["data-depth","0.4",1,"layer"],["id","particles-js"]],template:function(t,i){1&t&&(a.TgZ(0,"div",0),a._UZ(1,"div",1)(2,"div",2)(3,"div",3),a.TgZ(4,"div",4)(5,"div",5)(6,"div",6)(7,"h1")(8,"div"),a._uU(9,"Witamy"),a.qZA(),a.TgZ(10,"div",7),a._uU(11,"Dane Kontaktowe "),a.TgZ(12,"div",8)(13,"a",9),a._uU(14,"Telefon"),a.qZA(),a.TgZ(15,"a",10),a._uU(16,"Email"),a.qZA(),a.TgZ(17,"a",11),a._uU(18,"Lokalizacja"),a.qZA()()()()()(),a.TgZ(19,"div",12),a._UZ(20,"div",13),a.qZA()()())},styles:['@import"https://fonts.googleapis.com/css?family=Lato:400,300,100";.body[_ngcontent-%COMP%]{font-family:Lato;background:#4b0f0f;overflow:hidden;height:100%;width:100%;-webkit-font-smoothing:antialiased;-webkit-user-select:none;user-select:none}#particles-js[_ngcontent-%COMP%], #parallax[_ngcontent-%COMP%], .layer[_ngcontent-%COMP%], .some-space[_ngcontent-%COMP%], .some-more-space1[_ngcontent-%COMP%]{height:100%;width:100%}#particles-js[_ngcontent-%COMP%]{opacity:.6}h1[_ngcontent-%COMP%]{color:#fff;text-align:center;font-size:5em;font-weight:100;letter-spacing:.2em;position:absolute;top:50%;left:50%;transform:translate3d(-50%,-50%,0)}a[_ngcontent-%COMP%]{color:#fff;border:1px solid white;display:table;position:absolute;top:65%;left:50%;letter-spacing:.05em;transform:translate3d(-50%,-50%,0);text-decoration:none;transition:all .2s ease;padding:10px 15px}a[_ngcontent-%COMP%]:hover{background:white;color:#000}.some-space[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate 18s .5s infinite linear reverse}.some-more-space1[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate 15s .1s infinite linear}@keyframes _ngcontent-%COMP%_rotate{0%{transform:rotate(0) translate3d(0,1.5%,0) rotate(0)}to{transform:rotate(360deg) translate3d(0,1.5%,0) rotate(-360deg)}}html[_ngcontent-%COMP%]{height:1000px;background:radial-gradient(ellipse at bottom,#1b2735 0%,#090a0f 100%);overflow:hidden}#stars[_ngcontent-%COMP%]{width:1px;height:1px;background:transparent;box-shadow:834px 1610px #fff,1574px 807px #fff,1462px 75px #fff,1466px 1743px #fff,1994px 122px #fff,395px 1428px #fff,150px 1729px #fff,648px 396px #fff,1096px 955px #fff,451px 1534px #fff,312px 1682px #fff,459px 1274px #fff,132px 618px #fff,1562px 1034px #fff,726px 1887px #fff,201px 798px #fff,471px 411px #fff,1521px 259px #fff,1590px 1911px #fff,727px 169px #fff,307px 693px #fff,1168px 243px #fff,589px 166px #fff,62px 747px #fff,995px 1783px #fff,1489px 1599px #fff,1885px 469px #fff,1816px 1605px #fff,1836px 386px #fff,1685px 58px #fff,227px 1636px #fff,376px 1201px #fff,1279px 1798px #fff,1955px 1013px #fff,1702px 1701px #fff,1197px 441px #fff,1807px 898px #fff,640px 1826px #fff,1438px 687px #fff,245px 783px #fff,392px 1070px #fff,1814px 1014px #fff,1765px 1175px #fff,485px 1043px #fff,1592px 944px #fff,1990px 1971px #fff,1129px 1227px #fff,1972px 222px #fff,1290px 1803px #fff,1395px 1674px #fff,1565px 269px #fff,1689px 532px #fff,737px 1825px #fff,1438px 1372px #fff,1968px 872px #fff,1085px 325px #fff,649px 1482px #fff,1585px 1845px #fff,1489px 389px #fff,1099px 1392px #fff,1226px 1536px #fff,1630px 96px #fff,662px 524px #fff,781px 1837px #fff,1603px 613px #fff,810px 449px #fff,909px 1259px #fff,261px 1737px #fff,1629px 177px #fff,1928px 1183px #fff,1025px 152px #fff,481px 835px #fff,1517px 1840px #fff,661px 122px #fff,1077px 15px #fff,1919px 662px #fff,1577px 457px #fff,29px 1024px #fff,242px 928px #fff,1204px 1641px #fff,296px 1787px #fff,52px 1532px #fff,142px 118px #fff,34px 507px #fff,461px 719px #fff,922px 1808px #fff,26px 103px #fff,494px 349px #fff,1046px 555px #fff,992px 1063px #fff,1754px 671px #fff,240px 1118px #fff,1148px 462px #fff,1167px 565px #fff,1742px 1640px #fff,41px 593px #fff,106px 446px #fff,1133px 963px #fff,634px 135px #fff,1245px 786px #fff,1456px 1657px #fff,1547px 1817px #fff,1292px 1598px #fff,1608px 1544px #fff,1980px 538px #fff,680px 317px #fff,1150px 1440px #fff,1351px 628px #fff,1018px 1217px #fff,847px 1882px #fff,300px 1409px #fff,1047px 1401px #fff,1474px 644px #fff,509px 194px #fff,1084px 697px #fff,547px 1717px #fff,1156px 1834px #fff,1573px 232px #fff,294px 1846px #fff,1979px 73px #fff,412px 759px #fff,1910px 936px #fff,717px 1134px #fff,1345px 1452px #fff,781px 863px #fff,1121px 1106px #fff,1994px 1118px #fff,1988px 148px #fff,886px 190px #fff,652px 1265px #fff,1952px 199px #fff,1965px 1032px #fff,1660px 1297px #fff,1885px 1516px #fff,1128px 718px #fff,1858px 264px #fff,652px 1782px #fff,435px 320px #fff,1678px 808px #fff,950px 328px #fff,572px 228px #fff,462px 1985px #fff,971px 728px #fff,317px 910px #fff,1565px 194px #fff,1888px 833px #fff,1474px 1791px #fff,532px 1493px #fff,1398px 385px #fff,1155px 560px #fff,1436px 1419px #fff,429px 1130px #fff,1129px 1853px #fff,538px 1149px #fff,294px 796px #fff,472px 1354px #fff,1747px 1532px #fff,1485px 1713px #fff,600px 1902px #fff,1910px 1893px #fff,1568px 1719px #fff,1467px 698px #fff,1750px 1634px #fff,439px 1103px #fff,993px 291px #fff,1960px 1307px #fff,1010px 1269px #fff,960px 620px #fff,519px 1507px #fff,334px 399px #fff,1712px 1055px #fff,954px 566px #fff,736px 1330px #fff,1052px 34px #fff,1624px 1790px #fff,329px 1296px #fff,1097px 745px #fff,685px 1499px #fff,1701px 917px #fff,464px 760px #fff,1250px 1737px #fff,1750px 1402px #fff,638px 1480px #fff,418px 1228px #fff,1263px 478px #fff,454px 1969px #fff,1173px 297px #fff,67px 1963px #fff,485px 72px #fff,952px 1951px #fff,963px 914px #fff,1955px 757px #fff,1063px 1454px #fff,1201px 277px #fff,1781px 234px #fff,847px 1540px #fff,474px 642px #fff,597px 1468px #fff,1388px 1392px #fff,1232px 199px #fff,1873px 1864px #fff,838px 729px #fff,1220px 442px #fff,621px 1469px #fff,438px 220px #fff,1649px 1911px #fff,1039px 277px #fff,1785px 702px #fff,397px 955px #fff,1829px 612px #fff,1538px 963px #fff,471px 940px #fff,1077px 437px #fff,282px 821px #fff,124px 430px #fff,449px 1328px #fff,134px 1370px #fff,131px 88px #fff,1949px 1273px #fff,725px 271px #fff,1930px 1437px #fff,459px 9px #fff,1953px 1616px #fff,1257px 845px #fff,368px 689px #fff,1153px 655px #fff,1667px 1943px #fff,1798px 8px #fff,790px 1902px #fff,1322px 654px #fff,1455px 1881px #fff,596px 1003px #fff,1253px 1777px #fff,982px 1208px #fff,1700px 783px #fff,1804px 549px #fff,1824px 814px #fff,1162px 180px #fff,1297px 940px #fff,1028px 574px #fff,1423px 433px #fff,1961px 1674px #fff,802px 484px #fff,1299px 517px #fff,372px 900px #fff,1730px 664px #fff,1048px 58px #fff,1234px 1475px #fff,1610px 255px #fff,316px 574px #fff,1267px 125px #fff,862px 587px #fff,1582px 1587px #fff,810px 1743px #fff,516px 1091px #fff,373px 709px #fff,248px 689px #fff,871px 1467px #fff,1837px 1013px #fff,971px 1328px #fff,1778px 377px #fff,499px 816px #fff,728px 1006px #fff,1162px 748px #fff,99px 1649px #fff,423px 32px #fff,1894px 300px #fff,439px 1809px #fff,166px 900px #fff,374px 1731px #fff,1104px 66px #fff,962px 1491px #fff,1546px 1464px #fff,1556px 1720px #fff,1875px 470px #fff,331px 517px #fff,157px 187px #fff,326px 421px #fff,1129px 335px #fff,304px 1878px #fff,198px 1611px #fff,983px 1098px #fff,1482px 1860px #fff,1123px 1114px #fff,2px 1395px #fff,1480px 275px #fff,1794px 1635px #fff,375px 1777px #fff,1245px 330px #fff,1738px 960px #fff,1228px 645px #fff,480px 834px #fff,111px 957px #fff,31px 1617px #fff,703px 1492px #fff,277px 673px #fff,839px 771px #fff,1146px 304px #fff,1039px 1662px #fff,1088px 1297px #fff,1985px 1540px #fff,1517px 1951px #fff,1200px 1829px #fff,242px 1548px #fff,428px 1680px #fff,176px 112px #fff,186px 756px #fff,775px 797px #fff,1379px 303px #fff,1883px 733px #fff,335px 1753px #fff,262px 1047px #fff,5px 1482px #fff,1130px 156px #fff,1366px 1195px #fff,41px 1399px #fff,1615px 1088px #fff,1950px 1282px #fff,1296px 315px #fff,884px 351px #fff,93px 457px #fff,898px 521px #fff,841px 696px #fff,636px 1067px #fff,448px 922px #fff,1370px 1716px #fff,1499px 804px #fff,294px 546px #fff,1513px 82px #fff,1912px 623px #fff,74px 1843px #fff,970px 569px #fff,819px 958px #fff,430px 1450px #fff,261px 832px #fff,1603px 22px #fff,752px 1870px #fff,760px 330px #fff,938px 1539px #fff,1624px 222px #fff,1678px 551px #fff,673px 1876px #fff,1634px 565px #fff,1463px 922px #fff,1061px 1738px #fff,1003px 1756px #fff,1161px 1985px #fff,602px 1843px #fff,1285px 317px #fff,1593px 1796px #fff,965px 324px #fff,1065px 1005px #fff,1250px 1149px #fff,931px 827px #fff,451px 626px #fff,1897px 1092px #fff,1862px 1578px #fff,297px 917px #fff,1233px 1605px #fff,89px 233px #fff,1666px 1619px #fff,584px 699px #fff,955px 1288px #fff,326px 1420px #fff,147px 1734px #fff,1476px 1813px #fff,160px 275px #fff,303px 1790px #fff,1507px 1240px #fff,532px 1190px #fff,1861px 1556px #fff,328px 1672px #fff,1803px 284px #fff,1526px 1107px #fff,1188px 563px #fff,1895px 1876px #fff,1847px 807px #fff,1882px 1771px #fff,675px 1345px #fff,59px 1143px #fff,917px 353px #fff,1363px 425px #fff,1021px 1838px #fff,1571px 305px #fff,1559px 429px #fff,1470px 1531px #fff,1141px 1791px #fff,619px 1969px #fff,243px 1783px #fff,1243px 1147px #fff,504px 1412px #fff,936px 1006px #fff,1845px 1819px #fff,22px 841px #fff,161px 957px #fff,691px 1163px #fff,1529px 849px #fff,1719px 301px #fff,925px 666px #fff,430px 210px #fff,1044px 1922px #fff,797px 229px #fff,1509px 300px #fff,1662px 800px #fff,1449px 289px #fff,850px 1748px #fff,1932px 640px #fff,1864px 1647px #fff,237px 709px #fff,100px 963px #fff,334px 819px #fff,63px 933px #fff,812px 1699px #fff,1985px 1305px #fff,520px 976px #fff,1370px 1963px #fff,175px 617px #fff,1310px 1707px #fff,863px 546px #fff,1259px 127px #fff,1334px 1259px #fff,200px 1740px #fff,1408px 190px #fff,845px 794px #fff,1071px 1052px #fff,830px 804px #fff,1260px 445px #fff,494px 1174px #fff,1583px 261px #fff,697px 1159px #fff,1336px 1910px #fff,1630px 1501px #fff,1083px 622px #fff,1625px 1982px #fff,1675px 882px #fff,858px 1116px #fff,487px 796px #fff,1682px 898px #fff,818px 868px #fff,821px 962px #fff,1183px 1898px #fff,66px 1323px #fff,1225px 626px #fff,1939px 1196px #fff,499px 1101px #fff,1718px 883px #fff,1482px 1508px #fff,1750px 1342px #fff,567px 1446px #fff,588px 439px #fff,432px 1885px #fff,481px 1787px #fff,473px 129px #fff,279px 1890px #fff,163px 141px #fff,1320px 1696px #fff,559px 1253px #fff,1573px 852px #fff,1481px 893px #fff,1634px 325px #fff,1733px 598px #fff,1282px 855px #fff,355px 862px #fff,1252px 392px #fff,61px 1091px #fff,720px 1639px #fff,1259px 1020px #fff,954px 1572px #fff,1699px 1603px #fff,236px 1045px #fff,1839px 366px #fff,1781px 1535px #fff,1142px 338px #fff,1491px 1703px #fff,1155px 1197px #fff,453px 558px #fff,1485px 1134px #fff,832px 339px #fff,601px 885px #fff,459px 1091px #fff,1058px 497px #fff,537px 718px #fff,1134px 105px #fff,1164px 1123px #fff,303px 1484px #fff,1684px 1695px #fff,1756px 538px #fff,1383px 1879px #fff,797px 646px #fff,422px 1718px #fff,401px 377px #fff,1159px 271px #fff,1564px 1398px #fff,244px 751px #fff,1026px 1062px #fff,186px 1572px #fff,580px 1637px #fff,1145px 732px #fff,829px 1033px #fff,3px 539px #fff,1966px 635px #fff,1243px 1959px #fff,1358px 763px #fff,1262px 759px #fff,1642px 1625px #fff,213px 668px #fff,788px 943px #fff,179px 394px #fff,1621px 848px #fff,1436px 886px #fff,1459px 238px #fff,956px 297px #fff,458px 1116px #fff,239px 1493px #fff,663px 1641px #fff,1834px 1316px #fff,1760px 1089px #fff,1918px 1275px #fff,928px 934px #fff,235px 1734px #fff,963px 582px #fff,1813px 1733px #fff,1023px 1558px #fff,275px 407px #fff,181px 505px #fff,821px 1146px #fff,1798px 29px #fff,1042px 1742px #fff,1160px 411px #fff,51px 55px #fff,534px 335px #fff,1804px 126px #fff,1620px 889px #fff,758px 190px #fff,579px 710px #fff,1447px 97px #fff,1709px 635px #fff,141px 419px #fff,855px 724px #fff,24px 330px #fff,1658px 1459px #fff,1917px 1630px #fff,1622px 1676px #fff,1786px 1058px #fff,161px 1781px #fff,630px 1333px #fff,1453px 46px #fff,984px 1332px #fff,559px 1155px #fff,946px 1879px #fff,1002px 686px #fff,1285px 758px #fff,594px 1641px #fff,1919px 1357px #fff,422px 1957px #fff,1858px 913px #fff,1571px 190px #fff,1095px 1336px #fff,1058px 51px #fff,1627px 1872px #fff,54px 1634px #fff,1052px 687px #fff,1867px 291px #fff,1312px 1976px #fff,1505px 195px #fff,55px 765px #fff,806px 1430px #fff,286px 310px #fff,355px 610px #fff,1361px 397px #fff,604px 1407px #fff,1531px 544px #fff,82px 1416px #fff,1129px 1676px #fff,1216px 1525px #fff,247px 865px #fff,1446px 1513px #fff,229px 137px #fff,1119px 414px #fff,1423px 747px #fff,1240px 1916px #fff,1843px 1355px #fff,1122px 1285px #fff,480px 359px #fff,485px 268px #fff,1709px 1130px #fff,1631px 1020px #fff,142px 1488px #fff,863px 1219px #fff,1357px 217px #fff,1381px 759px #fff,915px 568px #fff,148px 68px #fff,175px 681px #fff,1252px 943px #fff,1608px 1305px #fff,1058px 218px #fff,933px 197px #fff,229px 1654px #fff,1576px 670px #fff,1992px 448px #fff,662px 1077px #fff,626px 1477px #fff,360px 1600px #fff,632px 1044px #fff,210px 1091px #fff,1793px 1599px #fff,224px 1872px #fff,1711px 1869px #fff,1632px 365px #fff,1567px 749px #fff,1599px 1738px #fff,393px 591px #fff,1807px 1812px #fff,1380px 302px #fff,949px 1481px #fff,1614px 1921px #fff,1069px 1893px #fff,918px 283px #fff,1252px 762px #fff,619px 436px #fff,1736px 1526px #fff,435px 657px #fff,83px 1862px #fff,1707px 279px #fff,728px 977px #fff,1558px 447px #fff,1965px 745px #fff,1114px 1659px #fff,83px 378px #fff,1203px 1485px #fff,152px 1902px #fff,623px 26px #fff,1662px 400px #fff,880px 1276px #fff,44px 826px #fff,789px 920px #fff,1326px 1046px #fff,939px 1340px #fff,1208px 1812px #fff,1706px 913px #fff,714px 910px #fff,1648px 66px #fff,1906px 1790px #fff,1441px 318px #fff,1803px 1498px #fff,712px 1619px #fff,1233px 1517px #fff,298px 379px #fff,341px 60px #fff,979px 1439px #fff,902px 1272px #fff,1053px 792px #fff,1396px 1930px #fff,396px 1246px #fff,1952px 873px #fff,93px 415px #fff,1099px 776px #fff,1575px 433px #fff,313px 1386px #fff,137px 1956px #fff,224px 223px #fff,1728px 1184px #fff,1598px 69px #fff,1905px 522px #fff,332px 1129px #fff,478px 254px #fff,754px 1739px #fff,762px 566px #fff,1022px 1504px #fff,749px 311px #fff,1452px 187px #fff,1736px 1674px #fff,492px 1677px #fff,1148px 1117px #fff,1881px 1359px #fff,1384px 1053px #fff,380px 802px #fff,883px 135px #fff,403px 915px #fff,879px 1487px #fff,255px 219px #fff,1392px 1200px #fff,226px 179px #fff,1748px 953px #fff,1887px 1222px #fff,56px 452px #fff,1568px 1826px #fff,1722px 1077px #fff,1042px 465px #fff,272px 128px #fff,917px 211px #fff,1197px 1819px #fff,1848px 742px #fff,866px 384px #fff,460px 1917px #fff,112px 14px #fff,1687px 1559px #fff,260px 1666px #fff,726px 1297px #fff;animation:_ngcontent-%COMP%_animStar 50s linear infinite}#stars[_ngcontent-%COMP%]:after{content:" ";position:absolute;top:2000px;width:1px;height:1px;background:transparent;box-shadow:834px 1610px #fff,1574px 807px #fff,1462px 75px #fff,1466px 1743px #fff,1994px 122px #fff,395px 1428px #fff,150px 1729px #fff,648px 396px #fff,1096px 955px #fff,451px 1534px #fff,312px 1682px #fff,459px 1274px #fff,132px 618px #fff,1562px 1034px #fff,726px 1887px #fff,201px 798px #fff,471px 411px #fff,1521px 259px #fff,1590px 1911px #fff,727px 169px #fff,307px 693px #fff,1168px 243px #fff,589px 166px #fff,62px 747px #fff,995px 1783px #fff,1489px 1599px #fff,1885px 469px #fff,1816px 1605px #fff,1836px 386px #fff,1685px 58px #fff,227px 1636px #fff,376px 1201px #fff,1279px 1798px #fff,1955px 1013px #fff,1702px 1701px #fff,1197px 441px #fff,1807px 898px #fff,640px 1826px #fff,1438px 687px #fff,245px 783px #fff,392px 1070px #fff,1814px 1014px #fff,1765px 1175px #fff,485px 1043px #fff,1592px 944px #fff,1990px 1971px #fff,1129px 1227px #fff,1972px 222px #fff,1290px 1803px #fff,1395px 1674px #fff,1565px 269px #fff,1689px 532px #fff,737px 1825px #fff,1438px 1372px #fff,1968px 872px #fff,1085px 325px #fff,649px 1482px #fff,1585px 1845px #fff,1489px 389px #fff,1099px 1392px #fff,1226px 1536px #fff,1630px 96px #fff,662px 524px #fff,781px 1837px #fff,1603px 613px #fff,810px 449px #fff,909px 1259px #fff,261px 1737px #fff,1629px 177px #fff,1928px 1183px #fff,1025px 152px #fff,481px 835px #fff,1517px 1840px #fff,661px 122px #fff,1077px 15px #fff,1919px 662px #fff,1577px 457px #fff,29px 1024px #fff,242px 928px #fff,1204px 1641px #fff,296px 1787px #fff,52px 1532px #fff,142px 118px #fff,34px 507px #fff,461px 719px #fff,922px 1808px #fff,26px 103px #fff,494px 349px #fff,1046px 555px #fff,992px 1063px #fff,1754px 671px #fff,240px 1118px #fff,1148px 462px #fff,1167px 565px #fff,1742px 1640px #fff,41px 593px #fff,106px 446px #fff,1133px 963px #fff,634px 135px #fff,1245px 786px #fff,1456px 1657px #fff,1547px 1817px #fff,1292px 1598px #fff,1608px 1544px #fff,1980px 538px #fff,680px 317px #fff,1150px 1440px #fff,1351px 628px #fff,1018px 1217px #fff,847px 1882px #fff,300px 1409px #fff,1047px 1401px #fff,1474px 644px #fff,509px 194px #fff,1084px 697px #fff,547px 1717px #fff,1156px 1834px #fff,1573px 232px #fff,294px 1846px #fff,1979px 73px #fff,412px 759px #fff,1910px 936px #fff,717px 1134px #fff,1345px 1452px #fff,781px 863px #fff,1121px 1106px #fff,1994px 1118px #fff,1988px 148px #fff,886px 190px #fff,652px 1265px #fff,1952px 199px #fff,1965px 1032px #fff,1660px 1297px #fff,1885px 1516px #fff,1128px 718px #fff,1858px 264px #fff,652px 1782px #fff,435px 320px #fff,1678px 808px #fff,950px 328px #fff,572px 228px #fff,462px 1985px #fff,971px 728px #fff,317px 910px #fff,1565px 194px #fff,1888px 833px #fff,1474px 1791px #fff,532px 1493px #fff,1398px 385px #fff,1155px 560px #fff,1436px 1419px #fff,429px 1130px #fff,1129px 1853px #fff,538px 1149px #fff,294px 796px #fff,472px 1354px #fff,1747px 1532px #fff,1485px 1713px #fff,600px 1902px #fff,1910px 1893px #fff,1568px 1719px #fff,1467px 698px #fff,1750px 1634px #fff,439px 1103px #fff,993px 291px #fff,1960px 1307px #fff,1010px 1269px #fff,960px 620px #fff,519px 1507px #fff,334px 399px #fff,1712px 1055px #fff,954px 566px #fff,736px 1330px #fff,1052px 34px #fff,1624px 1790px #fff,329px 1296px #fff,1097px 745px #fff,685px 1499px #fff,1701px 917px #fff,464px 760px #fff,1250px 1737px #fff,1750px 1402px #fff,638px 1480px #fff,418px 1228px #fff,1263px 478px #fff,454px 1969px #fff,1173px 297px #fff,67px 1963px #fff,485px 72px #fff,952px 1951px #fff,963px 914px #fff,1955px 757px #fff,1063px 1454px #fff,1201px 277px #fff,1781px 234px #fff,847px 1540px #fff,474px 642px #fff,597px 1468px #fff,1388px 1392px #fff,1232px 199px #fff,1873px 1864px #fff,838px 729px #fff,1220px 442px #fff,621px 1469px #fff,438px 220px #fff,1649px 1911px #fff,1039px 277px #fff,1785px 702px #fff,397px 955px #fff,1829px 612px #fff,1538px 963px #fff,471px 940px #fff,1077px 437px #fff,282px 821px #fff,124px 430px #fff,449px 1328px #fff,134px 1370px #fff,131px 88px #fff,1949px 1273px #fff,725px 271px #fff,1930px 1437px #fff,459px 9px #fff,1953px 1616px #fff,1257px 845px #fff,368px 689px #fff,1153px 655px #fff,1667px 1943px #fff,1798px 8px #fff,790px 1902px #fff,1322px 654px #fff,1455px 1881px #fff,596px 1003px #fff,1253px 1777px #fff,982px 1208px #fff,1700px 783px #fff,1804px 549px #fff,1824px 814px #fff,1162px 180px #fff,1297px 940px #fff,1028px 574px #fff,1423px 433px #fff,1961px 1674px #fff,802px 484px #fff,1299px 517px #fff,372px 900px #fff,1730px 664px #fff,1048px 58px #fff,1234px 1475px #fff,1610px 255px #fff,316px 574px #fff,1267px 125px #fff,862px 587px #fff,1582px 1587px #fff,810px 1743px #fff,516px 1091px #fff,373px 709px #fff,248px 689px #fff,871px 1467px #fff,1837px 1013px #fff,971px 1328px #fff,1778px 377px #fff,499px 816px #fff,728px 1006px #fff,1162px 748px #fff,99px 1649px #fff,423px 32px #fff,1894px 300px #fff,439px 1809px #fff,166px 900px #fff,374px 1731px #fff,1104px 66px #fff,962px 1491px #fff,1546px 1464px #fff,1556px 1720px #fff,1875px 470px #fff,331px 517px #fff,157px 187px #fff,326px 421px #fff,1129px 335px #fff,304px 1878px #fff,198px 1611px #fff,983px 1098px #fff,1482px 1860px #fff,1123px 1114px #fff,2px 1395px #fff,1480px 275px #fff,1794px 1635px #fff,375px 1777px #fff,1245px 330px #fff,1738px 960px #fff,1228px 645px #fff,480px 834px #fff,111px 957px #fff,31px 1617px #fff,703px 1492px #fff,277px 673px #fff,839px 771px #fff,1146px 304px #fff,1039px 1662px #fff,1088px 1297px #fff,1985px 1540px #fff,1517px 1951px #fff,1200px 1829px #fff,242px 1548px #fff,428px 1680px #fff,176px 112px #fff,186px 756px #fff,775px 797px #fff,1379px 303px #fff,1883px 733px #fff,335px 1753px #fff,262px 1047px #fff,5px 1482px #fff,1130px 156px #fff,1366px 1195px #fff,41px 1399px #fff,1615px 1088px #fff,1950px 1282px #fff,1296px 315px #fff,884px 351px #fff,93px 457px #fff,898px 521px #fff,841px 696px #fff,636px 1067px #fff,448px 922px #fff,1370px 1716px #fff,1499px 804px #fff,294px 546px #fff,1513px 82px #fff,1912px 623px #fff,74px 1843px #fff,970px 569px #fff,819px 958px #fff,430px 1450px #fff,261px 832px #fff,1603px 22px #fff,752px 1870px #fff,760px 330px #fff,938px 1539px #fff,1624px 222px #fff,1678px 551px #fff,673px 1876px #fff,1634px 565px #fff,1463px 922px #fff,1061px 1738px #fff,1003px 1756px #fff,1161px 1985px #fff,602px 1843px #fff,1285px 317px #fff,1593px 1796px #fff,965px 324px #fff,1065px 1005px #fff,1250px 1149px #fff,931px 827px #fff,451px 626px #fff,1897px 1092px #fff,1862px 1578px #fff,297px 917px #fff,1233px 1605px #fff,89px 233px #fff,1666px 1619px #fff,584px 699px #fff,955px 1288px #fff,326px 1420px #fff,147px 1734px #fff,1476px 1813px #fff,160px 275px #fff,303px 1790px #fff,1507px 1240px #fff,532px 1190px #fff,1861px 1556px #fff,328px 1672px #fff,1803px 284px #fff,1526px 1107px #fff,1188px 563px #fff,1895px 1876px #fff,1847px 807px #fff,1882px 1771px #fff,675px 1345px #fff,59px 1143px #fff,917px 353px #fff,1363px 425px #fff,1021px 1838px #fff,1571px 305px #fff,1559px 429px #fff,1470px 1531px #fff,1141px 1791px #fff,619px 1969px #fff,243px 1783px #fff,1243px 1147px #fff,504px 1412px #fff,936px 1006px #fff,1845px 1819px #fff,22px 841px #fff,161px 957px #fff,691px 1163px #fff,1529px 849px #fff,1719px 301px #fff,925px 666px #fff,430px 210px #fff,1044px 1922px #fff,797px 229px #fff,1509px 300px #fff,1662px 800px #fff,1449px 289px #fff,850px 1748px #fff,1932px 640px #fff,1864px 1647px #fff,237px 709px #fff,100px 963px #fff,334px 819px #fff,63px 933px #fff,812px 1699px #fff,1985px 1305px #fff,520px 976px #fff,1370px 1963px #fff,175px 617px #fff,1310px 1707px #fff,863px 546px #fff,1259px 127px #fff,1334px 1259px #fff,200px 1740px #fff,1408px 190px #fff,845px 794px #fff,1071px 1052px #fff,830px 804px #fff,1260px 445px #fff,494px 1174px #fff,1583px 261px #fff,697px 1159px #fff,1336px 1910px #fff,1630px 1501px #fff,1083px 622px #fff,1625px 1982px #fff,1675px 882px #fff,858px 1116px #fff,487px 796px #fff,1682px 898px #fff,818px 868px #fff,821px 962px #fff,1183px 1898px #fff,66px 1323px #fff,1225px 626px #fff,1939px 1196px #fff,499px 1101px #fff,1718px 883px #fff,1482px 1508px #fff,1750px 1342px #fff,567px 1446px #fff,588px 439px #fff,432px 1885px #fff,481px 1787px #fff,473px 129px #fff,279px 1890px #fff,163px 141px #fff,1320px 1696px #fff,559px 1253px #fff,1573px 852px #fff,1481px 893px #fff,1634px 325px #fff,1733px 598px #fff,1282px 855px #fff,355px 862px #fff,1252px 392px #fff,61px 1091px #fff,720px 1639px #fff,1259px 1020px #fff,954px 1572px #fff,1699px 1603px #fff,236px 1045px #fff,1839px 366px #fff,1781px 1535px #fff,1142px 338px #fff,1491px 1703px #fff,1155px 1197px #fff,453px 558px #fff,1485px 1134px #fff,832px 339px #fff,601px 885px #fff,459px 1091px #fff,1058px 497px #fff,537px 718px #fff,1134px 105px #fff,1164px 1123px #fff,303px 1484px #fff,1684px 1695px #fff,1756px 538px #fff,1383px 1879px #fff,797px 646px #fff,422px 1718px #fff,401px 377px #fff,1159px 271px #fff,1564px 1398px #fff,244px 751px #fff,1026px 1062px #fff,186px 1572px #fff,580px 1637px #fff,1145px 732px #fff,829px 1033px #fff,3px 539px #fff,1966px 635px #fff,1243px 1959px #fff,1358px 763px #fff,1262px 759px #fff,1642px 1625px #fff,213px 668px #fff,788px 943px #fff,179px 394px #fff,1621px 848px #fff,1436px 886px #fff,1459px 238px #fff,956px 297px #fff,458px 1116px #fff,239px 1493px #fff,663px 1641px #fff,1834px 1316px #fff,1760px 1089px #fff,1918px 1275px #fff,928px 934px #fff,235px 1734px #fff,963px 582px #fff,1813px 1733px #fff,1023px 1558px #fff,275px 407px #fff,181px 505px #fff,821px 1146px #fff,1798px 29px #fff,1042px 1742px #fff,1160px 411px #fff,51px 55px #fff,534px 335px #fff,1804px 126px #fff,1620px 889px #fff,758px 190px #fff,579px 710px #fff,1447px 97px #fff,1709px 635px #fff,141px 419px #fff,855px 724px #fff,24px 330px #fff,1658px 1459px #fff,1917px 1630px #fff,1622px 1676px #fff,1786px 1058px #fff,161px 1781px #fff,630px 1333px #fff,1453px 46px #fff,984px 1332px #fff,559px 1155px #fff,946px 1879px #fff,1002px 686px #fff,1285px 758px #fff,594px 1641px #fff,1919px 1357px #fff,422px 1957px #fff,1858px 913px #fff,1571px 190px #fff,1095px 1336px #fff,1058px 51px #fff,1627px 1872px #fff,54px 1634px #fff,1052px 687px #fff,1867px 291px #fff,1312px 1976px #fff,1505px 195px #fff,55px 765px #fff,806px 1430px #fff,286px 310px #fff,355px 610px #fff,1361px 397px #fff,604px 1407px #fff,1531px 544px #fff,82px 1416px #fff,1129px 1676px #fff,1216px 1525px #fff,247px 865px #fff,1446px 1513px #fff,229px 137px #fff,1119px 414px #fff,1423px 747px #fff,1240px 1916px #fff,1843px 1355px #fff,1122px 1285px #fff,480px 359px #fff,485px 268px #fff,1709px 1130px #fff,1631px 1020px #fff,142px 1488px #fff,863px 1219px #fff,1357px 217px #fff,1381px 759px #fff,915px 568px #fff,148px 68px #fff,175px 681px #fff,1252px 943px #fff,1608px 1305px #fff,1058px 218px #fff,933px 197px #fff,229px 1654px #fff,1576px 670px #fff,1992px 448px #fff,662px 1077px #fff,626px 1477px #fff,360px 1600px #fff,632px 1044px #fff,210px 1091px #fff,1793px 1599px #fff,224px 1872px #fff,1711px 1869px #fff,1632px 365px #fff,1567px 749px #fff,1599px 1738px #fff,393px 591px #fff,1807px 1812px #fff,1380px 302px #fff,949px 1481px #fff,1614px 1921px #fff,1069px 1893px #fff,918px 283px #fff,1252px 762px #fff,619px 436px #fff,1736px 1526px #fff,435px 657px #fff,83px 1862px #fff,1707px 279px #fff,728px 977px #fff,1558px 447px #fff,1965px 745px #fff,1114px 1659px #fff,83px 378px #fff,1203px 1485px #fff,152px 1902px #fff,623px 26px #fff,1662px 400px #fff,880px 1276px #fff,44px 826px #fff,789px 920px #fff,1326px 1046px #fff,939px 1340px #fff,1208px 1812px #fff,1706px 913px #fff,714px 910px #fff,1648px 66px #fff,1906px 1790px #fff,1441px 318px #fff,1803px 1498px #fff,712px 1619px #fff,1233px 1517px #fff,298px 379px #fff,341px 60px #fff,979px 1439px #fff,902px 1272px #fff,1053px 792px #fff,1396px 1930px #fff,396px 1246px #fff,1952px 873px #fff,93px 415px #fff,1099px 776px #fff,1575px 433px #fff,313px 1386px #fff,137px 1956px #fff,224px 223px #fff,1728px 1184px #fff,1598px 69px #fff,1905px 522px #fff,332px 1129px #fff,478px 254px #fff,754px 1739px #fff,762px 566px #fff,1022px 1504px #fff,749px 311px #fff,1452px 187px #fff,1736px 1674px #fff,492px 1677px #fff,1148px 1117px #fff,1881px 1359px #fff,1384px 1053px #fff,380px 802px #fff,883px 135px #fff,403px 915px #fff,879px 1487px #fff,255px 219px #fff,1392px 1200px #fff,226px 179px #fff,1748px 953px #fff,1887px 1222px #fff,56px 452px #fff,1568px 1826px #fff,1722px 1077px #fff,1042px 465px #fff,272px 128px #fff,917px 211px #fff,1197px 1819px #fff,1848px 742px #fff,866px 384px #fff,460px 1917px #fff,112px 14px #fff,1687px 1559px #fff,260px 1666px #fff,726px 1297px #fff}#stars2[_ngcontent-%COMP%]{width:2px;height:2px;background:transparent;box-shadow:1372px 1858px #fff,1499px 604px #fff,909px 906px #fff,1107px 943px #fff,1697px 479px #fff,656px 385px #fff,966px 1628px #fff,194px 217px #fff,341px 1031px #fff,700px 1777px #fff,112px 318px #fff,1998px 230px #fff,1435px 1757px #fff,1699px 1605px #fff,117px 1083px #fff,1941px 1423px #fff,1240px 1688px #fff,557px 458px #fff,1669px 1628px #fff,542px 875px #fff,1530px 836px #fff,465px 120px #fff,667px 1189px #fff,568px 1177px #fff,908px 1474px #fff,1635px 622px #fff,1069px 1470px #fff,1350px 173px #fff,669px 1984px #fff,591px 823px #fff,974px 1499px #fff,1093px 357px #fff,1821px 944px #fff,981px 688px #fff,1490px 1669px #fff,1364px 1964px #fff,1625px 1841px #fff,231px 613px #fff,1166px 1383px #fff,667px 155px #fff,706px 1834px #fff,581px 469px #fff,1828px 1941px #fff,1538px 1059px #fff,1427px 1159px #fff,1491px 1546px #fff,890px 778px #fff,1813px 280px #fff,1012px 1992px #fff,143px 1095px #fff,1847px 1747px #fff,1927px 525px #fff,220px 128px #fff,513px 1035px #fff,176px 371px #fff,532px 1909px #fff,368px 1849px #fff,1613px 1211px #fff,1521px 163px #fff,1633px 1096px #fff,103px 1165px #fff,1742px 1162px #fff,1260px 439px #fff,413px 1383px #fff,1496px 1917px #fff,1345px 969px #fff,851px 48px #fff,1135px 40px #fff,422px 143px #fff,1368px 1642px #fff,1123px 51px #fff,987px 1620px #fff,20px 1804px #fff,1044px 1886px #fff,1299px 147px #fff,1936px 607px #fff,1344px 1086px #fff,1329px 968px #fff,802px 844px #fff,1413px 1822px #fff,759px 1544px #fff,515px 1359px #fff,1102px 1176px #fff,261px 88px #fff,1489px 1152px #fff,66px 1908px #fff,826px 154px #fff,628px 413px #fff,383px 1663px #fff,1924px 973px #fff,258px 1604px #fff,465px 62px #fff,1515px 187px #fff,637px 142px #fff,294px 156px #fff,1389px 824px #fff,560px 5px #fff,1261px 1708px #fff,1587px 1399px #fff,1401px 1996px #fff,1573px 973px #fff,451px 1563px #fff,1008px 163px #fff,1079px 459px #fff,408px 1577px #fff,1528px 1130px #fff,808px 803px #fff,649px 39px #fff,1833px 234px #fff,174px 329px #fff,867px 379px #fff,1304px 79px #fff,357px 369px #fff,1137px 1174px #fff,513px 1346px #fff,791px 1362px #fff,832px 383px #fff,125px 961px #fff,907px 1756px #fff,1786px 1519px #fff,1634px 90px #fff,320px 1377px #fff,1832px 1651px #fff,385px 1220px #fff,1372px 1073px #fff,1074px 1064px #fff,182px 587px #fff,354px 1887px #fff,66px 1193px #fff,1904px 1942px #fff,320px 394px #fff,754px 320px #fff,297px 1674px #fff,311px 428px #fff,1647px 996px #fff,1358px 1586px #fff,1350px 1564px #fff,695px 976px #fff,913px 808px #fff,57px 1973px #fff,1223px 1452px #fff,1225px 1618px #fff,617px 1602px #fff,844px 1849px #fff,58px 1067px #fff,47px 911px #fff,164px 826px #fff,1367px 1589px #fff,1306px 1008px #fff,798px 1606px #fff,1026px 1743px #fff,1425px 439px #fff,1428px 825px #fff,1301px 1114px #fff,208px 969px #fff,1324px 1166px #fff,1763px 1494px #fff,350px 356px #fff,844px 83px #fff,1814px 14px #fff,1436px 294px #fff,1225px 908px #fff,1105px 1257px #fff,271px 1897px #fff,940px 1516px #fff,52px 1557px #fff,1027px 730px #fff,639px 1712px #fff,408px 1949px #fff,1035px 1756px #fff,880px 577px #fff,224px 1132px #fff,1736px 243px #fff,889px 1120px #fff,1804px 1415px #fff,1762px 1036px #fff,532px 306px #fff,1870px 288px #fff,246px 434px #fff,1242px 454px #fff,861px 1172px #fff,1651px 1000px #fff,513px 1645px #fff,907px 195px #fff,1202px 769px #fff,710px 598px #fff,1672px 738px #fff,6px 294px #fff,1238px 613px #fff,632px 1227px #fff,194px 1551px #fff,1535px 1861px #fff,373px 1016px #fff,1138px 204px #fff,1262px 1505px #fff,1475px 724px #fff,732px 1992px #fff,1243px 164px #fff,25px 1914px #fff,1124px 930px #fff;animation:_ngcontent-%COMP%_animStar 100s linear infinite}#stars2[_ngcontent-%COMP%]:after{content:" ";position:absolute;top:2000px;width:2px;height:2px;background:transparent;box-shadow:1372px 1858px #fff,1499px 604px #fff,909px 906px #fff,1107px 943px #fff,1697px 479px #fff,656px 385px #fff,966px 1628px #fff,194px 217px #fff,341px 1031px #fff,700px 1777px #fff,112px 318px #fff,1998px 230px #fff,1435px 1757px #fff,1699px 1605px #fff,117px 1083px #fff,1941px 1423px #fff,1240px 1688px #fff,557px 458px #fff,1669px 1628px #fff,542px 875px #fff,1530px 836px #fff,465px 120px #fff,667px 1189px #fff,568px 1177px #fff,908px 1474px #fff,1635px 622px #fff,1069px 1470px #fff,1350px 173px #fff,669px 1984px #fff,591px 823px #fff,974px 1499px #fff,1093px 357px #fff,1821px 944px #fff,981px 688px #fff,1490px 1669px #fff,1364px 1964px #fff,1625px 1841px #fff,231px 613px #fff,1166px 1383px #fff,667px 155px #fff,706px 1834px #fff,581px 469px #fff,1828px 1941px #fff,1538px 1059px #fff,1427px 1159px #fff,1491px 1546px #fff,890px 778px #fff,1813px 280px #fff,1012px 1992px #fff,143px 1095px #fff,1847px 1747px #fff,1927px 525px #fff,220px 128px #fff,513px 1035px #fff,176px 371px #fff,532px 1909px #fff,368px 1849px #fff,1613px 1211px #fff,1521px 163px #fff,1633px 1096px #fff,103px 1165px #fff,1742px 1162px #fff,1260px 439px #fff,413px 1383px #fff,1496px 1917px #fff,1345px 969px #fff,851px 48px #fff,1135px 40px #fff,422px 143px #fff,1368px 1642px #fff,1123px 51px #fff,987px 1620px #fff,20px 1804px #fff,1044px 1886px #fff,1299px 147px #fff,1936px 607px #fff,1344px 1086px #fff,1329px 968px #fff,802px 844px #fff,1413px 1822px #fff,759px 1544px #fff,515px 1359px #fff,1102px 1176px #fff,261px 88px #fff,1489px 1152px #fff,66px 1908px #fff,826px 154px #fff,628px 413px #fff,383px 1663px #fff,1924px 973px #fff,258px 1604px #fff,465px 62px #fff,1515px 187px #fff,637px 142px #fff,294px 156px #fff,1389px 824px #fff,560px 5px #fff,1261px 1708px #fff,1587px 1399px #fff,1401px 1996px #fff,1573px 973px #fff,451px 1563px #fff,1008px 163px #fff,1079px 459px #fff,408px 1577px #fff,1528px 1130px #fff,808px 803px #fff,649px 39px #fff,1833px 234px #fff,174px 329px #fff,867px 379px #fff,1304px 79px #fff,357px 369px #fff,1137px 1174px #fff,513px 1346px #fff,791px 1362px #fff,832px 383px #fff,125px 961px #fff,907px 1756px #fff,1786px 1519px #fff,1634px 90px #fff,320px 1377px #fff,1832px 1651px #fff,385px 1220px #fff,1372px 1073px #fff,1074px 1064px #fff,182px 587px #fff,354px 1887px #fff,66px 1193px #fff,1904px 1942px #fff,320px 394px #fff,754px 320px #fff,297px 1674px #fff,311px 428px #fff,1647px 996px #fff,1358px 1586px #fff,1350px 1564px #fff,695px 976px #fff,913px 808px #fff,57px 1973px #fff,1223px 1452px #fff,1225px 1618px #fff,617px 1602px #fff,844px 1849px #fff,58px 1067px #fff,47px 911px #fff,164px 826px #fff,1367px 1589px #fff,1306px 1008px #fff,798px 1606px #fff,1026px 1743px #fff,1425px 439px #fff,1428px 825px #fff,1301px 1114px #fff,208px 969px #fff,1324px 1166px #fff,1763px 1494px #fff,350px 356px #fff,844px 83px #fff,1814px 14px #fff,1436px 294px #fff,1225px 908px #fff,1105px 1257px #fff,271px 1897px #fff,940px 1516px #fff,52px 1557px #fff,1027px 730px #fff,639px 1712px #fff,408px 1949px #fff,1035px 1756px #fff,880px 577px #fff,224px 1132px #fff,1736px 243px #fff,889px 1120px #fff,1804px 1415px #fff,1762px 1036px #fff,532px 306px #fff,1870px 288px #fff,246px 434px #fff,1242px 454px #fff,861px 1172px #fff,1651px 1000px #fff,513px 1645px #fff,907px 195px #fff,1202px 769px #fff,710px 598px #fff,1672px 738px #fff,6px 294px #fff,1238px 613px #fff,632px 1227px #fff,194px 1551px #fff,1535px 1861px #fff,373px 1016px #fff,1138px 204px #fff,1262px 1505px #fff,1475px 724px #fff,732px 1992px #fff,1243px 164px #fff,25px 1914px #fff,1124px 930px #fff}#stars3[_ngcontent-%COMP%]{width:3px;height:3px;background:transparent;box-shadow:736px 705px #fff,1657px 1848px #fff,316px 1036px #fff,1706px 293px #fff,1631px 473px #fff,1951px 211px #fff,403px 199px #fff,1984px 862px #fff,1559px 400px #fff,509px 591px #fff,963px 471px #fff,1440px 1345px #fff,240px 706px #fff,1902px 982px #fff,498px 1px #fff,671px 596px #fff,1894px 442px #fff,121px 379px #fff,1907px 1449px #fff,385px 588px #fff,490px 142px #fff,749px 1705px #fff,678px 1824px #fff,1376px 788px #fff,1651px 86px #fff,1832px 641px #fff,1708px 1803px #fff,571px 1994px #fff,1116px 415px #fff,509px 718px #fff,1435px 922px #fff,1668px 404px #fff,1907px 793px #fff,755px 1413px #fff,1630px 1873px #fff,469px 821px #fff,1874px 155px #fff,758px 494px #fff,1889px 1681px #fff,177px 1123px #fff,180px 1945px #fff,1477px 1195px #fff,450px 865px #fff,1774px 750px #fff,994px 1387px #fff,1781px 1268px #fff,1810px 1103px #fff,1516px 1055px #fff,1643px 1585px #fff,382px 746px #fff,443px 574px #fff,723px 215px #fff,1849px 954px #fff,265px 803px #fff,751px 649px #fff,351px 617px #fff,548px 1501px #fff,1197px 1988px #fff,395px 1177px #fff,407px 536px #fff,1548px 511px #fff,297px 1394px #fff,1369px 1102px #fff,617px 687px #fff,590px 810px #fff,1170px 1860px #fff,1598px 1653px #fff,856px 384px #fff,1283px 226px #fff,1602px 382px #fff,1311px 1641px #fff,1662px 622px #fff,1282px 1230px #fff,1122px 710px #fff,201px 494px #fff,318px 606px #fff,730px 410px #fff,1433px 1675px #fff,1894px 1358px #fff,1155px 296px #fff,490px 140px #fff,66px 1536px #fff,762px 1502px #fff,1258px 562px #fff,431px 1228px #fff,1978px 1257px #fff,541px 1138px #fff,947px 662px #fff,454px 1170px #fff,396px 1075px #fff,1793px 949px #fff,1173px 1361px #fff,1264px 430px #fff,1904px 1544px #fff,1301px 1395px #fff,193px 220px #fff,1973px 1756px #fff,730px 1902px #fff,1838px 1066px #fff,72px 131px #fff;animation:_ngcontent-%COMP%_animStar 150s linear infinite}#stars3[_ngcontent-%COMP%]:after{content:" ";position:absolute;top:2000px;width:3px;height:3px;background:transparent;box-shadow:736px 705px #fff,1657px 1848px #fff,316px 1036px #fff,1706px 293px #fff,1631px 473px #fff,1951px 211px #fff,403px 199px #fff,1984px 862px #fff,1559px 400px #fff,509px 591px #fff,963px 471px #fff,1440px 1345px #fff,240px 706px #fff,1902px 982px #fff,498px 1px #fff,671px 596px #fff,1894px 442px #fff,121px 379px #fff,1907px 1449px #fff,385px 588px #fff,490px 142px #fff,749px 1705px #fff,678px 1824px #fff,1376px 788px #fff,1651px 86px #fff,1832px 641px #fff,1708px 1803px #fff,571px 1994px #fff,1116px 415px #fff,509px 718px #fff,1435px 922px #fff,1668px 404px #fff,1907px 793px #fff,755px 1413px #fff,1630px 1873px #fff,469px 821px #fff,1874px 155px #fff,758px 494px #fff,1889px 1681px #fff,177px 1123px #fff,180px 1945px #fff,1477px 1195px #fff,450px 865px #fff,1774px 750px #fff,994px 1387px #fff,1781px 1268px #fff,1810px 1103px #fff,1516px 1055px #fff,1643px 1585px #fff,382px 746px #fff,443px 574px #fff,723px 215px #fff,1849px 954px #fff,265px 803px #fff,751px 649px #fff,351px 617px #fff,548px 1501px #fff,1197px 1988px #fff,395px 1177px #fff,407px 536px #fff,1548px 511px #fff,297px 1394px #fff,1369px 1102px #fff,617px 687px #fff,590px 810px #fff,1170px 1860px #fff,1598px 1653px #fff,856px 384px #fff,1283px 226px #fff,1602px 382px #fff,1311px 1641px #fff,1662px 622px #fff,1282px 1230px #fff,1122px 710px #fff,201px 494px #fff,318px 606px #fff,730px 410px #fff,1433px 1675px #fff,1894px 1358px #fff,1155px 296px #fff,490px 140px #fff,66px 1536px #fff,762px 1502px #fff,1258px 562px #fff,431px 1228px #fff,1978px 1257px #fff,541px 1138px #fff,947px 662px #fff,454px 1170px #fff,396px 1075px #fff,1793px 949px #fff,1173px 1361px #fff,1264px 430px #fff,1904px 1544px #fff,1301px 1395px #fff,193px 220px #fff,1973px 1756px #fff,730px 1902px #fff,1838px 1066px #fff,72px 131px #fff}#title[_ngcontent-%COMP%]{position:absolute;top:50%;left:0;right:0;color:#fff;text-align:center;font-family:lato,sans-serif;font-weight:300;font-size:50px;letter-spacing:10px;margin-top:-60px;padding-left:10px}#title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:-webkit-linear-gradient(white,#38495a);-webkit-background-clip:text;-webkit-text-fill-color:transparent}@keyframes _ngcontent-%COMP%_animStar{0%{transform:translateY(0)}to{transform:translateY(-2000px)}}']})}class Ly{constructor(e,t){this.fire=e,this.router=t,this.loginForm=new N2({login:new Or("",[pi.required,pi.email]),password:new Or("",[pi.required])})}submitForm(){if(this.loginForm.valid){let e=this.loginForm.get("login").value,t=this.loginForm.get("password").value;this.fire.registerUser(e,t),this.router.navigate(["tourlist"]),this.loginForm.reset()}else alert("form not valid")}static#e=this.\u0275fac=function(t){return new(t||Ly)(a.Y36(Wr),a.Y36(Bn))};static#t=this.\u0275cmp=a.Xpm({type:Ly,selectors:[["app-register"]],decls:10,vars:1,consts:[[1,"form-container"],[3,"formGroup"],[1,"left-right"],["id","name","type","text","formControlName","login","placeholder","Email"],["id","password","type","password","formControlName","password","placeholder","Password"],["type","submit",1,"button-accent",3,"click"]],template:function(t,i){1&t&&(a.TgZ(0,"div",0)(1,"h2"),a._uU(2,"Zarejstruj si\u0119"),a.qZA(),a.TgZ(3,"form",1)(4,"div",2),a._UZ(5,"input",3),a.qZA(),a.TgZ(6,"div",2),a._UZ(7,"input",4),a.qZA()(),a.TgZ(8,"button",5),a.NdJ("click",function(){return i.submitForm()}),a._uU(9,"Zarejstruj"),a.qZA()()),2&t&&(a.xp6(3),a.Q6J("formGroup",i.loginForm))},dependencies:[h3,z2,o3,md,ia,m3],styles:[".form-container[_ngcontent-%COMP%]{border:solid 2px black;position:relative;transform:translate(-50%);left:50%;width:80%;top:20%;display:flex;justify-content:center;align-items:center;flex-direction:column;gap:10px;background-color:#823127;border-radius:5px;color:#fff}label[_ngcontent-%COMP%]{text-align:left}h2[_ngcontent-%COMP%]{font-size:2rem}input[_ngcontent-%COMP%]{font-size:1.4rem}button[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:10px}form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin:10px}"]})}class dh{constructor(){this.state$=new Qn(null)}static#e=this.\u0275fac=function(t){return new(t||dh)};static#t=this.\u0275prov=a.Yz7({token:dh,factory:dh.\u0275fac,providedIn:"root"})}class hh{constructor(){this.databaseShare=new a.vpe}static#e=this.\u0275fac=function(t){return new(t||hh)};static#t=this.\u0275prov=a.Yz7({token:hh,factory:hh.\u0275fac,providedIn:"root"})}class ph{constructor(){this.state$=new Qn(null)}static#e=this.\u0275fac=function(t){return new(t||ph)};static#t=this.\u0275prov=a.Yz7({token:ph,factory:ph.\u0275fac,providedIn:"root"})}try{ZD=typeof Intl<"u"&&Intl.v8BreakIterator}catch{ZD=!1}let mh,Cr=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function xf(n){return n===gl}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!ZD)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.Lbi))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const hR=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function pR(){if(mh)return mh;if("object"!=typeof document||!document)return mh=new Set(hR),mh;let n=document.createElement("input");return mh=new Set(hR.filter(e=>(n.setAttribute("type",e),n.type===e))),mh}let f7,$6,KD;function d7(n){return function mte(){if(null==f7&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>f7=!0}))}finally{f7=f7||!1}return f7}()?n:!!n.capture}function gte(){if(null==$6){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return $6=!1,$6;if("scrollBehavior"in document.documentElement.style)$6=!0;else{const n=Element.prototype.scrollTo;$6=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return $6}function mR(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function G6(n){return n.composedPath?n.composedPath()[0]:n.target}function QD(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Ny(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function gR(n){return es((e,t)=>n<=t)}function _R(n,e=Qs.y){return n=n??Ste,(0,vn.e)((t,i)=>{let r,s=!0;t.subscribe((0,V.x)(i,l=>{const f=e(l);(s||!n(r,f))&&(s=!1,r=f,i.next(l))}))})}function Ste(n,e){return n===e}var vR=O(5032);function ao(n){return(0,vn.e)((e,t)=>{(0,Ut.Xf)(n).subscribe((0,V.x)(t,()=>t.complete(),vR.Z)),!t.closed&&e.subscribe(t)})}function fr(n){return null!=n&&"false"!=`${n}`}function m7(n,e=0){return function Ete(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function Ry(n){return Array.isArray(n)?n:[n]}function wr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function rl(n){return n instanceof a.SBq?n.nativeElement:n}var Py=O(4986);function yR(n,e=Py.z){return(0,vn.e)((t,i)=>{let r=null,s=null,l=null;const f=()=>{if(r){r.unsubscribe(),r=null;const _=s;s=null,i.next(_)}};function p(){const _=l+n,x=e.now();if(x<_)return r=this.schedule(void 0,_-x),void i.add(r);f()}t.subscribe((0,V.x)(i,_=>{s=_,l=e.now(),r||(r=e.schedule(p,n),i.add(r))},()=>{f(),i.complete()},void 0,()=>{s=r=null}))})}let xR=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Tte=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=rl(t);return new hi.y(r=>{const l=this._observeElement(i).subscribe(r);return()=>{l.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new Qt.x,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(xR))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ite=(()=>{class n{constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new a.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=fr(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=m7(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(yR(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Tte),a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),bR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[xR]}),n})();const CR=new Set;let xh,Ate=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Lte}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function Vte(n){if(!CR.has(n))try{xh||(xh=document.createElement("style"),xh.setAttribute("type","text/css"),document.head.appendChild(xh)),xh.sheet&&(xh.sheet.insertRule(`@media ${n} {body{ }}`,0),CR.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Cr))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Lte(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let kte=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new Qt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return wR(Ry(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let s=ie(wR(Ry(t)).map(l=>this._registerQuery(l).observable));return s=gt(s.pipe(Rr(1)),s.pipe(gR(1),yR(0))),s.pipe((0,ut.U)(l=>{const f={matches:!1,breakpoints:{}};return l.forEach(({matches:p,query:_})=>{f.matches=f.matches||p,f.breakpoints[_]=p}),f}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),s={observable:new hi.y(l=>{const f=p=>this._zone.run(()=>l.next(p));return i.addListener(f),()=>{i.removeListener(f)}}).pipe(Nl(i),(0,ut.U)(({matches:l})=>({query:t,matches:l})),ao(this._destroySubject)),mql:i};return this._queries.set(t,s),s}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Ate),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function wR(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function Oy(n,e){return(n.getAttribute(e)||"").match(/\S+/g)||[]}const SR="cdk-describedby-message",Fy="cdk-describedby-host";let tT=0,Nte=(()=>{class n{constructor(t,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+tT++,this._document=t,this._id=(0,a.f3M)(a.AFp)+"-"+tT++}describe(t,i,r){if(!this._canBeDescribed(t,i))return;const s=nT(i,r);"string"!=typeof i?(ER(i,this._id),this._messageRegistry.set(s,{messageElement:i,referenceCount:0})):this._messageRegistry.has(s)||this._createMessageElement(i,r),this._isElementDescribedByMessage(t,s)||this._addMessageReference(t,s)}removeDescription(t,i,r){if(!i||!this._isElementNode(t))return;const s=nT(i,r);if(this._isElementDescribedByMessage(t,s)&&this._removeMessageReference(t,s),"string"==typeof i){const l=this._messageRegistry.get(s);l&&0===l.referenceCount&&this._deleteMessageElement(s)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const t=this._document.querySelectorAll(`[${Fy}="${this._id}"]`);for(let i=0;i<t.length;i++)this._removeCdkDescribedByReferenceIds(t[i]),t[i].removeAttribute(Fy);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(t,i){const r=this._document.createElement("div");ER(r,this._id),r.textContent=t,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(nT(t,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(t){this._messageRegistry.get(t)?.messageElement?.remove(),this._messageRegistry.delete(t)}_createMessagesContainer(){if(this._messagesContainer)return;const t="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${t}[platform="server"]`);for(let s=0;s<i.length;s++)i[s].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(t),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(t){const i=Oy(t,"aria-describedby").filter(r=>0!=r.indexOf(SR));t.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(t,i){const r=this._messageRegistry.get(i);(function Hte(n,e,t){const i=Oy(n,e);i.some(r=>r.trim()==t.trim())||(i.push(t.trim()),n.setAttribute(e,i.join(" ")))})(t,"aria-describedby",r.messageElement.id),t.setAttribute(Fy,this._id),r.referenceCount++}_removeMessageReference(t,i){const r=this._messageRegistry.get(i);r.referenceCount--,function zte(n,e,t){const r=Oy(n,e).filter(s=>s!=t.trim());r.length?n.setAttribute(e,r.join(" ")):n.removeAttribute(e)}(t,"aria-describedby",r.messageElement.id),t.removeAttribute(Fy)}_isElementDescribedByMessage(t,i){const r=Oy(t,"aria-describedby"),s=this._messageRegistry.get(i),l=s&&s.messageElement.id;return!!l&&-1!=r.indexOf(l)}_canBeDescribed(t,i){if(!this._isElementNode(t))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),s=t.getAttribute("aria-label");return!(!r||s&&s.trim()===r)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ce),a.LFG(Cr))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function nT(n,e){return"string"==typeof n?`${e||""}/${n}`:n}function ER(n,e){n.id||(n.id=`${SR}-${e}-${tT++}`)}let Rte=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function Ote(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function Pte(n){try{return n.frameElement}catch{return null}}(function qte(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===TR(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),s=TR(t);return t.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function Gte(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function Wte(n){return!function Bte(n){return function jte(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function Fte(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function Ute(n){return function $te(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||DR(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Cr))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function DR(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function TR(n){if(!DR(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class Yte{constructor(e,t,i,r,s=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Rr(1)).subscribe(e)}}let Zte=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new Yte(t,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Rte),a.LFG(a.R0b),a.LFG(ce))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Kte=(()=>{class n{constructor(t,i,r){this._elementRef=t,this._focusTrapFactory=i,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(t){this.focusTrap.enabled=fr(t)}get autoCapture(){return this._autoCapture}set autoCapture(t){this._autoCapture=fr(t)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(t){const i=t.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=mR(),this.focusTrap.focusInitialElementWhenReady()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(Zte),a.Y36(ce))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[a.TTD]}),n})();function IR(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function AR(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const Qte=new a.OlP("cdk-input-modality-detector-options"),Xte={ignoreKeys:[18,17,224,91,16]},bh=d7({passive:!0,capture:!0});let Jte=(()=>{class n{constructor(t,i,r,s){this._platform=t,this._mostRecentTarget=null,this._modality=new Qn(null),this._lastTouchMs=0,this._onKeydown=l=>{this._options?.ignoreKeys?.some(f=>f===l.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=G6(l))},this._onMousedown=l=>{Date.now()-this._lastTouchMs<650||(this._modality.next(IR(l)?"keyboard":"mouse"),this._mostRecentTarget=G6(l))},this._onTouchstart=l=>{AR(l)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=G6(l))},this._options={...Xte,...s},this.modalityDetected=this._modality.pipe(gR(1)),this.modalityChanged=this.modalityDetected.pipe(_R()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,bh),r.addEventListener("mousedown",this._onMousedown,bh),r.addEventListener("touchstart",this._onTouchstart,bh)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,bh),document.removeEventListener("mousedown",this._onMousedown,bh),document.removeEventListener("touchstart",this._onTouchstart,bh))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Cr),a.LFG(a.R0b),a.LFG(ce),a.LFG(Qte,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const tne=new a.OlP("cdk-focus-monitor-default-options"),By=d7({passive:!0,capture:!0});let iT=(()=>{class n{constructor(t,i,r,s,l){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Qt.x,this._rootNodeFocusAndBlurListener=f=>{for(let _=G6(f);_;_=_.parentElement)"focus"===f.type?this._onFocus(f,_):this._onBlur(f,_)},this._document=s,this._detectionMode=l?.detectionMode||0}monitor(t,i=!1){const r=rl(t);if(!this._platform.isBrowser||1!==r.nodeType)return Qe(null);const s=function vte(n){if(function _te(){if(null==KD){const n=typeof document<"u"?document.head:null;KD=!(!n||!n.createShadowRoot&&!n.attachShadow)}return KD}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),l=this._elementInfo.get(r);if(l)return i&&(l.checkChildren=!0),l.subject;const f={checkChildren:i,subject:new Qt.x,rootNode:s};return this._elementInfo.set(r,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(t){const i=rl(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const s=rl(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([f,p])=>this._originChanged(f,i,p)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),s=G6(t);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,By),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,By)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ao(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,By),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,By),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,s)=>{(s===t||r.checkChildren&&s.contains(t))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const s=t.labels;if(s)for(let l=0;l<s.length;l++)if(s[l].contains(i))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.R0b),a.LFG(Cr),a.LFG(Jte),a.LFG(ce,8),a.LFG(tne,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),LR=(()=>{class n{constructor(t,i){this._elementRef=t,this._focusMonitor=i,this._focusOrigin=null,this.cdkFocusChange=new a.vpe}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const t=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(t,1===t.nodeType&&t.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>{this._focusOrigin=i,this.cdkFocusChange.emit(i)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(iT))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]}),n})();const kR="cdk-high-contrast-black-on-white",HR="cdk-high-contrast-white-on-black",rT="cdk-high-contrast-active";let zR=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=(0,a.f3M)(kte).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(rT,kR,HR),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(rT,kR):2===i&&t.add(rT,HR)}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Cr),a.LFG(ce))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),NR=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(zR))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[bR]}),n})();var nne=O(1144);const ine=["addListener","removeListener"],rne=["addEventListener","removeEventListener"],sne=["on","off"];function Uy(n,e,t,i){if((0,wn.m)(t)&&(i=t,t=void 0),i)return Uy(n,e,t).pipe(E(i));const[r,s]=function cne(n){return(0,wn.m)(n.addEventListener)&&(0,wn.m)(n.removeEventListener)}(n)?rne.map(l=>f=>n[l](e,f,t)):function one(n){return(0,wn.m)(n.addListener)&&(0,wn.m)(n.removeListener)}(n)?ine.map(RR(n,e)):function ane(n){return(0,wn.m)(n.on)&&(0,wn.m)(n.off)}(n)?sne.map(RR(n,e)):[];if(!r&&(0,nne.z)(n))return(0,ir.z)(l=>Uy(l,e,t))((0,Ut.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new hi.y(l=>{const f=(...p)=>l.next(1<p.length?p:p[0]);return r(f),()=>s(f)})}function RR(n,e){return t=>i=>n[t](e,i)}var PR=O(4408);const g7={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=g7;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(s=>{t=void 0,n(s)});return new Gn.w0(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=g7;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=g7;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var OR=O(7565);new class une extends OR.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class lne extends PR.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=g7.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(g7.cancelAnimationFrame(t),e._scheduled=void 0)}});let sT,dne=1;const jy={};function FR(n){return n in jy&&(delete jy[n],!0)}const hne={setImmediate(n){const e=dne++;return jy[e]=!0,sT||(sT=Promise.resolve()),sT.then(()=>FR(e)&&n()),e},clearImmediate(n){FR(n)}},{setImmediate:pne,clearImmediate:mne}=hne,$y={setImmediate(...n){const{delegate:e}=$y;return(e?.setImmediate||pne)(...n)},clearImmediate(n){const{delegate:e}=$y;return(e?.clearImmediate||mne)(n)},delegate:void 0};new class _ne extends OR.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class gne extends PR.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=$y.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&($y.clearImmediate(t),e._scheduled=void 0)}});var xne=O(3532);function oT(n,e=Py.z){return function yne(n){return(0,vn.e)((e,t)=>{let i=!1,r=null,s=null,l=!1;const f=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const _=r;r=null,t.next(_)}l&&t.complete()},p=()=>{s=null,l&&t.complete()};e.subscribe((0,V.x)(t,_=>{i=!0,r=_,s||(0,Ut.Xf)(n(_)).subscribe(s=(0,V.x)(t,f,p))},()=>{l=!0,(!i||!s||s.closed)&&t.complete()}))})}(()=>function Cne(n=0,e,t=Py.P){let i=-1;return null!=e&&((0,xne.K)(e)?t=e:i=e),new hi.y(r=>{let s=function bne(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let l=0;return t.schedule(function(){r.closed||(r.next(l++),0<=i?this.schedule(void 0,i):r.complete())},s)})}(n,e))}const wne=new a.OlP("cdk-dir-doc",{providedIn:"root",factory:function Mne(){return(0,a.f3M)(ce)}}),Sne=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let X3=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new a.vpe,t){const r=t.documentElement?t.documentElement.dir:null;this.value=function Ene(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?Sne.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(wne,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),BR=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new Qt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new hi.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(oT(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Qe()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(es(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,t)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=rl(i),s=t.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Uy(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.R0b),a.LFG(Cr),a.LFG(ce,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),UR=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new Qt.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,s=r.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(oT(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Cr),a.LFG(a.R0b),a.LFG(ce,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Gy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),jR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[_7,Gy,_7,Gy]}),n})();class aT{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Wy extends aT{constructor(e,t,i,r,s){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=s}}class Ine extends aT{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class Ane extends aT{constructor(e){super(),this.element=e instanceof a.SBq?e.nativeElement:e}}class $R{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof Wy?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof Ine?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof Ane?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Vne extends $R{constructor(e,t,i,r,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=l=>{const f=l.element,p=this._document.createComment("dom-portal");f.parentNode.insertBefore(p,f),this.outletElement.appendChild(f),this._attachedPortal=l,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(f,p)})},this._document=s}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||a.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let GR=(()=>{class n extends $R{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new a.vpe,this.attachDomPortal=s=>{const l=s.element,f=this._document.createComment("dom-portal");s.setAttachedHost(this),l.parentNode.insertBefore(f,l),this._getRootNode().appendChild(l),this._attachedPortal=s,super.setDisposeFn(()=>{f.parentNode&&f.parentNode.replaceChild(l,f)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),l=i.createComponent(s,i.length,t.injector||i.injector,t.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(l.hostView.rootNodes[0]),super.setDisposeFn(()=>l.destroy()),this._attachedPortal=t,this._attachedRef=l,this.attached.emit(l),l}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a._Vd),a.Y36(a.s_b),a.Y36(ce))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[a.qOj]}),n})(),WR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const qR=gte();class Lne{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=wr(-this._previousScrollPosition.left),e.style.top=wr(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,s=i.scrollBehavior||"",l=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),qR&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),qR&&(i.scrollBehavior=s,r.scrollBehavior=l)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class kne{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class YR{enable(){}disable(){}attach(){}}function cT(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function ZR(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class Hne{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();cT(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let zne=(()=>{class n{constructor(t,i,r,s){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new YR,this.close=l=>new kne(this._scrollDispatcher,this._ngZone,this._viewportRuler,l),this.block=()=>new Lne(this._viewportRuler,this._document),this.reposition=l=>new Hne(this._scrollDispatcher,this._viewportRuler,this._ngZone,l),this._document=s}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(BR),a.LFG(UR),a.LFG(a.R0b),a.LFG(ce))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class KR{constructor(e){if(this.scrollStrategy=new YR,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class Nne{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let QR=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ce))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Rne=(()=>{class n extends QR{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let l=s.length-1;l>-1;l--)if(s[l]._keydownEvents.observers.length>0){const f=s[l]._keydownEvents;this._ngZone?this._ngZone.run(()=>f.next(r)):f.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ce),a.LFG(a.R0b,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Pne=(()=>{class n extends QR{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=G6(s)},this._clickListener=s=>{const l=G6(s),f="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:l;this._pointerDownEventTarget=null;const p=this._attachedOverlays.slice();for(let _=p.length-1;_>-1;_--){const x=p[_];if(x._outsidePointerEvents.observers.length<1||!x.hasAttached())continue;if(x.overlayElement.contains(l)||x.overlayElement.contains(f))break;const M=x._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>M.next(s)):M.next(s)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ce),a.LFG(Cr),a.LFG(a.R0b,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),XR=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||QD()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(t),QD()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ce),a.LFG(Cr))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class One{constructor(e,t,i,r,s,l,f,p,_,x=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=l,this._document=f,this._location=p,this._outsideClickDispatcher=_,this._animationsDisabled=x,this._backdropElement=null,this._backdropClick=new Qt.x,this._attachments=new Qt.x,this._detachments=new Qt.x,this._locationChanges=Gn.w0.EMPTY,this._backdropClickHandler=M=>this._backdropClick.next(M),this._backdropTransitionendHandler=M=>{this._disposeBackdrop(M.target)},this._keydownEvents=new Qt.x,this._outsidePointerEvents=new Qt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Rr(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=wr(this._config.width),e.height=wr(this._config.height),e.minWidth=wr(this._config.minWidth),e.minHeight=wr(this._config.minHeight),e.maxWidth=wr(this._config.maxWidth),e.maxHeight=wr(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=Ry(t||[]).filter(s=>!!s);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(ao((0,il.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const JR="cdk-overlay-connected-position-bounding-box",Fne=/([A-Za-z%]+)$/;class eP{constructor(e,t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Qt.x,this._resizeSubscription=Gn.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(JR),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let l;for(let f of this._preferredPositions){let p=this._getOriginPoint(e,r,f),_=this._getOverlayPoint(p,t,f),x=this._getOverlayFit(_,t,i,f);if(x.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,p);this._canFitWithFlexibleDimensions(x,_,i)?s.push({position:f,origin:p,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(p,f)}):(!l||l.overlayFit.visibleArea<x.visibleArea)&&(l={overlayFit:x,overlayPoint:_,originPoint:p,position:f,overlayRect:t})}if(s.length){let f=null,p=-1;for(const _ of s){const x=_.boundingBoxRect.width*_.boundingBoxRect.height*(_.position.weight||1);x>p&&(p=x,f=_)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(l.position,l.originPoint);this._applyPosition(l.position,l.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&W6(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(JR),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,s;if("center"==i.originX)r=e.left+e.width/2;else{const l=this._isRtl()?e.right:e.left,f=this._isRtl()?e.left:e.right;r="start"==i.originX?l:f}return t.left<0&&(r-=t.left),s="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:r,y:s}}_getOverlayPoint(e,t,i){let r,s;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+s}}_getOverlayFit(e,t,i,r){const s=nP(t);let{x:l,y:f}=e,p=this._getOffset(r,"x"),_=this._getOffset(r,"y");p&&(l+=p),_&&(f+=_);let I=0-f,H=f+s.height-i.height,P=this._subtractOverflows(s.width,0-l,l+s.width-i.width),q=this._subtractOverflows(s.height,I,H),se=P*q;return{visibleArea:se,isCompletelyWithinViewport:s.width*s.height===se,fitsInViewportVertically:q===s.height,fitsInViewportHorizontally:P==s.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,s=i.right-t.x,l=tP(this._overlayRef.getConfig().minHeight),f=tP(this._overlayRef.getConfig().minWidth),_=e.fitsInViewportHorizontally||null!=f&&f<=s;return(e.fitsInViewportVertically||null!=l&&l<=r)&&_}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=nP(t),s=this._viewportRect,l=Math.max(e.x+r.width-s.width,0),f=Math.max(e.y+r.height-s.height,0),p=Math.max(s.top-i.top-e.y,0),_=Math.max(s.left-i.left-e.x,0);let x=0,M=0;return x=r.width<=s.width?_||-l:e.x<this._viewportMargin?s.left-i.left-e.x:0,M=r.height<=s.height?p||-f:e.y<this._viewportMargin?s.top-i.top-e.y:0,this._previousPushAmount={x,y:M},{x:e.x+x,y:e.y+M}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new Nne(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let s,l,f,x,M,I;if("top"===t.overlayY)l=e.y,s=i.height-l+this._viewportMargin;else if("bottom"===t.overlayY)f=i.height-e.y+2*this._viewportMargin,s=i.height-f+this._viewportMargin;else{const H=Math.min(i.bottom-e.y+i.top,e.y),P=this._lastBoundingBoxSize.height;s=2*H,l=e.y-H,s>P&&!this._isInitialRender&&!this._growAfterOpen&&(l=e.y-P/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)I=i.width-e.x+this._viewportMargin,x=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)M=e.x,x=i.right-e.x;else{const H=Math.min(i.right-e.x+i.left,e.x),P=this._lastBoundingBoxSize.width;x=2*H,M=e.x-H,x>P&&!this._isInitialRender&&!this._growAfterOpen&&(M=e.x-P/2)}return{top:l,left:M,bottom:f,right:I,width:x,height:s}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,l=this._overlayRef.getConfig().maxWidth;r.height=wr(i.height),r.top=wr(i.top),r.bottom=wr(i.bottom),r.width=wr(i.width),r.left=wr(i.left),r.right=wr(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=wr(s)),l&&(r.maxWidth=wr(l))}this._lastBoundingBoxSize=i,W6(this._boundingBox.style,r)}_resetBoundingBoxStyles(){W6(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){W6(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,l=this._overlayRef.getConfig();if(r){const x=this._viewportRuler.getViewportScrollPosition();W6(i,this._getExactOverlayY(t,e,x)),W6(i,this._getExactOverlayX(t,e,x))}else i.position="static";let f="",p=this._getOffset(t,"x"),_=this._getOffset(t,"y");p&&(f+=`translateX(${p}px) `),_&&(f+=`translateY(${_}px)`),i.transform=f.trim(),l.maxHeight&&(r?i.maxHeight=wr(l.maxHeight):s&&(i.maxHeight="")),l.maxWidth&&(r?i.maxWidth=wr(l.maxWidth):s&&(i.maxWidth="")),W6(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=wr(s.y),r}_getExactOverlayX(e,t,i){let l,r={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),l=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===l?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=wr(s.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:ZR(e,i),isOriginOutsideView:cT(e,i),isOverlayClipped:ZR(t,i),isOverlayOutsideView:cT(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?e.offsetX??this._offsetX:e.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Ry(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof a.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function W6(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function tP(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(Fne);return t&&"px"!==t?null:parseFloat(e)}return n||null}function nP(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const iP="cdk-global-overlay-wrapper";class Bne{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(iP),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:l,maxHeight:f}=i,p=!("100%"!==r&&"100vw"!==r||l&&"100%"!==l&&"100vw"!==l),_=!("100%"!==s&&"100vh"!==s||f&&"100%"!==f&&"100vh"!==f),x=this._xPosition,M=this._xOffset,I="rtl"===this._overlayRef.getConfig().direction;let H="",P="",q="";p?q="flex-start":"center"===x?(q="center",I?P=M:H=M):I?"left"===x||"end"===x?(q="flex-end",H=M):("right"===x||"start"===x)&&(q="flex-start",P=M):"left"===x||"start"===x?(q="flex-start",H=M):("right"===x||"end"===x)&&(q="flex-end",P=M),e.position=this._cssPosition,e.marginLeft=p?"0":H,e.marginTop=_?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=p?"0":P,t.justifyContent=q,t.alignItems=_?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(iP),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let Une=(()=>{class n{constructor(t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new Bne}flexibleConnectedTo(t){return new eP(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(UR),a.LFG(ce),a.LFG(Cr),a.LFG(XR))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jne=0,Ch=(()=>{class n{constructor(t,i,r,s,l,f,p,_,x,M,I,H){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=l,this._injector=f,this._ngZone=p,this._document=_,this._directionality=x,this._location=M,this._outsideClickDispatcher=I,this._animationsModuleType=H}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),l=new KR(t);return l.direction=l.direction||this._directionality.value,new One(s,i,r,l,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+jne++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(a.z2F)),new Vne(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(zne),a.LFG(XR),a.LFG(a._Vd),a.LFG(Une),a.LFG(Rne),a.LFG(a.zs3),a.LFG(a.R0b),a.LFG(ce),a.LFG(X3),a.LFG(ze),a.LFG(Pne),a.LFG(a.QbO,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Wne={provide:new a.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Ch],useFactory:function Gne(n){return()=>n.scrollStrategies.reposition()}};let rP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Ch,Wne],imports:[_7,WR,jR,jR]}),n})();const Yne=new a.OlP("mat-sanity-checks",{providedIn:"root",factory:function qne(){return!0}});let ha=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!QD()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(zR),a.LFG(Yne,8),a.LFG(ce))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[_7,_7]}),n})();function Zne(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=fr(e)}}}function lT(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function Kne(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=fr(e)}}}function aP(n){return class extends n{constructor(...e){super(...e),this.errorState=!1}updateErrorState(){const e=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==e&&(this.errorState=s,this.stateChanges.next())}}}const Qne=new a.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function Xne(){return(0,a.f3M)(a.soG)}});class dr{constructor(){this._localeChanges=new Qt.x,this.localeChanges=this._localeChanges}getValidDateOrNull(e){return this.isDateInstance(e)&&this.isValid(e)?e:null}deserialize(e){return null==e||this.isDateInstance(e)&&this.isValid(e)?e:this.invalid()}setLocale(e){this.locale=e,this._localeChanges.next()}compareDate(e,t){return this.getYear(e)-this.getYear(t)||this.getMonth(e)-this.getMonth(t)||this.getDate(e)-this.getDate(t)}sameDate(e,t){if(e&&t){let i=this.isValid(e),r=this.isValid(t);return i&&r?!this.compareDate(e,t):i==r}return e==t}clampDate(e,t,i){return t&&this.compareDate(e,t)<0?t:i&&this.compareDate(e,i)>0?i:e}}const Z1=new a.OlP("mat-date-formats"),Jne=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function uT(n,e){const t=Array(n);for(let i=0;i<n;i++)t[i]=e(i);return t}let eie=(()=>{class n extends dr{constructor(t,i){super(),this.useUtcForDisplay=!1,super.setLocale(t)}getYear(t){return t.getFullYear()}getMonth(t){return t.getMonth()}getDate(t){return t.getDate()}getDayOfWeek(t){return t.getDay()}getMonthNames(t){const i=new Intl.DateTimeFormat(this.locale,{month:t,timeZone:"utc"});return uT(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){const t=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return uT(31,i=>this._format(t,new Date(2017,0,i+1)))}getDayOfWeekNames(t){const i=new Intl.DateTimeFormat(this.locale,{weekday:t,timeZone:"utc"});return uT(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(t){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,t)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(t){return this.getDate(this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+1,0))}clone(t){return new Date(t.getTime())}createDate(t,i,r){let s=this._createDateWithOverflow(t,i,r);return s.getMonth(),s}today(){return new Date}parse(t,i){return"number"==typeof t?new Date(t):t?new Date(Date.parse(t)):null}format(t,i){if(!this.isValid(t))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,{...i,timeZone:"utc"});return this._format(r,t)}addCalendarYears(t,i){return this.addCalendarMonths(t,12*i)}addCalendarMonths(t,i){let r=this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+i,this.getDate(t));return this.getMonth(r)!=((this.getMonth(t)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(t,i){return this._createDateWithOverflow(this.getYear(t),this.getMonth(t),this.getDate(t)+i)}toIso8601(t){return[t.getUTCFullYear(),this._2digit(t.getUTCMonth()+1),this._2digit(t.getUTCDate())].join("-")}deserialize(t){if("string"==typeof t){if(!t)return null;if(Jne.test(t)){let i=new Date(t);if(this.isValid(i))return i}}return super.deserialize(t)}isDateInstance(t){return t instanceof Date}isValid(t){return!isNaN(t.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(t,i,r){const s=new Date;return s.setFullYear(t,i,r),s.setHours(0,0,0,0),s}_2digit(t){return("00"+t).slice(-2)}_format(t,i){const r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),t.format(r)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Qne,8),a.LFG(Cr))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const tie={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let nie=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[{provide:dr,useClass:eie}]}),n})(),iie=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[{provide:Z1,useValue:tie}],imports:[nie]}),n})(),qy=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class rie{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const cP={enterDuration:225,exitDuration:150},fT=d7({passive:!0}),lP=["mousedown","touchstart"],uP=["mouseup","mouseleave","touchend","touchcancel"];class oie{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=rl(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...cP,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const l=i.radius||function aie(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),f=e-r.left,p=t-r.top,_=s.enterDuration,x=document.createElement("div");x.classList.add("mat-ripple-element"),x.style.left=f-l+"px",x.style.top=p-l+"px",x.style.height=2*l+"px",x.style.width=2*l+"px",null!=i.color&&(x.style.backgroundColor=i.color),x.style.transitionDuration=`${_}ms`,this._containerElement.appendChild(x);const M=window.getComputedStyle(x),H=M.transitionDuration,P="none"===M.transitionProperty||"0s"===H||"0s, 0s"===H||0===r.width&&0===r.height,q=new rie(this,x,i,P);x.style.transform="scale3d(1, 1, 1)",q.state=0,i.persistent||(this._mostRecentTransientRipple=q);let se=null;return!P&&(_||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const De=()=>this._finishRippleTransition(q),Fe=()=>this._destroyRipple(q);x.addEventListener("transitionend",De),x.addEventListener("transitioncancel",Fe),se={onTransitionEnd:De,onTransitionCancel:Fe}}),this._activeRipples.set(q,se),(P||!_)&&this._finishRippleTransition(q),q}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...cP,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=rl(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(lP))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(uP),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=IR(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!AR(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,fT)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(lP.forEach(e=>{this._triggerElement.removeEventListener(e,this,fT)}),this._pointerUpEventsRegistered&&uP.forEach(e=>{this._triggerElement.removeEventListener(e,this,fT)}))}}const cie=new a.OlP("mat-ripple-global-options");let dT=(()=>{class n{constructor(t,i,r,s,l){this._elementRef=t,this._animationMode=l,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new oie(this,i,t,r)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(Cr),a.Y36(cie,8),a.Y36(a.QbO,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&a.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),lie=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[ha,ha]}),n})();const uie=["mat-button",""],fie=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],die=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],pie=["mat-icon-button",""],mie=["*"],gie=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],_ie=lT(Zne(Kne(class{constructor(n){this._elementRef=n}})));let fP=(()=>{class n extends _ie{constructor(t,i,r,s){super(t),this._platform=i,this._ngZone=r,this._animationMode=s,this._focusMonitor=(0,a.f3M)(iT),this._isFab=!1;const l=t.nativeElement.classList;for(const f of gie)this._hasHostAttributes(f.selector)&&f.mdcClasses.forEach(p=>{l.add(p)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...t){return t.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return n.\u0275fac=function(t){a.$Z()},n.\u0275dir=a.lG2({type:n,viewQuery:function(t,i){if(1&t&&a.Gf(dT,5),2&t){let r;a.iGM(r=a.CRH())&&(i.ripple=r.first)}},features:[a.qOj]}),n})(),dP=(()=>{class n extends fP{constructor(t,i,r,s){super(t,i,r,s)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(Cr),a.Y36(a.R0b),a.Y36(a.QbO,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(t,i){2&t&&(a.uIk("disabled",i.disabled||null),a.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[a.qOj],attrs:uie,ngContentSelectors:die,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(t,i){1&t&&(a.F$t(fie),a._UZ(0,"span",0),a.Hsn(1),a.TgZ(2,"span",1),a.Hsn(3,1),a.qZA(),a.Hsn(4,2),a._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&t&&(a.ekj("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab),a.xp6(6),a.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[dT],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),hP=(()=>{class n extends fP{constructor(t,i,r,s){super(t,i,r,s)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(Cr),a.Y36(a.R0b),a.Y36(a.QbO,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(t,i){2&t&&(a.uIk("disabled",i.disabled||null),a.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[a.qOj],attrs:pie,ngContentSelectors:mie,decls:5,vars:3,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(t,i){1&t&&(a.F$t(),a._UZ(0,"span",0),a.Hsn(1),a._UZ(2,"span",1)(3,"span",2)(4,"span",3)),2&t&&(a.xp6(3),a.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",!0)("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[dT],styles:['.mdc-icon-button{font-size:24px;width:48px;height:48px;padding:12px}.mdc-icon-button .mdc-icon-button__focus-ring{max-height:48px;max-width:48px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:40px;height:40px;margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:40px;max-width:40px}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-icon-button svg,.mdc-icon-button img{width:24px;height:24px}.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size, 48px);width:var(--mdc-icon-button-state-layer-size, 48px);color:var(--mdc-icon-button-icon-color, inherit);border-radius:50%;flex-shrink:0;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity, 0.38)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color, #000)}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),xie=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[ha,lie,ha]}),n})();class pP{}class bie{}const sl="*";function Yy(n,e){return{type:7,name:n,definitions:e,options:{}}}function q6(n,e=null){return{type:4,styles:e,timings:n}}function mP(n,e=null){return{type:2,steps:n,options:e}}function pa(n){return{type:6,styles:n,offset:null}}function y7(n,e,t){return{type:0,name:n,styles:e,options:t}}function gP(n){return{type:5,steps:n}}function Y6(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function _P(n){Promise.resolve().then(n)}class x7{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){_P(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class vP{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const s=this.players.length;0==s?_P(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++t==s&&this._onFinish()}),l.onDestroy(()=>{++i==s&&this._onDestroy()}),l.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((l,f)=>Math.max(l,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const Cie=["matFormFieldNotchedOutline",""],wie=["*"],Mie=["textField"],Sie=["iconPrefixContainer"],Eie=["textPrefixContainer"];function Die(n,e){1&n&&a._UZ(0,"span",19)}function Tie(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"label",17),a.NdJ("cdkObserveContent",function(){a.CHM(t);const r=a.oxw(2);return a.KtG(r._refreshOutlineNotchWidth())}),a.Hsn(1,1),a.YNc(2,Die,1,0,"span",18),a.qZA()}if(2&n){const t=a.oxw(2);a.Q6J("floating",t._shouldLabelFloat())("cdkObserveContentDisabled",!t._hasOutline())("id",t._labelId),a.uIk("for",t._control.id)("aria-owns",t._control.id),a.xp6(2),a.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required)}}function Iie(n,e){if(1&n&&a.YNc(0,Tie,3,6,"label",16),2&n){const t=a.oxw();a.Q6J("ngIf",t._hasFloatingLabel())}}function Aie(n,e){1&n&&a._UZ(0,"div",20)}function Vie(n,e){}function Lie(n,e){if(1&n&&a.YNc(0,Vie,0,0,"ng-template",22),2&n){a.oxw(2);const t=a.MAs(1);a.Q6J("ngTemplateOutlet",t)}}function kie(n,e){if(1&n&&(a.TgZ(0,"div",21),a.YNc(1,Lie,1,1,"ng-template",9),a.qZA()),2&n){const t=a.oxw();a.Q6J("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat())("matFormFieldNotchedOutlineLabelWidth",t._labelWidth),a.xp6(1),a.Q6J("ngIf",!t._forceDisplayInfixLabel())}}function Hie(n,e){1&n&&(a.TgZ(0,"div",23,24),a.Hsn(2,2),a.qZA())}function zie(n,e){1&n&&(a.TgZ(0,"div",25,26),a.Hsn(2,3),a.qZA())}function Nie(n,e){}function Rie(n,e){if(1&n&&a.YNc(0,Nie,0,0,"ng-template",22),2&n){a.oxw();const t=a.MAs(1);a.Q6J("ngTemplateOutlet",t)}}function Pie(n,e){1&n&&(a.TgZ(0,"div",27),a.Hsn(1,4),a.qZA())}function Oie(n,e){1&n&&(a.TgZ(0,"div",28),a.Hsn(1,5),a.qZA())}function Fie(n,e){1&n&&a._UZ(0,"div",29)}function Bie(n,e){if(1&n&&(a.TgZ(0,"div",30),a.Hsn(1,6),a.qZA()),2&n){const t=a.oxw();a.Q6J("@transitionMessages",t._subscriptAnimationState)}}function Uie(n,e){if(1&n&&(a.TgZ(0,"mat-hint",34),a._uU(1),a.qZA()),2&n){const t=a.oxw(2);a.Q6J("id",t._hintLabelId),a.xp6(1),a.Oqu(t.hintLabel)}}function jie(n,e){if(1&n&&(a.TgZ(0,"div",31),a.YNc(1,Uie,2,2,"mat-hint",32),a.Hsn(2,7),a._UZ(3,"div",33),a.Hsn(4,8),a.qZA()),2&n){const t=a.oxw();a.Q6J("@transitionMessages",t._subscriptAnimationState),a.xp6(1),a.Q6J("ngIf",t.hintLabel)}}const $ie=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Gie=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let Zy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-label"]]}),n})();const Wie=new a.OlP("MatError");let qie=0,Ky=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+qie++}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(t,i){2&t&&(a.Ikx("id",i.id),a.uIk("align",null),a.ekj("mat-mdc-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"}}),n})();const Yie=new a.OlP("MatPrefix"),yP=new a.OlP("MatSuffix");let xP=(()=>{class n{constructor(t){this._isText=!1,this._isText=t.nativeElement.hasAttribute("matTextSuffix")}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],features:[a._Bn([{provide:yP,useExisting:n}])]}),n})(),bP=(()=>{class n{constructor(t){this._elementRef=t,this.floating=!1}getWidth(){return function Zie(n){if(null!==n.offsetParent)return n.scrollWidth;const t=n.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);const i=t.scrollWidth;return t.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(t,i){2&t&&a.ekj("mdc-floating-label--float-above",i.floating)},inputs:{floating:"floating"}}),n})();const CP="mdc-line-ripple--active",Qy="mdc-line-ripple--deactivating";let wP=(()=>{class n{constructor(t,i){this._elementRef=t,this._handleTransitionEnd=r=>{const s=this._elementRef.nativeElement.classList,l=s.contains(Qy);"opacity"===r.propertyName&&l&&s.remove(CP,Qy)},i.runOutsideAngular(()=>{t.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const t=this._elementRef.nativeElement.classList;t.remove(Qy),t.add(CP)}deactivate(){this._elementRef.nativeElement.classList.add(Qy)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275dir=a.lG2({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),n})(),MP=(()=>{class n{constructor(t,i){this._elementRef=t,this._ngZone=i,this.labelWidth=0,this.open=!1}ngAfterViewInit(){const t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_getNotchWidth(){return this.open?this.labelWidth>0?`calc(${this.labelWidth}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:"0px":null}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(t,i){2&t&&a.ekj("mdc-notched-outline--notched",i.open)},inputs:{labelWidth:["matFormFieldNotchedOutlineLabelWidth","labelWidth"],open:["matFormFieldNotchedOutlineOpen","open"]},attrs:Cie,ngContentSelectors:wie,decls:4,vars:2,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(t,i){1&t&&(a.F$t(),a._UZ(0,"div",0),a.TgZ(1,"div",1),a.Hsn(2),a.qZA(),a._UZ(3,"div",2)),2&t&&(a.xp6(1),a.Udp("width",i._getNotchWidth()))},encapsulation:2,changeDetection:0}),n})();const Kie={transitionMessages:Yy("transitionMessages",[y7("enter",pa({opacity:1,transform:"translateY(0%)"})),Y6("void => enter",[pa({opacity:0,transform:"translateY(-5px)"}),q6("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let pT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n}),n})();const Xy=new a.OlP("MatFormField"),Qie=new a.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let SP=0,TP=(()=>{class n{constructor(t,i,r,s,l,f,p,_){this._elementRef=t,this._changeDetectorRef=i,this._ngZone=r,this._dir=s,this._platform=l,this._defaults=f,this._animationMode=p,this._document=_,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+SP++,this._hintLabelId="mat-mdc-hint-"+SP++,this._subscriptAnimationState="",this._labelWidth=0,this._destroyed=new Qt.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,f&&(f.appearance&&(this.appearance=f.appearance),this._hideRequiredMarker=Boolean(f?.hideRequiredMarker),f.color&&(this.color=f.color))}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=fr(t)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._refreshOutlineNotchWidth(),this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}ngAfterViewInit(){this._updateFocusState(),this._refreshOutlineNotchWidth(),this._document?.fonts?.ready?this._document.fonts.ready.then(()=>{this._refreshOutlineNotchWidth(),this._changeDetectorRef.markForCheck()}):setTimeout(()=>this._refreshOutlineNotchWidth(),100),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${t.controlType}`),t.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(ao(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,il.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(ao(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(ao(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||(this._labelWidth=this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const t=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(t.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,s=i?.getBoundingClientRect().width??0,l=r?.getBoundingClientRect().width??0;t.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${s+l}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(a.R0b),a.Y36(X3),a.Y36(Cr),a.Y36(Qie,8),a.Y36(a.QbO,8),a.Y36(ce))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,i,r){if(1&t&&(a.Suo(r,Zy,5),a.Suo(r,Zy,7),a.Suo(r,pT,5),a.Suo(r,Yie,5),a.Suo(r,yP,5),a.Suo(r,Wie,5),a.Suo(r,Ky,5)),2&t){let s;a.iGM(s=a.CRH())&&(i._labelChildNonStatic=s.first),a.iGM(s=a.CRH())&&(i._labelChildStatic=s.first),a.iGM(s=a.CRH())&&(i._formFieldControl=s.first),a.iGM(s=a.CRH())&&(i._prefixChildren=s),a.iGM(s=a.CRH())&&(i._suffixChildren=s),a.iGM(s=a.CRH())&&(i._errorChildren=s),a.iGM(s=a.CRH())&&(i._hintChildren=s)}},viewQuery:function(t,i){if(1&t&&(a.Gf(Mie,5),a.Gf(Sie,5),a.Gf(Eie,5),a.Gf(bP,5),a.Gf(MP,5),a.Gf(wP,5)),2&t){let r;a.iGM(r=a.CRH())&&(i._textField=r.first),a.iGM(r=a.CRH())&&(i._iconPrefixContainer=r.first),a.iGM(r=a.CRH())&&(i._textPrefixContainer=r.first),a.iGM(r=a.CRH())&&(i._floatingLabel=r.first),a.iGM(r=a.CRH())&&(i._notchedOutline=r.first),a.iGM(r=a.CRH())&&(i._lineRipple=r.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(t,i){2&t&&a.ekj("mat-mdc-form-field-label-always-float",i._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",i._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",i._hasIconSuffix)("mat-form-field-invalid",i._control.errorState)("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===i._animationMode)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-hide-placeholder",i._hasFloatingLabel()&&!i._shouldLabelFloat())("mat-focused",i._control.focused)("mat-primary","accent"!==i.color&&"warn"!==i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[a._Bn([{provide:Xy,useExisting:n}])],ngContentSelectors:Gie,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(t,i){1&t&&(a.F$t($ie),a.YNc(0,Iie,1,1,"ng-template",null,0,a.W1O),a.TgZ(2,"div",1,2),a.NdJ("click",function(s){return i._control.onContainerClick&&i._control.onContainerClick(s)}),a.YNc(4,Aie,1,0,"div",3),a.TgZ(5,"div",4),a.YNc(6,kie,2,3,"div",5),a.YNc(7,Hie,3,0,"div",6),a.YNc(8,zie,3,0,"div",7),a.TgZ(9,"div",8),a.YNc(10,Rie,1,1,"ng-template",9),a.Hsn(11),a.qZA(),a.YNc(12,Pie,2,0,"div",10),a.YNc(13,Oie,2,0,"div",11),a.qZA(),a.YNc(14,Fie,1,0,"div",12),a.qZA(),a.TgZ(15,"div",13),a.YNc(16,Bie,2,1,"div",14),a.YNc(17,jie,5,2,"div",15),a.qZA()),2&t&&(a.xp6(2),a.ekj("mdc-text-field--filled",!i._hasOutline())("mdc-text-field--outlined",i._hasOutline())("mdc-text-field--no-label",!i._hasFloatingLabel())("mdc-text-field--disabled",i._control.disabled)("mdc-text-field--invalid",i._control.errorState),a.xp6(2),a.Q6J("ngIf",!i._hasOutline()&&!i._control.disabled),a.xp6(2),a.Q6J("ngIf",i._hasOutline()),a.xp6(1),a.Q6J("ngIf",i._hasIconPrefix),a.xp6(1),a.Q6J("ngIf",i._hasTextPrefix),a.xp6(2),a.Q6J("ngIf",!i._hasOutline()||i._forceDisplayInfixLabel()),a.xp6(2),a.Q6J("ngIf",i._hasTextSuffix),a.xp6(1),a.Q6J("ngIf",i._hasIconSuffix),a.xp6(1),a.Q6J("ngIf",!i._hasOutline()),a.xp6(1),a.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===i.subscriptSizing),a.Q6J("ngSwitch",i._getDisplayedMessages()),a.xp6(1),a.Q6J("ngSwitchCase","error"),a.xp6(1),a.Q6J("ngSwitchCase","hint"))},dependencies:[dn,Gi,Bs,ko,Ite,Ky,bP,MP,wP],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required::after,.mdc-floating-label--required[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;border-top:1px solid;border-bottom:1px solid;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid;flex-grow:1}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 12px * 2)}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-10.25px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-10.25px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-24.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-24.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-106%) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-106%) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}'],encapsulation:2,data:{animation:[Kie.transitionMessages]},changeDetection:0}),n})(),mT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[ha,hs,bR,ha]}),n})();const IP=d7({passive:!0});let ere=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Nr.E;const i=rl(t),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new Qt.x,l="cdk-text-field-autofilled",f=p=>{"cdk-text-field-autofill-start"!==p.animationName||i.classList.contains(l)?"cdk-text-field-autofill-end"===p.animationName&&i.classList.contains(l)&&(i.classList.remove(l),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!1}))):(i.classList.add(l),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",f,IP),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",f,IP)}}),s}stopMonitoring(t){const i=rl(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Cr),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),AP=(()=>{class n{constructor(t,i,r,s){this._elementRef=t,this._platform=i,this._ngZone=r,this._destroyed=new Qt.x,this._enabled=!0,this._previousMinRows=-1,this._isViewInited=!1,this._handleFocusEvent=l=>{this._hasFocus="focus"===l.type},this._document=s,this._textareaElement=this._elementRef.nativeElement}get minRows(){return this._minRows}set minRows(t){this._minRows=m7(t),this._setMinHeight()}get maxRows(){return this._maxRows}set maxRows(t){this._maxRows=m7(t),this._setMaxHeight()}get enabled(){return this._enabled}set enabled(t){t=fr(t),this._enabled!==t&&((this._enabled=t)?this.resizeToFitContent(!0):this.reset())}get placeholder(){return this._textareaElement.placeholder}set placeholder(t){this._cachedPlaceholderHeight=void 0,t?this._textareaElement.setAttribute("placeholder",t):this._textareaElement.removeAttribute("placeholder"),this._cacheTextareaPlaceholderHeight()}_setMinHeight(){const t=this.minRows&&this._cachedLineHeight?this.minRows*this._cachedLineHeight+"px":null;t&&(this._textareaElement.style.minHeight=t)}_setMaxHeight(){const t=this.maxRows&&this._cachedLineHeight?this.maxRows*this._cachedLineHeight+"px":null;t&&(this._textareaElement.style.maxHeight=t)}ngAfterViewInit(){this._platform.isBrowser&&(this._initialHeight=this._textareaElement.style.height,this.resizeToFitContent(),this._ngZone.runOutsideAngular(()=>{Uy(this._getWindow(),"resize").pipe(oT(16),ao(this._destroyed)).subscribe(()=>this.resizeToFitContent(!0)),this._textareaElement.addEventListener("focus",this._handleFocusEvent),this._textareaElement.addEventListener("blur",this._handleFocusEvent)}),this._isViewInited=!0,this.resizeToFitContent(!0))}ngOnDestroy(){this._textareaElement.removeEventListener("focus",this._handleFocusEvent),this._textareaElement.removeEventListener("blur",this._handleFocusEvent),this._destroyed.next(),this._destroyed.complete()}_cacheTextareaLineHeight(){if(this._cachedLineHeight)return;let t=this._textareaElement.cloneNode(!1);t.rows=1,t.style.position="absolute",t.style.visibility="hidden",t.style.border="none",t.style.padding="0",t.style.height="",t.style.minHeight="",t.style.maxHeight="",t.style.overflow="hidden",this._textareaElement.parentNode.appendChild(t),this._cachedLineHeight=t.clientHeight,t.remove(),this._setMinHeight(),this._setMaxHeight()}_measureScrollHeight(){const t=this._textareaElement,i=t.style.marginBottom||"",r=this._platform.FIREFOX,s=r&&this._hasFocus,l=r?"cdk-textarea-autosize-measuring-firefox":"cdk-textarea-autosize-measuring";s&&(t.style.marginBottom=`${t.clientHeight}px`),t.classList.add(l);const f=t.scrollHeight-4;return t.classList.remove(l),s&&(t.style.marginBottom=i),f}_cacheTextareaPlaceholderHeight(){if(!this._isViewInited||null!=this._cachedPlaceholderHeight)return;if(!this.placeholder)return void(this._cachedPlaceholderHeight=0);const t=this._textareaElement.value;this._textareaElement.value=this._textareaElement.placeholder,this._cachedPlaceholderHeight=this._measureScrollHeight(),this._textareaElement.value=t}ngDoCheck(){this._platform.isBrowser&&this.resizeToFitContent()}resizeToFitContent(t=!1){if(!this._enabled||(this._cacheTextareaLineHeight(),this._cacheTextareaPlaceholderHeight(),!this._cachedLineHeight))return;const i=this._elementRef.nativeElement,r=i.value;if(!t&&this._minRows===this._previousMinRows&&r===this._previousValue)return;const s=this._measureScrollHeight(),l=Math.max(s,this._cachedPlaceholderHeight||0);i.style.height=`${l}px`,this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame<"u"?requestAnimationFrame(()=>this._scrollToCaretPosition(i)):setTimeout(()=>this._scrollToCaretPosition(i))}),this._previousValue=r,this._previousMinRows=this._minRows}reset(){void 0!==this._initialHeight&&(this._textareaElement.style.height=this._initialHeight)}_noopInputHandler(){}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollToCaretPosition(t){const{selectionStart:i,selectionEnd:r}=t;!this._destroyed.isStopped&&this._hasFocus&&t.setSelectionRange(i,r)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(Cr),a.Y36(a.R0b),a.Y36(ce,8))},n.\u0275dir=a.lG2({type:n,selectors:[["textarea","cdkTextareaAutosize",""]],hostAttrs:["rows","1",1,"cdk-textarea-autosize"],hostBindings:function(t,i){1&t&&a.NdJ("input",function(){return i._noopInputHandler()})},inputs:{minRows:["cdkAutosizeMinRows","minRows"],maxRows:["cdkAutosizeMaxRows","maxRows"],enabled:["cdkTextareaAutosize","enabled"],placeholder:"placeholder"},exportAs:["cdkTextareaAutosize"]}),n})(),tre=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const VP=new a.OlP("MAT_INPUT_VALUE_ACCESSOR"),nre=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let ire=0;const rre=aP(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i,this.stateChanges=new Qt.x}});let LP=(()=>{class n extends rre{constructor(t,i,r,s,l,f,p,_,x,M){super(f,s,l,r),this._elementRef=t,this._platform=i,this._autofillMonitor=_,this._formField=M,this._uid="mat-input-"+ire++,this.focused=!1,this.stateChanges=new Qt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(P=>pR().has(P)),this._iOSKeyupListener=P=>{const q=P.target;!q.value&&0===q.selectionStart&&0===q.selectionEnd&&(q.setSelectionRange(1,1),q.setSelectionRange(0,0))};const I=this._elementRef.nativeElement,H=I.nodeName.toLowerCase();this._inputValueAccessor=p||I,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&x.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===H,this._isTextarea="textarea"===H,this._isInFormField=!!M,this._isNativeSelect&&(this.controlType=I.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this._disabled}set disabled(t){this._disabled=fr(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(pi.required)??!1}set required(t){this._required=fr(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&pR().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=fr(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){const t=this._getPlaceholder();if(t!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=t,t?i.setAttribute("placeholder",t):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){nre.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(Cr),a.Y36(na,10),a.Y36(Gc,8),a.Y36(ia,8),a.Y36(qy),a.Y36(VP,10),a.Y36(ere),a.Y36(a.R0b),a.Y36(Xy,8))},n.\u0275dir=a.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(t,i){1&t&&a.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&t&&(a.Ikx("id",i.id)("disabled",i.disabled)("required",i.required),a.uIk("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required)("id",i.id),a.ekj("mat-input-server",i._isServer)("mat-mdc-form-field-textarea-control",i._isInFormField&&i._isTextarea)("mat-mdc-form-field-input-control",i._isInFormField)("mdc-text-field__input",i._isInFormField)("mat-mdc-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[a._Bn([{provide:pT,useExisting:n}]),a.qOj,a.TTD]}),n})(),sre=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[ha,mT,mT,tre,ha]}),n})();const ore=["mat-calendar-body",""];function are(n,e){if(1&n&&(a.TgZ(0,"tr",3)(1,"td",4),a._uU(2),a.qZA()()),2&n){const t=a.oxw();a.xp6(1),a.Udp("padding-top",t._cellPadding)("padding-bottom",t._cellPadding),a.uIk("colspan",t.numCols),a.xp6(1),a.hij(" ",t.label," ")}}function cre(n,e){if(1&n&&(a.TgZ(0,"td",4),a._uU(1),a.qZA()),2&n){const t=a.oxw(2);a.Udp("padding-top",t._cellPadding)("padding-bottom",t._cellPadding),a.uIk("colspan",t._firstRowOffset),a.xp6(1),a.hij(" ",t._firstRowOffset>=t.labelMinRequiredCells?t.label:""," ")}}function lre(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"td",8)(1,"button",9),a.NdJ("click",function(r){const l=a.CHM(t).$implicit,f=a.oxw(2);return a.KtG(f._cellClicked(l,r))})("focus",function(r){const l=a.CHM(t).$implicit,f=a.oxw(2);return a.KtG(f._emitActiveDateChange(l,r))}),a.TgZ(2,"div",10),a._uU(3),a.qZA(),a._UZ(4,"div",11),a.qZA()()}if(2&n){const t=e.$implicit,i=e.index,r=a.oxw().index,s=a.oxw();a.Udp("width",s._cellWidth)("padding-top",s._cellPadding)("padding-bottom",s._cellPadding),a.uIk("data-mat-row",r)("data-mat-col",i),a.xp6(1),a.ekj("mat-calendar-body-disabled",!t.enabled)("mat-calendar-body-active",s._isActiveCell(r,i))("mat-calendar-body-range-start",s._isRangeStart(t.compareValue))("mat-calendar-body-range-end",s._isRangeEnd(t.compareValue))("mat-calendar-body-in-range",s._isInRange(t.compareValue))("mat-calendar-body-comparison-bridge-start",s._isComparisonBridgeStart(t.compareValue,r,i))("mat-calendar-body-comparison-bridge-end",s._isComparisonBridgeEnd(t.compareValue,r,i))("mat-calendar-body-comparison-start",s._isComparisonStart(t.compareValue))("mat-calendar-body-comparison-end",s._isComparisonEnd(t.compareValue))("mat-calendar-body-in-comparison-range",s._isInComparisonRange(t.compareValue))("mat-calendar-body-preview-start",s._isPreviewStart(t.compareValue))("mat-calendar-body-preview-end",s._isPreviewEnd(t.compareValue))("mat-calendar-body-in-preview",s._isInPreview(t.compareValue)),a.Q6J("ngClass",t.cssClasses)("tabindex",s._isActiveCell(r,i)?0:-1),a.uIk("aria-label",t.ariaLabel)("aria-disabled",!t.enabled||null)("aria-pressed",s._isSelected(t.compareValue))("aria-current",s.todayValue===t.compareValue?"date":null)("aria-describedby",s._getDescribedby(t.compareValue)),a.xp6(1),a.ekj("mat-calendar-body-selected",s._isSelected(t.compareValue))("mat-calendar-body-comparison-identical",s._isComparisonIdentical(t.compareValue))("mat-calendar-body-today",s.todayValue===t.compareValue),a.xp6(1),a.hij(" ",t.displayValue," ")}}function ure(n,e){if(1&n&&(a.TgZ(0,"tr",5),a.YNc(1,cre,2,6,"td",6),a.YNc(2,lre,5,48,"td",7),a.qZA()),2&n){const t=e.$implicit,i=e.index,r=a.oxw();a.xp6(1),a.Q6J("ngIf",0===i&&r._firstRowOffset),a.xp6(1),a.Q6J("ngForOf",t)}}function fre(n,e){if(1&n&&(a.TgZ(0,"th",5)(1,"span",6),a._uU(2),a.qZA(),a.TgZ(3,"span",7),a._uU(4),a.qZA()()),2&n){const t=e.$implicit;a.xp6(2),a.Oqu(t.long),a.xp6(2),a.Oqu(t.narrow)}}const dre=["*"];function hre(n,e){}function pre(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"mat-month-view",5),a.NdJ("activeDateChange",function(r){a.CHM(t);const s=a.oxw();return a.KtG(s.activeDate=r)})("_userSelection",function(r){a.CHM(t);const s=a.oxw();return a.KtG(s._dateSelected(r))}),a.qZA()}if(2&n){const t=a.oxw();a.Q6J("activeDate",t.activeDate)("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)("comparisonStart",t.comparisonStart)("comparisonEnd",t.comparisonEnd)("startDateAccessibleName",t.startDateAccessibleName)("endDateAccessibleName",t.endDateAccessibleName)}}function mre(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"mat-year-view",6),a.NdJ("activeDateChange",function(r){a.CHM(t);const s=a.oxw();return a.KtG(s.activeDate=r)})("monthSelected",function(r){a.CHM(t);const s=a.oxw();return a.KtG(s._monthSelectedInYearView(r))})("selectedChange",function(r){a.CHM(t);const s=a.oxw();return a.KtG(s._goToDateInView(r,"month"))}),a.qZA()}if(2&n){const t=a.oxw();a.Q6J("activeDate",t.activeDate)("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)}}function gre(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"mat-multi-year-view",7),a.NdJ("activeDateChange",function(r){a.CHM(t);const s=a.oxw();return a.KtG(s.activeDate=r)})("yearSelected",function(r){a.CHM(t);const s=a.oxw();return a.KtG(s._yearSelectedInMultiYearView(r))})("selectedChange",function(r){a.CHM(t);const s=a.oxw();return a.KtG(s._goToDateInView(r,"year"))}),a.qZA()}if(2&n){const t=a.oxw();a.Q6J("activeDate",t.activeDate)("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)}}function _re(n,e){}const vre=["button"];function yre(n,e){1&n&&(a.O4$(),a.TgZ(0,"svg",3),a._UZ(1,"path",4),a.qZA())}const xre=[[["","matDatepickerToggleIcon",""]]],bre=["[matDatepickerToggleIcon]"],Cre=[[["input","matStartDate",""]],[["input","matEndDate",""]]],wre=["input[matStartDate]","input[matEndDate]"];let b7=(()=>{class n{constructor(){this.changes=new Qt.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(t,i){return`${t} \u2013 ${i}`}formatYearRangeLabel(t,i){return`${t} to ${i}`}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class gT{constructor(e,t,i,r,s={},l=e,f){this.value=e,this.displayValue=t,this.ariaLabel=i,this.enabled=r,this.cssClasses=s,this.compareValue=l,this.rawValue=f}}let Mre=1,wh=(()=>{class n{constructor(t,i){this._elementRef=t,this._ngZone=i,this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new a.vpe,this.previewChange=new a.vpe,this.activeDateChange=new a.vpe,this._enterHandler=r=>{if(this._skipNextFocus&&"focus"===r.type)this._skipNextFocus=!1;else if(r.target&&this.isRange){const s=this._getCellFromElement(r.target);s&&this._ngZone.run(()=>this.previewChange.emit({value:s.enabled?s:null,event:r}))}},this._leaveHandler=r=>{null!==this.previewEnd&&this.isRange&&r.target&&this._getCellFromElement(r.target)&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:r}))},this._id="mat-calendar-body-"+Mre++,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,i.runOutsideAngular(()=>{const r=t.nativeElement;r.addEventListener("mouseenter",this._enterHandler,!0),r.addEventListener("focus",this._enterHandler,!0),r.addEventListener("mouseleave",this._leaveHandler,!0),r.addEventListener("blur",this._leaveHandler,!0)})}ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}_cellClicked(t,i){t.enabled&&this.selectedValueChange.emit({value:t.value,event:i})}_emitActiveDateChange(t,i){t.enabled&&this.activeDateChange.emit({value:t.value,event:i})}_isSelected(t){return this.startValue===t||this.endValue===t}ngOnChanges(t){const i=t.numCols,{rows:r,numCols:s}=this;(t.rows||i)&&(this._firstRowOffset=r&&r.length&&r[0].length?s-r[0].length:0),(t.cellAspectRatio||i||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/s+"%"),(i||!this._cellWidth)&&(this._cellWidth=100/s+"%")}ngOnDestroy(){const t=this._elementRef.nativeElement;t.removeEventListener("mouseenter",this._enterHandler,!0),t.removeEventListener("focus",this._enterHandler,!0),t.removeEventListener("mouseleave",this._leaveHandler,!0),t.removeEventListener("blur",this._leaveHandler,!0)}_isActiveCell(t,i){let r=t*this.numCols+i;return t&&(r-=this._firstRowOffset),r==this.activeCell}_focusActiveCell(t=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Rr(1)).subscribe(()=>{setTimeout(()=>{const i=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");i&&(t||(this._skipNextFocus=!0),i.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(t){return _T(t,this.startValue,this.endValue)}_isRangeEnd(t){return vT(t,this.startValue,this.endValue)}_isInRange(t){return yT(t,this.startValue,this.endValue,this.isRange)}_isComparisonStart(t){return _T(t,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(t,i,r){if(!this._isComparisonStart(t)||this._isRangeStart(t)||!this._isInRange(t))return!1;let s=this.rows[i][r-1];if(!s){const l=this.rows[i-1];s=l&&l[l.length-1]}return s&&!this._isRangeEnd(s.compareValue)}_isComparisonBridgeEnd(t,i,r){if(!this._isComparisonEnd(t)||this._isRangeEnd(t)||!this._isInRange(t))return!1;let s=this.rows[i][r+1];if(!s){const l=this.rows[i+1];s=l&&l[0]}return s&&!this._isRangeStart(s.compareValue)}_isComparisonEnd(t){return vT(t,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(t){return yT(t,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(t){return this.comparisonStart===this.comparisonEnd&&t===this.comparisonStart}_isPreviewStart(t){return _T(t,this.previewStart,this.previewEnd)}_isPreviewEnd(t){return vT(t,this.previewStart,this.previewEnd)}_isInPreview(t){return yT(t,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(t){return this.isRange?this.startValue===t&&this.endValue===t?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===t?this._startDateLabelId:this.endValue===t?this._endDateLabelId:null:null}_getCellFromElement(t){let i;if(kP(t)?i=t:kP(t.parentNode)&&(i=t.parentNode),i){const r=i.getAttribute("data-mat-row"),s=i.getAttribute("data-mat-col");if(r&&s)return this.rows[parseInt(r)][parseInt(s)]}return null}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange"},exportAs:["matCalendarBody"],features:[a.TTD],attrs:ore,decls:6,vars:6,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],[1,"mat-calendar-body-hidden-label",3,"id"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(t,i){1&t&&(a.YNc(0,are,3,6,"tr",0),a.YNc(1,ure,3,2,"tr",1),a.TgZ(2,"label",2),a._uU(3),a.qZA(),a.TgZ(4,"label",2),a._uU(5),a.qZA()),2&t&&(a.Q6J("ngIf",i._firstRowOffset<i.labelMinRequiredCells),a.xp6(1),a.Q6J("ngForOf",i.rows),a.xp6(1),a.Q6J("id",i._startDateLabelId),a.xp6(1),a.hij(" ",i.startDateAccessibleName,"\n"),a.xp6(1),a.Q6J("id",i._endDateLabelId),a.xp6(1),a.hij(" ",i.endDateAccessibleName,"\n"))},dependencies:[xi,bi,dn],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0}),n})();function kP(n){return"TD"===n.nodeName}function _T(n,e,t){return null!==t&&e!==t&&n<t&&n===e}function vT(n,e,t){return null!==e&&e!==t&&n>=e&&n===t}function yT(n,e,t,i){return i&&null!==e&&null!==t&&e!==t&&n>=e&&n<=t}class Ns{constructor(e,t){this.start=e,this.end=t}}let J3=(()=>{class n{constructor(t,i){this.selection=t,this._adapter=i,this._selectionChanged=new Qt.x,this.selectionChanged=this._selectionChanged,this.selection=t}updateSelection(t,i){const r=this.selection;this.selection=t,this._selectionChanged.next({selection:t,source:i,oldValue:r})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(t){return this._adapter.isDateInstance(t)&&this._adapter.isValid(t)}}return n.\u0275fac=function(t){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Sre=(()=>{class n extends J3{constructor(t){super(null,t)}add(t){super.updateSelection(t,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const t=new n(this._adapter);return t.updateSelection(this.selection,this),t}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(dr))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Ere=(()=>{class n extends J3{constructor(t){super(new Ns(null,null),t)}add(t){let{start:i,end:r}=this.selection;null==i?i=t:null==r?r=t:(i=t,r=null),super.updateSelection(new Ns(i,r),this)}isValid(){const{start:t,end:i}=this.selection;return null==t&&null==i||(null!=t&&null!=i?this._isValidDateInstance(t)&&this._isValidDateInstance(i)&&this._adapter.compareDate(t,i)<=0:(null==t||this._isValidDateInstance(t))&&(null==i||this._isValidDateInstance(i)))}isComplete(){return null!=this.selection.start&&null!=this.selection.end}clone(){const t=new n(this._adapter);return t.updateSelection(this.selection,this),t}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(dr))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const HP={provide:J3,deps:[[new a.FiY,new a.tp0,J3],dr],useFactory:function Dre(n,e){return n||new Sre(e)}},Ire={provide:J3,deps:[[new a.FiY,new a.tp0,J3],dr],useFactory:function Tre(n,e){return n||new Ere(e)}},Jy=new a.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let Are=(()=>{class n{constructor(t){this._dateAdapter=t}selectionFinished(t,i){let{start:r,end:s}=i;return null==r?r=t:null==s&&t&&this._dateAdapter.compareDate(t,r)>=0?s=t:(r=t,s=null),new Ns(r,s)}createPreview(t,i){let r=null,s=null;return i.start&&!i.end&&t&&(r=i.start,s=t),new Ns(r,s)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(dr))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Lre={provide:Jy,deps:[[new a.FiY,new a.tp0,Jy],dr],useFactory:function Vre(n,e){return n||new Are(e)}};let zP=(()=>{class n{constructor(t,i,r,s,l){this._changeDetectorRef=t,this._dateFormats=i,this._dateAdapter=r,this._dir=s,this._rangeStrategy=l,this._rerenderSubscription=Gn.w0.EMPTY,this.selectedChange=new a.vpe,this._userSelection=new a.vpe,this.activeDateChange=new a.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(t){const i=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._hasSameMonthAndYear(i,this._activeDate)||this._init()}get selected(){return this._selected}set selected(t){this._selected=t instanceof Ns?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Nl(null)).subscribe(()=>this._init())}ngOnChanges(t){const i=t.comparisonStart||t.comparisonEnd;i&&!i.firstChange&&this._setRanges(this.selected)}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(t){const i=t.value,r=this._getDateFromDayOfMonth(i);let s,l;this._selected instanceof Ns?(s=this._getDateInCurrentMonth(this._selected.start),l=this._getDateInCurrentMonth(this._selected.end)):s=l=this._getDateInCurrentMonth(this._selected),(s!==i||l!==i)&&this.selectedChange.emit(r),this._userSelection.emit({value:r,event:t.event}),this._previewStart=this._previewEnd=null,this._changeDetectorRef.markForCheck()}_updateActiveDate(t){const r=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(t.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(t){const i=this._activeDate,r=this._isRtl();switch(t.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&t.preventDefault());case 27:return void(null!=this._previewEnd&&!Ny(t)&&(this._previewStart=this._previewEnd=null,this.selectedChange.emit(null),this._userSelection.emit({value:null,event:t}),t.preventDefault(),t.stopPropagation()));default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),t.preventDefault()}_handleCalendarBodyKeyup(t){(32===t.keyCode||13===t.keyCode)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let t=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(t)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(t){this._matCalendarBody._focusActiveCell(t)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:t,value:i}){if(this._rangeStrategy){const s=this._rangeStrategy.createPreview(i?i.rawValue:null,this.selected,t);this._previewStart=this._getCellCompareValue(s.start),this._previewEnd=this._getCellCompareValue(s.end),this._changeDetectorRef.detectChanges()}}_getDateFromDayOfMonth(t){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),t)}_initWeekdays(){const t=this._dateAdapter.getFirstDayOfWeek(),i=this._dateAdapter.getDayOfWeekNames("narrow");let s=this._dateAdapter.getDayOfWeekNames("long").map((l,f)=>({long:l,narrow:i[f]}));this._weekdays=s.slice(t).concat(s.slice(0,t))}_createWeekCells(){const t=this._dateAdapter.getNumDaysInMonth(this.activeDate),i=this._dateAdapter.getDateNames();this._weeks=[[]];for(let r=0,s=this._firstWeekOffset;r<t;r++,s++){7==s&&(this._weeks.push([]),s=0);const l=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),r+1),f=this._shouldEnableDate(l),p=this._dateAdapter.format(l,this._dateFormats.display.dateA11yLabel),_=this.dateClass?this.dateClass(l,"month"):void 0;this._weeks[this._weeks.length-1].push(new gT(r+1,i[r],p,f,_,this._getCellCompareValue(l),l))}}_shouldEnableDate(t){return!!t&&(!this.minDate||this._dateAdapter.compareDate(t,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(t,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(t))}_getDateInCurrentMonth(t){return t&&this._hasSameMonthAndYear(t,this.activeDate)?this._dateAdapter.getDate(t):null}_hasSameMonthAndYear(t,i){return!(!t||!i||this._dateAdapter.getMonth(t)!=this._dateAdapter.getMonth(i)||this._dateAdapter.getYear(t)!=this._dateAdapter.getYear(i))}_getCellCompareValue(t){if(t){const i=this._dateAdapter.getYear(t),r=this._dateAdapter.getMonth(t),s=this._dateAdapter.getDate(t);return new Date(i,r,s).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(t){t instanceof Ns?(this._rangeStart=this._getCellCompareValue(t.start),this._rangeEnd=this._getCellCompareValue(t.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(t),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(t){return!this.dateFilter||this.dateFilter(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO),a.Y36(Z1,8),a.Y36(dr,8),a.Y36(X3,8),a.Y36(Jy,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-month-view"]],viewQuery:function(t,i){if(1&t&&a.Gf(wh,5),2&t){let r;a.iGM(r=a.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[a.TTD],decls:7,vars:15,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName","selectedValueChange","activeDateChange","previewChange","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(t,i){1&t&&(a.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),a.YNc(3,fre,5,2,"th",2),a.qZA(),a.TgZ(4,"tr"),a._UZ(5,"th",3),a.qZA()(),a.TgZ(6,"tbody",4),a.NdJ("selectedValueChange",function(s){return i._dateSelected(s)})("activeDateChange",function(s){return i._updateActiveDate(s)})("previewChange",function(s){return i._previewChanged(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),a.qZA()()),2&t&&(a.xp6(3),a.Q6J("ngForOf",i._weekdays),a.xp6(3),a.Q6J("label",i._monthLabel)("rows",i._weeks)("todayValue",i._todayDate)("startValue",i._rangeStart)("endValue",i._rangeEnd)("comparisonStart",i._comparisonRangeStart)("comparisonEnd",i._comparisonRangeEnd)("previewStart",i._previewStart)("previewEnd",i._previewEnd)("isRange",i._isRange)("labelMinRequiredCells",3)("activeCell",i._dateAdapter.getDate(i.activeDate)-1)("startDateAccessibleName",i.startDateAccessibleName)("endDateAccessibleName",i.endDateAccessibleName))},dependencies:[bi,wh],encapsulation:2,changeDetection:0}),n})(),NP=(()=>{class n{constructor(t,i,r){this._changeDetectorRef=t,this._dateAdapter=i,this._dir=r,this._rerenderSubscription=Gn.w0.EMPTY,this.selectedChange=new a.vpe,this.yearSelected=new a.vpe,this.activeDateChange=new a.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(t){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),RP(this._dateAdapter,i,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(t){this._selected=t instanceof Ns?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setSelectedYear(t)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Nl(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const i=this._dateAdapter.getYear(this._activeDate)-C7(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let r=0,s=[];r<24;r++)s.push(i+r),4==s.length&&(this._years.push(s.map(l=>this._createCellForYear(l))),s=[]);this._changeDetectorRef.markForCheck()}_yearSelected(t){const i=t.value,r=this._dateAdapter.createDate(i,0,1),s=this._getDateFromYear(i);this.yearSelected.emit(r),this.selectedChange.emit(s)}_updateActiveDate(t){const r=this._activeDate;this.activeDate=this._getDateFromYear(t.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(t){const i=this._activeDate,r=this._isRtl();switch(t.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-C7(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-C7(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?-240:-24);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?240:24);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),t.preventDefault()}_handleCalendarBodyKeyup(t){(32===t.keyCode||13===t.keyCode)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_getActiveCell(){return C7(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(t){const i=this._dateAdapter.getMonth(this.activeDate),r=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(t,i,1));return this._dateAdapter.createDate(t,i,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForYear(t){const i=this._dateAdapter.createDate(t,0,1),r=this._dateAdapter.getYearName(i),s=this.dateClass?this.dateClass(i,"multi-year"):void 0;return new gT(t,r,r,this._shouldEnableYear(t),s)}_shouldEnableYear(t){if(null==t||this.maxDate&&t>this._dateAdapter.getYear(this.maxDate)||this.minDate&&t<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let r=this._dateAdapter.createDate(t,0,1);this._dateAdapter.getYear(r)==t;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(t){if(this._selectedYear=null,t instanceof Ns){const i=t.start||t.end;i&&(this._selectedYear=this._dateAdapter.getYear(i))}else t&&(this._selectedYear=this._dateAdapter.getYear(t))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO),a.Y36(dr,8),a.Y36(X3,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-multi-year-view"]],viewQuery:function(t,i){if(1&t&&a.Gf(wh,5),2&t){let r;a.iGM(r=a.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(t,i){1&t&&(a.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),a._UZ(3,"th",2),a.qZA()(),a.TgZ(4,"tbody",3),a.NdJ("selectedValueChange",function(s){return i._yearSelected(s)})("activeDateChange",function(s){return i._updateActiveDate(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),a.qZA()()),2&t&&(a.xp6(4),a.Q6J("rows",i._years)("todayValue",i._todayYear)("startValue",i._selectedYear)("endValue",i._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._getActiveCell()))},dependencies:[wh],encapsulation:2,changeDetection:0}),n})();function RP(n,e,t,i,r){const s=n.getYear(e),l=n.getYear(t),f=PP(n,i,r);return Math.floor((s-f)/24)===Math.floor((l-f)/24)}function C7(n,e,t,i){return function kre(n,e){return(n%e+e)%e}(n.getYear(e)-PP(n,t,i),24)}function PP(n,e,t){let i=0;return t?i=n.getYear(t)-24+1:e&&(i=n.getYear(e)),i}let OP=(()=>{class n{constructor(t,i,r,s){this._changeDetectorRef=t,this._dateFormats=i,this._dateAdapter=r,this._dir=s,this._rerenderSubscription=Gn.w0.EMPTY,this.selectedChange=new a.vpe,this.monthSelected=new a.vpe,this.activeDateChange=new a.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(t){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._dateAdapter.getYear(i)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(t){this._selected=t instanceof Ns?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setSelectedMonth(t)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Nl(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(t){const i=t.value,r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1);this.monthSelected.emit(r);const s=this._getDateFromMonth(i);this.selectedChange.emit(s)}_updateActiveDate(t){const r=this._activeDate;this.activeDate=this._getDateFromMonth(t.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(t){const i=this._activeDate,r=this._isRtl();switch(t.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),t.preventDefault()}_handleCalendarBodyKeyup(t){(32===t.keyCode||13===t.keyCode)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let t=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(i=>i.map(r=>this._createCellForMonth(r,t[r]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(t){return t&&this._dateAdapter.getYear(t)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(t):null}_getDateFromMonth(t){const i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1),r=this._dateAdapter.getNumDaysInMonth(i);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForMonth(t,i){const r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1),s=this._dateAdapter.format(r,this._dateFormats.display.monthYearA11yLabel),l=this.dateClass?this.dateClass(r,"year"):void 0;return new gT(t,i.toLocaleUpperCase(),s,this._shouldEnableMonth(t),l)}_shouldEnableMonth(t){const i=this._dateAdapter.getYear(this.activeDate);if(null==t||this._isYearAndMonthAfterMaxDate(i,t)||this._isYearAndMonthBeforeMinDate(i,t))return!1;if(!this.dateFilter)return!0;for(let s=this._dateAdapter.createDate(i,t,1);this._dateAdapter.getMonth(s)==t;s=this._dateAdapter.addCalendarDays(s,1))if(this.dateFilter(s))return!0;return!1}_isYearAndMonthAfterMaxDate(t,i){if(this.maxDate){const r=this._dateAdapter.getYear(this.maxDate),s=this._dateAdapter.getMonth(this.maxDate);return t>r||t===r&&i>s}return!1}_isYearAndMonthBeforeMinDate(t,i){if(this.minDate){const r=this._dateAdapter.getYear(this.minDate),s=this._dateAdapter.getMonth(this.minDate);return t<r||t===r&&i<s}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(t){this._selectedMonth=t instanceof Ns?this._getMonthInCurrentYear(t.start)||this._getMonthInCurrentYear(t.end):this._getMonthInCurrentYear(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO),a.Y36(Z1,8),a.Y36(dr,8),a.Y36(X3,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-year-view"]],viewQuery:function(t,i){if(1&t&&a.Gf(wh,5),2&t){let r;a.iGM(r=a.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(t,i){1&t&&(a.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),a._UZ(3,"th",2),a.qZA()(),a.TgZ(4,"tbody",3),a.NdJ("selectedValueChange",function(s){return i._monthSelected(s)})("activeDateChange",function(s){return i._updateActiveDate(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),a.qZA()()),2&t&&(a.xp6(4),a.Q6J("label",i._yearLabel)("rows",i._months)("todayValue",i._todayMonth)("startValue",i._selectedMonth)("endValue",i._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._dateAdapter.getMonth(i.activeDate)))},dependencies:[wh],encapsulation:2,changeDetection:0}),n})(),Hre=1,zre=(()=>{class n{constructor(t,i,r,s,l){this._intl=t,this.calendar=i,this._dateAdapter=r,this._dateFormats=s,this._id="mat-calendar-header-"+Hre++,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>l.markForCheck())}get periodButtonText(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(t,i){return"month"==this.calendar.currentView?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(i)&&this._dateAdapter.getMonth(t)==this._dateAdapter.getMonth(i):"year"==this.calendar.currentView?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(i):RP(this._dateAdapter,t,i,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){const i=this._dateAdapter.getYear(this.calendar.activeDate)-C7(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),r=i+24-1;return[this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1)),this._dateAdapter.getYearName(this._dateAdapter.createDate(r,0,1))]}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(b7),a.Y36((0,a.Gpc)(()=>CT)),a.Y36(dr,8),a.Y36(Z1,8),a.Y36(a.sBO))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:dre,decls:13,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"],[1,"mat-calendar-hidden-label",3,"id"]],template:function(t,i){1&t&&(a.F$t(),a.TgZ(0,"div",0)(1,"div",1)(2,"button",2),a.NdJ("click",function(){return i.currentPeriodClicked()}),a.TgZ(3,"span",3),a._uU(4),a.qZA(),a.O4$(),a.TgZ(5,"svg",4),a._UZ(6,"polygon",5),a.qZA()(),a.kcU(),a._UZ(7,"div",6),a.Hsn(8),a.TgZ(9,"button",7),a.NdJ("click",function(){return i.previousClicked()}),a.qZA(),a.TgZ(10,"button",8),a.NdJ("click",function(){return i.nextClicked()}),a.qZA()()(),a.TgZ(11,"label",9),a._uU(12),a.qZA()),2&t&&(a.xp6(2),a.uIk("aria-label",i.periodButtonLabel)("aria-describedby",i._periodButtonLabelId),a.xp6(2),a.Oqu(i.periodButtonText),a.xp6(1),a.ekj("mat-calendar-invert","month"!==i.calendar.currentView),a.xp6(4),a.Q6J("disabled",!i.previousEnabled()),a.uIk("aria-label",i.prevButtonLabel),a.xp6(1),a.Q6J("disabled",!i.nextEnabled()),a.uIk("aria-label",i.nextButtonLabel),a.xp6(1),a.Q6J("id",i._periodButtonLabelId),a.xp6(1),a.Oqu(i.periodButtonDescription))},dependencies:[dP,hP],encapsulation:2,changeDetection:0}),n})(),CT=(()=>{class n{constructor(t,i,r,s){this._dateAdapter=i,this._dateFormats=r,this._changeDetectorRef=s,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new a.vpe,this.yearSelected=new a.vpe,this.monthSelected=new a.vpe,this.viewChanged=new a.vpe(!0),this._userSelection=new a.vpe,this.stateChanges=new Qt.x,this._intlChanges=t.changes.subscribe(()=>{s.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(t){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get selected(){return this._selected}set selected(t){this._selected=t instanceof Ns?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get activeDate(){return this._clampedActiveDate}set activeDate(t){this._clampedActiveDate=this._dateAdapter.clampDate(t,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(t){const i=this._currentView!==t?t:null;this._currentView=t,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),i&&this.viewChanged.emit(i)}ngAfterContentInit(){this._calendarHeaderPortal=new Wy(this.headerComponent||zre),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(t){const i=t.minDate&&!this._dateAdapter.sameDate(t.minDate.previousValue,t.minDate.currentValue)?t.minDate:void 0,r=t.maxDate&&!this._dateAdapter.sameDate(t.maxDate.previousValue,t.maxDate.currentValue)?t.maxDate:void 0,s=i||r||t.dateFilter;if(s&&!s.firstChange){const l=this._getCurrentViewComponent();l&&(this._changeDetectorRef.detectChanges(),l._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(t){const i=t.value;(this.selected instanceof Ns||i&&!this._dateAdapter.sameDate(i,this.selected))&&this.selectedChange.emit(i),this._userSelection.emit(t)}_yearSelectedInMultiYearView(t){this.yearSelected.emit(t)}_monthSelectedInYearView(t){this.monthSelected.emit(t)}_goToDateInView(t,i){this.activeDate=t,this.currentView=i}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(b7),a.Y36(dr,8),a.Y36(Z1,8),a.Y36(a.sBO))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-calendar"]],viewQuery:function(t,i){if(1&t&&(a.Gf(zP,5),a.Gf(OP,5),a.Gf(NP,5)),2&t){let r;a.iGM(r=a.CRH())&&(i.monthView=r.first),a.iGM(r=a.CRH())&&(i.yearView=r.first),a.iGM(r=a.CRH())&&(i.multiYearView=r.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[a._Bn([HP]),a.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDateChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDateChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(t,i){1&t&&(a.YNc(0,hre,0,0,"ng-template",0),a.TgZ(1,"div",1),a.YNc(2,pre,1,10,"mat-month-view",2),a.YNc(3,mre,1,6,"mat-year-view",3),a.YNc(4,gre,1,6,"mat-multi-year-view",4),a.qZA()),2&t&&(a.Q6J("cdkPortalOutlet",i._calendarHeaderPortal),a.xp6(1),a.Q6J("ngSwitch",i.currentView),a.xp6(1),a.Q6J("ngSwitchCase","month"),a.xp6(1),a.Q6J("ngSwitchCase","year"),a.xp6(1),a.Q6J("ngSwitchCase","multi-year"))},dependencies:[Bs,ko,LR,GR,zP,OP,NP],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}.mat-calendar-hidden-label{display:none}'],encapsulation:2,changeDetection:0}),n})();const FP={transformPanel:Yy("transformPanel",[Y6("void => enter-dropdown",q6("120ms cubic-bezier(0, 0, 0.2, 1)",gP([pa({opacity:0,transform:"scale(1, 0.8)"}),pa({opacity:1,transform:"scale(1, 1)"})]))),Y6("void => enter-dialog",q6("150ms cubic-bezier(0, 0, 0.2, 1)",gP([pa({opacity:0,transform:"scale(0.7)"}),pa({transform:"none",opacity:1})]))),Y6("* => void",q6("100ms linear",pa({opacity:0})))]),fadeInCalendar:Yy("fadeInCalendar",[y7("void",pa({opacity:0})),y7("enter",pa({opacity:1})),Y6("void => *",q6("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let Nre=0;const BP=new a.OlP("mat-datepicker-scroll-strategy"),Pre={provide:BP,deps:[Ch],useFactory:function Rre(n){return()=>n.scrollStrategies.reposition()}},Ore=lT(class{constructor(n){this._elementRef=n}});let Fre=(()=>{class n extends Ore{constructor(t,i,r,s,l,f){super(t),this._changeDetectorRef=i,this._globalModel=r,this._dateAdapter=s,this._rangeSelectionStrategy=l,this._subscriptions=new Gn.w0,this._animationDone=new Qt.x,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=f.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(t){const i=this._model.selection,r=t.value,s=i instanceof Ns;if(s&&this._rangeSelectionStrategy){const l=this._rangeSelectionStrategy.selectionFinished(r,i,t.event);this._model.updateSelection(l,this)}else r&&(s||!this._dateAdapter.sameDate(r,i))&&this._model.add(r);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(t){this._isAnimating="start"===t.phaseName,this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(t,i){this._model=t?this._globalModel.clone():this._globalModel,this._actionsPortal=t,i&&this._changeDetectorRef.detectChanges()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(J3),a.Y36(dr),a.Y36(Jy,8),a.Y36(b7))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-datepicker-content"]],viewQuery:function(t,i){if(1&t&&a.Gf(CT,5),2&t){let r;a.iGM(r=a.CRH())&&(i._calendar=r.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(t,i){1&t&&a.WFA("@transformPanel.start",function(s){return i._handleAnimationEvent(s)})("@transformPanel.done",function(s){return i._handleAnimationEvent(s)}),2&t&&(a.d8E("@transformPanel",i._animationState),a.ekj("mat-datepicker-content-touch",i.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[a.qOj],decls:5,vars:26,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","yearSelected","monthSelected","viewChanged","_userSelection"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(t,i){if(1&t&&(a.TgZ(0,"div",0)(1,"mat-calendar",1),a.NdJ("yearSelected",function(s){return i.datepicker._selectYear(s)})("monthSelected",function(s){return i.datepicker._selectMonth(s)})("viewChanged",function(s){return i.datepicker._viewChanged(s)})("_userSelection",function(s){return i._handleUserSelection(s)}),a.qZA(),a.YNc(2,_re,0,0,"ng-template",2),a.TgZ(3,"button",3),a.NdJ("focus",function(){return i._closeButtonFocused=!0})("blur",function(){return i._closeButtonFocused=!1})("click",function(){return i.datepicker.close()}),a._uU(4),a.qZA()()),2&t){let r;a.ekj("mat-datepicker-content-container-with-custom-header",i.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",i._actionsPortal),a.uIk("aria-modal",!0)("aria-labelledby",null!==(r=i._dialogLabelId)&&void 0!==r?r:void 0),a.xp6(1),a.Q6J("id",i.datepicker.id)("ngClass",i.datepicker.panelClass)("startAt",i.datepicker.startAt)("startView",i.datepicker.startView)("minDate",i.datepicker._getMinDate())("maxDate",i.datepicker._getMaxDate())("dateFilter",i.datepicker._getDateFilter())("headerComponent",i.datepicker.calendarHeaderComponent)("selected",i._getSelected())("dateClass",i.datepicker.dateClass)("comparisonStart",i.comparisonStart)("comparisonEnd",i.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",i.startDateAccessibleName)("endDateAccessibleName",i.endDateAccessibleName),a.xp6(1),a.Q6J("cdkPortalOutlet",i._actionsPortal),a.xp6(1),a.ekj("cdk-visually-hidden",!i._closeButtonFocused),a.Q6J("color",i.color||"primary"),a.xp6(1),a.Oqu(i._closeButtonText)}},dependencies:[xi,dP,Kte,GR,CT],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[FP.transformPanel,FP.fadeInCalendar]},changeDetection:0}),n})(),ex=(()=>{class n{constructor(t,i,r,s,l,f,p){this._overlay=t,this._ngZone=i,this._viewContainerRef=r,this._dateAdapter=l,this._dir=f,this._model=p,this._inputStateChanges=Gn.w0.EMPTY,this._document=(0,a.f3M)(ce),this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new a.vpe,this.monthSelected=new a.vpe,this.viewChanged=new a.vpe(!0),this.openedStream=new a.vpe,this.closedStream=new a.vpe,this._opened=!1,this.id="mat-datepicker-"+Nre++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new Qt.x,this._scrollStrategy=s}get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(t){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(t){this._color=t}get touchUi(){return this._touchUi}set touchUi(t){this._touchUi=fr(t)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(t){const i=fr(t);i!==this._disabled&&(this._disabled=i,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(t){this._restoreFocus=fr(t)}get panelClass(){return this._panelClass}set panelClass(t){this._panelClass=function Dte(n,e=/\s+/){const t=[];if(null!=n){const i=Array.isArray(n)?n:`${n}`.split(e);for(const r of i){const s=`${r}`.trim();s&&t.push(s)}}return t}(t)}get opened(){return this._opened}set opened(t){fr(t)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}ngOnChanges(t){const i=t.xPosition||t.yPosition;if(i&&!i.firstChange&&this._overlayRef){const r=this._overlayRef.getConfig().positionStrategy;r instanceof eP&&(this._setConnectedPositions(r),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(t){this._model.add(t)}_selectYear(t){this.yearSelected.emit(t)}_selectMonth(t){this.monthSelected.emit(t)}_viewChanged(t){this.viewChanged.emit(t)}registerInput(t){return this._inputStateChanges.unsubscribe(),this.datepickerInput=t,this._inputStateChanges=t.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(t){this._actionsPortal=t,this._componentRef?.instance._assignActions(t,!0)}removeActions(t){t===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this._focusedElementBeforeOpen=mR(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;const t=this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus,i=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){const{instance:r,location:s}=this._componentRef;r._startExitAnimation(),r._animationDone.pipe(Rr(1)).subscribe(()=>{const l=this._document.activeElement;t&&(!l||l===this._document.activeElement||s.nativeElement.contains(l))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}t?setTimeout(i):i()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(t){t.datepicker=this,t.color=this.color,t._dialogLabelId=this.datepickerInput.getOverlayLabelId(),t._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const t=this.touchUi,i=new Wy(Fre,this._viewContainerRef),r=this._overlayRef=this._overlay.create(new KR({positionStrategy:t?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[t?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:t?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(t?"dialog":"popup")}));this._getCloseStream(r).subscribe(s=>{s&&s.preventDefault(),this.close()}),r.keydownEvents().subscribe(s=>{const l=s.keyCode;(38===l||40===l||37===l||39===l||33===l||34===l)&&s.preventDefault()}),this._componentRef=r.attach(i),this._forwardContentValues(this._componentRef.instance),t||this._ngZone.onStable.pipe(Rr(1)).subscribe(()=>r.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const t=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(t)}_setConnectedPositions(t){const i="end"===this.xPosition?"end":"start",r="start"===i?"end":"start",s="above"===this.yPosition?"bottom":"top",l="top"===s?"bottom":"top";return t.withPositions([{originX:i,originY:l,overlayX:i,overlayY:s},{originX:i,originY:s,overlayX:i,overlayY:l},{originX:r,originY:l,overlayX:r,overlayY:s},{originX:r,originY:s,overlayX:r,overlayY:l}])}_getCloseStream(t){return(0,il.T)(t.backdropClick(),t.detachments(),t.keydownEvents().pipe(es(i=>27===i.keyCode&&!Ny(i)||this.datepickerInput&&Ny(i,"altKey")&&38===i.keyCode)))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Ch),a.Y36(a.R0b),a.Y36(a.s_b),a.Y36(BP),a.Y36(dr,8),a.Y36(X3,8),a.Y36(J3))},n.\u0275dir=a.lG2({type:n,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[a.TTD]}),n})(),Bre=(()=>{class n extends ex{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[a._Bn([HP,{provide:ex,useExisting:n}]),a.qOj],decls:0,vars:0,template:function(t,i){},encapsulation:2,changeDetection:0}),n})();class tx{constructor(e,t){this.target=e,this.targetElement=t,this.value=this.target.value}}let UP=(()=>{class n{constructor(t,i,r){this._elementRef=t,this._dateAdapter=i,this._dateFormats=r,this.dateChange=new a.vpe,this.dateInput=new a.vpe,this.stateChanges=new Qt.x,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=Gn.w0.EMPTY,this._localeSubscription=Gn.w0.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=s=>{const l=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value));return!l||this._matchesFilter(l)?null:{matDatepickerFilter:!0}},this._minValidator=s=>{const l=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),f=this._getMinDate();return!f||!l||this._dateAdapter.compareDate(f,l)<=0?null:{matDatepickerMin:{min:f,actual:l}}},this._maxValidator=s=>{const l=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),f=this._getMaxDate();return!f||!l||this._dateAdapter.compareDate(f,l)>=0?null:{matDatepickerMax:{max:f,actual:l}}},this._lastValueValid=!1,this._localeSubscription=i.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(t){this._assignValueProgrammatically(t)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(t){const i=fr(t),r=this._elementRef.nativeElement;this._disabled!==i&&(this._disabled=i,this.stateChanges.next(void 0)),i&&this._isInitialized&&r.blur&&r.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(t){this._model=t,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(i=>{if(this._shouldHandleChangeEvent(i)){const r=this._getValueFromModel(i.selection);this._lastValueValid=this._isValidValue(r),this._cvaOnChange(r),this._onTouched(),this._formatValue(r),this.dateInput.emit(new tx(this,this._elementRef.nativeElement)),this.dateChange.emit(new tx(this,this._elementRef.nativeElement))}})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(t){jP(t,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(t){this._validatorOnChange=t}validate(t){return this._validator?this._validator(t):null}writeValue(t){this._assignValueProgrammatically(t)}registerOnChange(t){this._cvaOnChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_onKeydown(t){t.altKey&&40===t.keyCode&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),t.preventDefault())}_onInput(t){const i=this._lastValueValid;let r=this._dateAdapter.parse(t,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(r),r=this._dateAdapter.getValidDateOrNull(r);const s=!this._dateAdapter.sameDate(r,this.value);!r||s?this._cvaOnChange(r):(t&&!this.value&&this._cvaOnChange(r),i!==this._lastValueValid&&this._validatorOnChange()),s&&(this._assignValue(r),this.dateInput.emit(new tx(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new tx(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(t){this._elementRef.nativeElement.value=null!=t?this._dateAdapter.format(t,this._dateFormats.display.dateInput):""}_assignValue(t){this._model?(this._assignValueToModel(t),this._pendingValue=null):this._pendingValue=t}_isValidValue(t){return!t||this._dateAdapter.isValid(t)}_parentDisabled(){return!1}_assignValueProgrammatically(t){t=this._dateAdapter.deserialize(t),this._lastValueValid=this._isValidValue(t),t=this._dateAdapter.getValidDateOrNull(t),this._assignValue(t),this._formatValue(t)}_matchesFilter(t){const i=this._getDateFilter();return!i||i(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(dr,8),a.Y36(Z1,8))},n.\u0275dir=a.lG2({type:n,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[a.TTD]}),n})();function jP(n,e){const t=Object.keys(n);for(let i of t){const{previousValue:r,currentValue:s}=n[i];if(!e.isDateInstance(r)||!e.isDateInstance(s))return!0;if(!e.sameDate(r,s))return!0}return!1}const Ure={provide:to,useExisting:(0,a.Gpc)(()=>wT),multi:!0},jre={provide:rr,useExisting:(0,a.Gpc)(()=>wT),multi:!0};let wT=(()=>{class n extends UP{constructor(t,i,r,s){super(t,i,r),this._formField=s,this._closedSubscription=Gn.w0.EMPTY,this._validator=pi.compose(super._getValidators())}set matDatepicker(t){t&&(this._datepicker=t,this._closedSubscription=t.closedStream.subscribe(()=>this._onTouched()),this._registerModel(t.registerInput(this)))}get min(){return this._min}set min(t){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t));this._dateAdapter.sameDate(i,this._min)||(this._min=i,this._validatorOnChange())}get max(){return this._max}set max(t){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t));this._dateAdapter.sameDate(i,this._max)||(this._max=i,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(t){const i=this._matchesFilter(this.value);this._dateFilter=t,this._matchesFilter(this.value)!==i&&this._validatorOnChange()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(t){return t}_assignValueToModel(t){this._model&&this._model.updateSelection(t,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(t){return t.source!==this}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(dr,8),a.Y36(Z1,8),a.Y36(Xy,8))},n.\u0275dir=a.lG2({type:n,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(t,i){1&t&&a.NdJ("input",function(s){return i._onInput(s.target.value)})("change",function(){return i._onChange()})("blur",function(){return i._onBlur()})("keydown",function(s){return i._onKeydown(s)}),2&t&&(a.Ikx("disabled",i.disabled),a.uIk("aria-haspopup",i._datepicker?"dialog":null)("aria-owns",(null==i._datepicker?null:i._datepicker.opened)&&i._datepicker.id||null)("min",i.min?i._dateAdapter.toIso8601(i.min):null)("max",i.max?i._dateAdapter.toIso8601(i.max):null)("data-mat-calendar",i._datepicker?i._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[a._Bn([Ure,jre,{provide:VP,useExisting:n}]),a.qOj]}),n})(),$re=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","matDatepickerToggleIcon",""]]}),n})(),$P=(()=>{class n{constructor(t,i,r){this._intl=t,this._changeDetectorRef=i,this._stateChanges=Gn.w0.EMPTY;const s=Number(r);this.tabIndex=s||0===s?s:null}get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(t){this._disabled=fr(t)}ngOnChanges(t){t.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(t){this.datepicker&&!this.disabled&&(this.datepicker.open(),t.stopPropagation())}_watchStateChanges(){const t=this.datepicker?this.datepicker.stateChanges:Qe(),i=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:Qe(),r=this.datepicker?(0,il.T)(this.datepicker.openedStream,this.datepicker.closedStream):Qe();this._stateChanges.unsubscribe(),this._stateChanges=(0,il.T)(this._intl.changes,t,i,r).subscribe(()=>this._changeDetectorRef.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(b7),a.Y36(a.sBO),a.$8M("tabindex"))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-datepicker-toggle"]],contentQueries:function(t,i,r){if(1&t&&a.Suo(r,$re,5),2&t){let s;a.iGM(s=a.CRH())&&(i._customIcon=s.first)}},viewQuery:function(t,i){if(1&t&&a.Gf(vre,5),2&t){let r;a.iGM(r=a.CRH())&&(i._button=r.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(t,i){1&t&&a.NdJ("click",function(s){return i._open(s)}),2&t&&(a.uIk("tabindex",null)("data-mat-calendar",i.datepicker?i.datepicker.id:null),a.ekj("mat-datepicker-toggle-active",i.datepicker&&i.datepicker.opened)("mat-accent",i.datepicker&&"accent"===i.datepicker.color)("mat-warn",i.datepicker&&"warn"===i.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[a.TTD],ngContentSelectors:bre,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(t,i){1&t&&(a.F$t(xre),a.TgZ(0,"button",0,1),a.YNc(2,yre,2,0,"svg",2),a.Hsn(3),a.qZA()),2&t&&(a.Q6J("disabled",i.disabled)("disableRipple",i.disableRipple),a.uIk("aria-haspopup",i.datepicker?"dialog":null)("aria-label",i.ariaLabel||i._intl.openCalendarLabel)("tabindex",i.disabled?-1:i.tabIndex),a.xp6(2),a.Q6J("ngIf",!i._customIcon))},dependencies:[dn,hP],styles:[".mat-datepicker-toggle{pointer-events:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0}),n})();function Gre(n){return MT(n,!0)}function GP(n){return n.nodeType===Node.ELEMENT_NODE}function MT(n,e){if(GP(n)&&e){const i=(n.getAttribute?.("aria-labelledby")?.split(/\s+/g)||[]).reduce((r,s)=>{const l=document.getElementById(s);return l&&r.push(l),r},[]);if(i.length)return i.map(r=>MT(r,!1)).join(" ")}if(GP(n)){const t=n.getAttribute("aria-label")?.trim();if(t)return t}if(function Wre(n){return"INPUT"===n.nodeName}(n)||function qre(n){return"TEXTAREA"===n.nodeName}(n)){if(n.labels?.length)return Array.from(n.labels).map(r=>MT(r,!1)).join(" ");const t=n.getAttribute("placeholder")?.trim();if(t)return t;const i=n.getAttribute("title")?.trim();if(i)return i}return(n.textContent||"").replace(/\s+/g," ").trim()}const nx=new a.OlP("MAT_DATE_RANGE_INPUT_PARENT"),WP=aP((()=>{class n extends UP{constructor(t,i,r,s,l,f,p,_){super(i,p,_),this._rangeInput=t,this._elementRef=i,this._defaultErrorStateMatcher=r,this._injector=s,this._parentForm=l,this._parentFormGroup=f,this._dir=(0,a.f3M)(X3,{optional:!0})}ngOnInit(){const t=this._injector.get(na,null,{optional:!0,self:!0});t&&(this.ngControl=t)}ngDoCheck(){this.ngControl&&this.updateErrorState()}isEmpty(){return 0===this._elementRef.nativeElement.value.length}_getPlaceholder(){return this._elementRef.nativeElement.placeholder}focus(){this._elementRef.nativeElement.focus()}getMirrorValue(){const t=this._elementRef.nativeElement,i=t.value;return i.length>0?i:t.placeholder}_onInput(t){super._onInput(t),this._rangeInput._handleChildValueChange()}_openPopup(){this._rangeInput._openDatepicker()}_getMinDate(){return this._rangeInput.min}_getMaxDate(){return this._rangeInput.max}_getDateFilter(){return this._rangeInput.dateFilter}_parentDisabled(){return this._rangeInput._groupDisabled}_shouldHandleChangeEvent({source:t}){return t!==this._rangeInput._startInput&&t!==this._rangeInput._endInput}_assignValueProgrammatically(t){super._assignValueProgrammatically(t),(this===this._rangeInput._startInput?this._rangeInput._endInput:this._rangeInput._startInput)?._validatorOnChange()}_getAccessibleName(){return Gre(this._elementRef.nativeElement)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(nx),a.Y36(a.SBq),a.Y36(qy),a.Y36(a.zs3),a.Y36(Gc,8),a.Y36(ia,8),a.Y36(dr,8),a.Y36(Z1,8))},n.\u0275dir=a.lG2({type:n,features:[a.qOj]}),n})());let qP=(()=>{class n extends WP{constructor(t,i,r,s,l,f,p,_){super(t,i,r,s,l,f,p,_),this._startValidator=x=>{const M=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(x.value)),I=this._model?this._model.selection.end:null;return!M||!I||this._dateAdapter.compareDate(M,I)<=0?null:{matStartDateInvalid:{end:I,actual:M}}},this._validator=pi.compose([...super._getValidators(),this._startValidator])}_getValueFromModel(t){return t.start}_shouldHandleChangeEvent(t){return!(!super._shouldHandleChangeEvent(t)||(t.oldValue?.start?t.selection.start&&!this._dateAdapter.compareDate(t.oldValue.start,t.selection.start):!t.selection.start))}_assignValueToModel(t){if(this._model){const i=new Ns(t,this._model.selection.end);this._model.updateSelection(i,this)}}_formatValue(t){super._formatValue(t),this._rangeInput._handleChildValueChange()}_onKeydown(t){const i=this._rangeInput._endInput,r=this._elementRef.nativeElement,s="rtl"!==this._dir?.value;(39===t.keyCode&&s||37===t.keyCode&&!s)&&r.selectionStart===r.value.length&&r.selectionEnd===r.value.length?(t.preventDefault(),i._elementRef.nativeElement.setSelectionRange(0,0),i.focus()):super._onKeydown(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(nx),a.Y36(a.SBq),a.Y36(qy),a.Y36(a.zs3),a.Y36(Gc,8),a.Y36(ia,8),a.Y36(dr,8),a.Y36(Z1,8))},n.\u0275dir=a.lG2({type:n,selectors:[["input","matStartDate",""]],hostAttrs:["type","text",1,"mat-start-date","mat-date-range-input-inner"],hostVars:5,hostBindings:function(t,i){1&t&&a.NdJ("input",function(s){return i._onInput(s.target.value)})("change",function(){return i._onChange()})("keydown",function(s){return i._onKeydown(s)})("blur",function(){return i._onBlur()}),2&t&&(a.Ikx("disabled",i.disabled),a.uIk("aria-haspopup",i._rangeInput.rangePicker?"dialog":null)("aria-owns",(null==i._rangeInput.rangePicker?null:i._rangeInput.rangePicker.opened)&&i._rangeInput.rangePicker.id||null)("min",i._getMinDate()?i._dateAdapter.toIso8601(i._getMinDate()):null)("max",i._getMaxDate()?i._dateAdapter.toIso8601(i._getMaxDate()):null))},inputs:{errorStateMatcher:"errorStateMatcher"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[a._Bn([{provide:to,useExisting:n,multi:!0},{provide:rr,useExisting:n,multi:!0}]),a.qOj]}),n})(),YP=(()=>{class n extends WP{constructor(t,i,r,s,l,f,p,_){super(t,i,r,s,l,f,p,_),this._endValidator=x=>{const M=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(x.value)),I=this._model?this._model.selection.start:null;return!M||!I||this._dateAdapter.compareDate(M,I)>=0?null:{matEndDateInvalid:{start:I,actual:M}}},this._validator=pi.compose([...super._getValidators(),this._endValidator])}_getValueFromModel(t){return t.end}_shouldHandleChangeEvent(t){return!(!super._shouldHandleChangeEvent(t)||(t.oldValue?.end?t.selection.end&&!this._dateAdapter.compareDate(t.oldValue.end,t.selection.end):!t.selection.end))}_assignValueToModel(t){if(this._model){const i=new Ns(this._model.selection.start,t);this._model.updateSelection(i,this)}}_onKeydown(t){const i=this._rangeInput._startInput,r=this._elementRef.nativeElement,s="rtl"!==this._dir?.value;if(8!==t.keyCode||r.value)if((37===t.keyCode&&s||39===t.keyCode&&!s)&&0===r.selectionStart&&0===r.selectionEnd){t.preventDefault();const l=i._elementRef.nativeElement.value.length;i._elementRef.nativeElement.setSelectionRange(l,l),i.focus()}else super._onKeydown(t);else i.focus()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(nx),a.Y36(a.SBq),a.Y36(qy),a.Y36(a.zs3),a.Y36(Gc,8),a.Y36(ia,8),a.Y36(dr,8),a.Y36(Z1,8))},n.\u0275dir=a.lG2({type:n,selectors:[["input","matEndDate",""]],hostAttrs:["type","text",1,"mat-end-date","mat-date-range-input-inner"],hostVars:5,hostBindings:function(t,i){1&t&&a.NdJ("input",function(s){return i._onInput(s.target.value)})("change",function(){return i._onChange()})("keydown",function(s){return i._onKeydown(s)})("blur",function(){return i._onBlur()}),2&t&&(a.Ikx("disabled",i.disabled),a.uIk("aria-haspopup",i._rangeInput.rangePicker?"dialog":null)("aria-owns",(null==i._rangeInput.rangePicker?null:i._rangeInput.rangePicker.opened)&&i._rangeInput.rangePicker.id||null)("min",i._getMinDate()?i._dateAdapter.toIso8601(i._getMinDate()):null)("max",i._getMaxDate()?i._dateAdapter.toIso8601(i._getMaxDate()):null))},inputs:{errorStateMatcher:"errorStateMatcher"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[a._Bn([{provide:to,useExisting:n,multi:!0},{provide:rr,useExisting:n,multi:!0}]),a.qOj]}),n})(),Yre=0,Zre=(()=>{class n{constructor(t,i,r,s,l){if(this._changeDetectorRef=t,this._elementRef=i,this._dateAdapter=s,this._formField=l,this._closedSubscription=Gn.w0.EMPTY,this.id="mat-date-range-input-"+Yre++,this.focused=!1,this.controlType="mat-date-range-input",this._groupDisabled=!1,this._ariaDescribedBy=null,this.separator="\u2013",this.comparisonStart=null,this.comparisonEnd=null,this.stateChanges=new Qt.x,l?._elementRef.nativeElement.classList.contains("mat-mdc-form-field")){const f=i.nativeElement.classList;f.add("mat-mdc-input-element"),f.add("mat-mdc-form-field-input-control")}this.ngControl=r}get value(){return this._model?this._model.selection:null}get shouldLabelFloat(){return this.focused||!this.empty}get placeholder(){const t=this._startInput?._getPlaceholder()||"",i=this._endInput?._getPlaceholder()||"";return t||i?`${t} ${this.separator} ${i}`:""}get rangePicker(){return this._rangePicker}set rangePicker(t){t&&(this._model=t.registerInput(this),this._rangePicker=t,this._closedSubscription.unsubscribe(),this._closedSubscription=t.closedStream.subscribe(()=>{this._startInput?._onTouched(),this._endInput?._onTouched()}),this._registerModel(this._model))}get required(){return!!this._required}set required(t){this._required=fr(t)}get dateFilter(){return this._dateFilter}set dateFilter(t){const i=this._startInput,r=this._endInput,s=i&&i._matchesFilter(i.value),l=r&&r._matchesFilter(i.value);this._dateFilter=t,i&&i._matchesFilter(i.value)!==s&&i._validatorOnChange(),r&&r._matchesFilter(r.value)!==l&&r._validatorOnChange()}get min(){return this._min}set min(t){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t));this._dateAdapter.sameDate(i,this._min)||(this._min=i,this._revalidate())}get max(){return this._max}set max(t){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t));this._dateAdapter.sameDate(i,this._max)||(this._max=i,this._revalidate())}get disabled(){return this._startInput&&this._endInput?this._startInput.disabled&&this._endInput.disabled:this._groupDisabled}set disabled(t){const i=fr(t);i!==this._groupDisabled&&(this._groupDisabled=i,this.stateChanges.next(void 0))}get errorState(){return!(!this._startInput||!this._endInput)&&(this._startInput.errorState||this._endInput.errorState)}get empty(){const t=!!this._startInput&&this._startInput.isEmpty(),i=!!this._endInput&&this._endInput.isEmpty();return t&&i}setDescribedByIds(t){this._ariaDescribedBy=t.length?t.join(" "):null}onContainerClick(){!this.focused&&!this.disabled&&(this._model&&this._model.selection.start?this._endInput.focus():this._startInput.focus())}ngAfterContentInit(){this._model&&this._registerModel(this._model),(0,il.T)(this._startInput.stateChanges,this._endInput.stateChanges).subscribe(()=>{this.stateChanges.next(void 0)})}ngOnChanges(t){jP(t,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._closedSubscription.unsubscribe(),this.stateChanges.complete()}getStartValue(){return this.value?this.value.start:null}getThemePalette(){return this._formField?this._formField.color:void 0}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():null}_getInputMirrorValue(t){const i="start"===t?this._startInput:this._endInput;return i?i.getMirrorValue():""}_shouldHidePlaceholders(){return!!this._startInput&&!this._startInput.isEmpty()}_handleChildValueChange(){this.stateChanges.next(void 0),this._changeDetectorRef.markForCheck()}_openDatepicker(){this._rangePicker&&this._rangePicker.open()}_shouldHideSeparator(){return(!this._formField||this._formField.getLabelId()&&!this._formField._shouldLabelFloat())&&this.empty}_getAriaLabelledby(){const t=this._formField;return t&&t._hasFloatingLabel()?t._labelId:null}_getStartDateAccessibleName(){return this._startInput._getAccessibleName()}_getEndDateAccessibleName(){return this._endInput._getAccessibleName()}_updateFocus(t){this.focused=null!==t,this.stateChanges.next()}_revalidate(){this._startInput&&this._startInput._validatorOnChange(),this._endInput&&this._endInput._validatorOnChange()}_registerModel(t){this._startInput&&this._startInput._registerModel(t),this._endInput&&this._endInput._registerModel(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(Pr,10),a.Y36(dr,8),a.Y36(Xy,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-date-range-input"]],contentQueries:function(t,i,r){if(1&t&&(a.Suo(r,qP,5),a.Suo(r,YP,5)),2&t){let s;a.iGM(s=a.CRH())&&(i._startInput=s.first),a.iGM(s=a.CRH())&&(i._endInput=s.first)}},hostAttrs:["role","group",1,"mat-date-range-input"],hostVars:8,hostBindings:function(t,i){2&t&&(a.uIk("id",i.id)("aria-labelledby",i._getAriaLabelledby())("aria-describedby",i._ariaDescribedBy)("data-mat-calendar",i.rangePicker?i.rangePicker.id:null),a.ekj("mat-date-range-input-hide-placeholders",i._shouldHidePlaceholders())("mat-date-range-input-required",i.required))},inputs:{rangePicker:"rangePicker",required:"required",dateFilter:"dateFilter",min:"min",max:"max",disabled:"disabled",separator:"separator",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},exportAs:["matDateRangeInput"],features:[a._Bn([{provide:pT,useExisting:n},{provide:nx,useExisting:n}]),a.TTD],ngContentSelectors:wre,decls:11,vars:5,consts:[["cdkMonitorSubtreeFocus","",1,"mat-date-range-input-container",3,"cdkFocusChange"],[1,"mat-date-range-input-wrapper"],["aria-hidden","true",1,"mat-date-range-input-mirror"],[1,"mat-date-range-input-separator"],[1,"mat-date-range-input-wrapper","mat-date-range-input-end-wrapper"]],template:function(t,i){1&t&&(a.F$t(Cre),a.TgZ(0,"div",0),a.NdJ("cdkFocusChange",function(s){return i._updateFocus(s)}),a.TgZ(1,"div",1),a.Hsn(2),a.TgZ(3,"span",2),a._uU(4),a.qZA()(),a.TgZ(5,"span",3),a._uU(6),a.qZA(),a.TgZ(7,"div",4),a.Hsn(8,1),a.TgZ(9,"span",2),a._uU(10),a.qZA()()()),2&t&&(a.xp6(4),a.Oqu(i._getInputMirrorValue("start")),a.xp6(1),a.ekj("mat-date-range-input-separator-hidden",i._shouldHideSeparator()),a.xp6(1),a.Oqu(i.separator),a.xp6(4),a.Oqu(i._getInputMirrorValue("end")))},dependencies:[LR],styles:[".mat-date-range-input{display:block;width:100%}.mat-date-range-input-container{display:flex;align-items:center}.mat-date-range-input-separator{transition:opacity 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);margin:0 4px}._mat-animation-noopable .mat-date-range-input-separator{transition:none}.mat-date-range-input-separator-hidden{-webkit-user-select:none;user-select:none;opacity:0;transition:none}.mat-date-range-input-wrapper{position:relative;overflow:hidden;max-width:calc(50% - 4px)}.mat-date-range-input-end-wrapper{flex-grow:1}.mat-date-range-input-inner{position:absolute;top:0;left:0;font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;vertical-align:bottom;text-align:inherit;-webkit-appearance:none;width:100%;height:100%}.mat-date-range-input-inner:-moz-ui-invalid{box-shadow:none}.mat-date-range-input-inner::placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-date-range-input-inner::-moz-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-date-range-input-inner::-webkit-input-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-date-range-input-inner:-ms-input-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-date-range-input-inner::placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner::placeholder{-webkit-user-select:none;user-select:none;color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-date-range-input-inner::placeholder,.cdk-high-contrast-active .mat-date-range-input-hide-placeholders .mat-date-range-input-inner::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-date-range-input-inner::-moz-placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-moz-placeholder{-webkit-user-select:none;user-select:none;color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-date-range-input-inner::-moz-placeholder,.cdk-high-contrast-active .mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-date-range-input-inner::-webkit-input-placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-date-range-input-inner::-webkit-input-placeholder,.cdk-high-contrast-active .mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-date-range-input-inner:-ms-input-placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner:-ms-input-placeholder{-webkit-user-select:none;user-select:none;color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-date-range-input-inner:-ms-input-placeholder,.cdk-high-contrast-active .mat-date-range-input-hide-placeholders .mat-date-range-input-inner:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-date-range-input-inner::placeholder{transition:none}._mat-animation-noopable .mat-date-range-input-inner::-moz-placeholder{transition:none}._mat-animation-noopable .mat-date-range-input-inner::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-date-range-input-inner:-ms-input-placeholder{transition:none}.mat-date-range-input-mirror{-webkit-user-select:none;user-select:none;visibility:hidden;white-space:nowrap;display:inline-block;min-width:2px}.mat-mdc-form-field-type-mat-date-range-input .mat-mdc-form-field-infix{width:200px}"],encapsulation:2,changeDetection:0}),n})(),Kre=(()=>{class n extends ex{_forwardContentValues(t){super._forwardContentValues(t);const i=this.datepickerInput;i&&(t.comparisonStart=i.comparisonStart,t.comparisonEnd=i.comparisonEnd,t.startDateAccessibleName=i._getStartDateAccessibleName(),t.endDateAccessibleName=i._getEndDateAccessibleName())}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-date-range-picker"]],exportAs:["matDateRangePicker"],features:[a._Bn([Ire,Lre,{provide:ex,useExisting:n}]),a.qOj],decls:0,vars:0,template:function(t,i){},encapsulation:2,changeDetection:0}),n})(),Qre=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[b7,Pre],imports:[hs,xie,rP,NR,WR,ha,Gy]}),n})();const Xre=["plusbutton"],Jre=["rmbutton"];function ese(n,e){if(1&n&&(a.TgZ(0,"div",19),a._uU(1),a.ALo(2,"uppercase"),a.qZA()),2&n){const t=a.oxw();a.xp6(1),a.Oqu(a.lcZ(2,1,t.name))}}function tse(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",20),a.NdJ("click",function(r){a.CHM(t);const s=a.oxw();return a.KtG(s.removeTour(r))}),a._uU(1,"\u274c"),a.qZA()}}function nse(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",21)(1,"img",22),a.NdJ("click",function(){a.CHM(t);const r=a.oxw();return a.KtG(r.openDetails())}),a.qZA()()}if(2&n){const t=a.oxw();a.xp6(1),a.s9C("src",t.photo_src,a.LSH)}}function ise(n,e){if(1&n&&(a.TgZ(0,"div",23),a._uU(1),a.ALo(2,"uppercase"),a.qZA()),2&n){const t=a.oxw();a.xp6(1),a.Oqu(a.lcZ(2,1,t.country_of_dest))}}function rse(n,e){if(1&n&&(a.TgZ(0,"div",24)(1,"div",25),a._uU(2),a.ALo(3,"date"),a.qZA(),a.TgZ(4,"div",26),a._uU(5),a.ALo(6,"date"),a.qZA()()),2&n){const t=a.oxw();a.xp6(2),a.hij("Start: ",a.lcZ(3,2,t.start_date.toDate()),""),a.xp6(3),a.hij("Koniec: ",a.lcZ(6,4,t.end_date.toDate()),"")}}function sse(n,e){if(1&n&&(a.TgZ(0,"div",27),a._uU(1),a.qZA()),2&n){const t=a.oxw();a.xp6(1),a.Oqu(t.description)}}const ZP=function(n){return{display:n}};function ose(n,e){if(1&n&&(a.TgZ(0,"div",28),a._uU(1,"Brak miejsc"),a.qZA()),2&n){const t=a.oxw();a.Q6J("ngStyle",a.VKq(1,ZP,0==t.curr_state?"block":"none"))}}function ase(n,e){if(1&n&&(a.TgZ(0,"div",29),a._uU(1,"Ostatnie miejsca"),a.qZA()),2&n){const t=a.oxw();a.Q6J("ngStyle",a.VKq(1,ZP,t.curr_state<=3&&t.curr_state>0?"block":"none"))}}function cse(n,e){if(1&n&&(a.TgZ(0,"div",30),a._uU(1),a.ALo(2,"currency"),a.qZA()),2&n){const t=a.oxw();a.xp6(1),a.hij("Cena: ",a.xi3(2,1,t.unit_price,"EUR"),"")}}function lse(n,e){1&n&&a._UZ(0,"div",31)}const use=function(n){return{height:n}};class w7{constructor(e,t,i){this.service=e,this.router=t,this.fire=i,this.notifyParent=new a.vpe,this.updateLocalDatabase=new a.vpe,this.disableCurrItem=new a.vpe,this.enableCurrItem=new a.vpe,this.special=!0,this.enabled=!0,this.max_price=!1,this.min_price=!1,this.review_buttons_enabled=!1,this.reviews=[],this.avg_review="Brak"}ngOnInit(){}ngAfterViewInit(){try{this.state_service()}catch{}}check_enabled_disabled(){0==this.curr_state?(this.disableCurrItem.emit(this.id),this.enabled=!1):0!=this.curr_state&&0==this.enabled&&(this.enableCurrItem.emit(this.id),this.enabled=!0)}state_service(){this.check_enabled_disabled(),this.curr_state==this.max_people?(this.rm_handle.nativeElement.style.display="none",this.rm_handle.enabled=!1,this.add_handle.enabled=!0,this.add_handle.nativeElement.style.display=""):(this.rm_handle.nativeElement.style.display="",this.rm_handle.enabled=!0,0==this.curr_state?(this.add_handle.nativeElement.style.display="none",this.add_handle.enabled=!1):(this.add_handle.nativeElement.style.display="",this.add_handle.enabled=!0))}add_click(){this.add_handle.enabled&&(this.curr_state-=1,this.notifyParent.emit({val:-1,id:this.id,curr:this.curr_state})),this.state_service(),this.service.tourAdded.emit({name:this.name,country:this.country_of_dest,price:this.unit_price,id:this.id,counter:1})}rm_click(){this.rm_handle.enabled&&(this.curr_state+=1,this.notifyParent.emit({val:1,id:this.id,curr:this.curr_state})),this.state_service(),this.service.tourReturned.emit({name:this.name,country:this.country_of_dest,price:this.unit_price,id:this.id,counter:-1})}removeTour(e){this.service.tourReturned.emit({name:this.name,country:this.country_of_dest,price:this.unit_price,id:this.id,counter:-1*(this.max_people-this.curr_state)}),this.updateLocalDatabase.emit({id:this.id,todel:this.max_people-this.curr_state}),e.target.parentNode.parentNode.remove()}onReview(){this.review_buttons_enabled=!this.review_buttons_enabled}onUpdateReview(e){this.reviews.push(e),this.update_avg_review(),this.onReview()}update_avg_review(){let e=0;for(let t in this.reviews)e+=this.reviews[t];this.avg_review=e/this.reviews.length,this.avg_review=this.avg_review.toPrecision(2)}openDetails(){this.router.navigate(["/tourlist",this.id])}static#e=this.\u0275fac=function(t){return new(t||w7)(a.Y36(Mo),a.Y36(Bn),a.Y36(Wr))};static#t=this.\u0275cmp=a.Xpm({type:w7,selectors:[["app-tour"]],viewQuery:function(t,i){if(1&t&&(a.Gf(Xre,5),a.Gf(Jre,5)),2&t){let r;a.iGM(r=a.CRH())&&(i.add_handle=r.first),a.iGM(r=a.CRH())&&(i.rm_handle=r.first)}},inputs:{special:"special",name:"name",country_of_dest:"country_of_dest",start_date:"start_date",end_date:"end_date",unit_price:"unit_price",max_people:"max_people",description:"description",photo_src:"photo_src",id:"id",curr_state:"curr_state"},outputs:{notifyParent:"notifyParent",updateLocalDatabase:"updateLocalDatabase",disableCurrItem:"disableCurrItem",enableCurrItem:"enableCurrItem"},decls:22,vars:14,consts:[["id","main-container",3,"ngStyle"],["id","tour-name",4,"ngIf"],["id","delete",3,"click",4,"ngIf"],["id","photo-container",4,"ngIf"],["id","country",4,"ngIf"],["id","dates",4,"ngIf"],["id","description",4,"ngIf"],["id","special1",3,"ngStyle",4,"ngIf"],["id","special2",3,"ngStyle",4,"ngIf"],[1,"wrapr",2,"margin-bottom","20px"],["id","down-menu"],["id","price",4,"ngIf"],["id","add-delete-count"],["id","minus",2,"user-select","none",3,"click"],["rmbutton",""],["id","curr-count"],["id","plus",2,"user-select","none",3,"click"],["plusbutton",""],["id","review-site",4,"ngIf"],["id","tour-name"],["id","delete",3,"click"],["id","photo-container"],["alt","",3,"src","click"],["id","country"],["id","dates"],[1,"start"],[1,"end"],["id","description"],["id","special1",3,"ngStyle"],["id","special2",3,"ngStyle"],["id","price"],["id","review-site"]],template:function(t,i){1&t&&(a.TgZ(0,"div",0),a.YNc(1,ese,3,3,"div",1),a.YNc(2,tse,2,0,"div",2),a.YNc(3,nse,2,1,"div",3),a.YNc(4,ise,3,3,"div",4),a.YNc(5,rse,7,6,"div",5),a.YNc(6,sse,2,1,"div",6),a.YNc(7,ose,2,3,"div",7),a.YNc(8,ase,2,3,"div",8),a.TgZ(9,"div",9)(10,"div",10),a.YNc(11,cse,3,4,"div",11),a.TgZ(12,"div",12)(13,"div",13,14),a.NdJ("click",function(){return i.rm_click()}),a._uU(15,"\u2212 "),a.qZA(),a.TgZ(16,"div",15),a._uU(17),a.qZA(),a.TgZ(18,"div",16,17),a.NdJ("click",function(){return i.add_click()}),a._uU(20,"+ "),a.qZA()()(),a.YNc(21,lse,1,0,"div",18),a.qZA()()),2&t&&(a.Q6J("ngStyle",a.VKq(12,use,i.special?"565px":"0px")),a.xp6(1),a.Q6J("ngIf",i.special),a.xp6(1),a.Q6J("ngIf",i.special),a.xp6(1),a.Q6J("ngIf",i.special),a.xp6(1),a.Q6J("ngIf",i.special),a.xp6(1),a.Q6J("ngIf",i.special),a.xp6(1),a.Q6J("ngIf",i.special),a.xp6(1),a.Q6J("ngIf",i.special),a.xp6(1),a.Q6J("ngIf",i.special),a.xp6(3),a.Q6J("ngIf",i.special),a.xp6(6),a.Oqu(i.curr_state),a.xp6(4),a.Q6J("ngIf",i.special))},dependencies:[dn,Tr,Hi,X2,d2],styles:["#main-container[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;min-width:250px;max-width:350px;background-color:#f5f5f5;box-shadow:8px 8px 24px #42445a;position:relative;box-sizing:border-box;height:565px}*[_ngcontent-%COMP%]{--colormy:rgb(130, 49, 39)}#photo-container[_ngcontent-%COMP%]{width:100%;height:100%}#photo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:inline;margin:0 auto 0 -25%;height:100%;width:auto}#photo-container[_ngcontent-%COMP%]{width:200px;height:200px;position:relative;overflow:hidden;border-radius:50%;left:50%;transform:translate(-50%);border:solid 5px var(--colormy);box-shadow:2px 2px 24px #42445a}#tour-name[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;text-align:center;color:var(--colormy);padding-top:5px}#country[_ngcontent-%COMP%]{font-weight:700;font-size:1.4rem;margin-bottom:5px;text-align:center;color:var(--colormy);position:relative;margin-top:10px}#dates[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center}.start[_ngcontent-%COMP%], .end[_ngcontent-%COMP%]{font-size:1rem;font-weight:500;padding:10px;background-color:var(--colormy);border-radius:10px;color:#fff;width:35%}#description[_ngcontent-%COMP%]{padding:1rem;font-size:1.2rem;text-align:center}#add-delete-count[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center}#down-menu[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-around;align-items:center}#price[_ngcontent-%COMP%]{background-color:var(--colormy);color:#fff;font-size:1.2rem;padding:10px;border-radius:10px}#minus[_ngcontent-%COMP%]{background-color:red;color:#fff;border-radius:10px;width:1.5rem;height:1.5rem;font-size:1.5rem;display:flex;justify-content:center;align-items:center;border:solid 2px black;cursor:pointer}#plus[_ngcontent-%COMP%]{background-color:green;color:#fff;border-radius:10px;width:1.5rem;height:1.5rem;font-size:1.5rem;display:flex;justify-content:center;align-items:center;border:solid 2px black;cursor:pointer}#curr-count[_ngcontent-%COMP%]{font-size:1.5rem;padding:5px;background-color:gray;border-radius:10px;margin:10px}#special1[_ngcontent-%COMP%]{position:absolute;font-size:2rem;font-weight:700;background-color:#ff0000ac;padding:10px;border-radius:10px;border:solid 2px black;color:#fff;width:80%;text-align:center;top:30%;display:none;left:50%;transform:translate(-50%)}#special2[_ngcontent-%COMP%]{left:50%;transform:translate(-50%);position:absolute;font-size:2rem;font-weight:700;background-color:#eeff00c1;padding:10px;border-radius:10px;border:solid 2px black;width:80%;text-align:center;top:30%;display:none}#delete[_ngcontent-%COMP%]{position:absolute;top:0;cursor:pointer}#review-btn[_ngcontent-%COMP%]{background-color:#823127;border:none;border-radius:10px;padding:10px;font-size:1rem;color:#fff;transition:all .2s ease-out;margin-bottom:5px}#review-btn[_ngcontent-%COMP%]:hover{background-color:#c45445;transition:all .2s ease-in}#review-site[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}#wrap-r[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;width:100%}#nof[_ngcontent-%COMP%], #avg[_ngcontent-%COMP%]{color:#823127;margin:5px;font-size:1.2rem}app-star-review[_ngcontent-%COMP%]{margin-bottom:5px}@media (max-width: 768px){#main-container[_ngcontent-%COMP%]{min-width:none;max-width:300px}}@media (max-width: 653px){#main-container[_ngcontent-%COMP%]{min-width:280px;max-width:400px}}.wrapr[_ngcontent-%COMP%]{position:absolute;bottom:0;left:50%;transform:translate(-50%);width:100%}.jd[_ngcontent-%COMP%]{position:absolute;top:-100%;background-color:#daa520;padding:20px;border:2px solid;border-radius:20px}img[_ngcontent-%COMP%]{cursor:pointer}"]})}class ix{}class ST{}class ol{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),s=r.toLowerCase(),l=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(l):this.headers.set(s,[l])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof ol?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new ol;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof ol?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const s=e.value;if(s){let l=this.headers.get(t);if(!l)return;l=l.filter(f=>-1===s.indexOf(f)),0===l.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,l)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class fse{encodeKey(e){return KP(e)}encodeValue(e){return KP(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const hse=/%(\d[a-f0-9])/gi,pse={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function KP(n){return encodeURIComponent(n).replace(hse,(e,t)=>pse[t]??e)}function rx(n){return`${n}`}class e4{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new fse,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function dse(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[l,f]=-1==s?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],p=t.get(l)||[];p.push(f),t.set(l,p)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(rx):[rx(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new e4({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(rx(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(rx(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class mse{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function QP(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function XP(n){return typeof Blob<"u"&&n instanceof Blob}function JP(n){return typeof FormData<"u"&&n instanceof FormData}class M7{constructor(e,t,i,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function gse(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new ol),this.context||(this.context=new mse),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+l}}else this.params=new e4,this.urlWithParams=t}serializeBody(){return null===this.body?null:QP(this.body)||XP(this.body)||JP(this.body)||function _se(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof e4?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||JP(this.body)?null:XP(this.body)?this.body.type||null:QP(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof e4?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,l=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,f=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let p=e.headers||this.headers,_=e.params||this.params;const x=e.context??this.context;return void 0!==e.setHeaders&&(p=Object.keys(e.setHeaders).reduce((M,I)=>M.set(I,e.setHeaders[I]),p)),e.setParams&&(_=Object.keys(e.setParams).reduce((M,I)=>M.set(I,e.setParams[I]),_)),new M7(t,i,s,{params:_,headers:p,context:x,reportProgress:f,responseType:r,withCredentials:l})}}var Mr=(()=>((Mr=Mr||{})[Mr.Sent=0]="Sent",Mr[Mr.UploadProgress=1]="UploadProgress",Mr[Mr.ResponseHeader=2]="ResponseHeader",Mr[Mr.DownloadProgress=3]="DownloadProgress",Mr[Mr.Response=4]="Response",Mr[Mr.User=5]="User",Mr))();class ET{constructor(e,t=200,i="OK"){this.headers=e.headers||new ol,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class DT extends ET{constructor(e={}){super(e),this.type=Mr.ResponseHeader}clone(e={}){return new DT({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class sx extends ET{constructor(e={}){super(e),this.type=Mr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new sx({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class eO extends ET{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function TT(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let ox=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let s;if(t instanceof M7)s=t;else{let p,_;p=r.headers instanceof ol?r.headers:new ol(r.headers),r.params&&(_=r.params instanceof e4?r.params:new e4({fromObject:r.params})),s=new M7(t,i,void 0!==r.body?r.body:null,{headers:p,context:r.context,params:_,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const l=Qe(s).pipe(Xs(p=>this.handler.handle(p)));if(t instanceof M7||"events"===r.observe)return l;const f=l.pipe(es(p=>p instanceof sx));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return f.pipe((0,ut.U)(p=>{if(null!==p.body&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return f.pipe((0,ut.U)(p=>{if(null!==p.body&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return f.pipe((0,ut.U)(p=>{if(null!==p.body&&"string"!=typeof p.body)throw new Error("Response is not a string.");return p.body}));default:return f.pipe((0,ut.U)(p=>p.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new e4).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,TT(r,i))}post(t,i,r={}){return this.request("POST",t,TT(r,i))}put(t,i,r={}){return this.request("PUT",t,TT(r,i))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ix))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function tO(n,e){return e(n)}function vse(n,e){return(t,i)=>e.intercept(t,{handle:r=>n(r,i)})}const xse=new a.OlP("HTTP_INTERCEPTORS"),S7=new a.OlP("HTTP_INTERCEPTOR_FNS");function bse(){let n=null;return(e,t)=>(null===n&&(n=((0,a.f3M)(xse,{optional:!0})??[]).reduceRight(vse,tO)),n(e,t))}let nO=(()=>{class n extends ix{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null}handle(t){if(null===this.chain){const i=Array.from(new Set(this.injector.get(S7)));this.chain=i.reduceRight((r,s)=>function yse(n,e,t){return(i,r)=>t.runInContext(()=>e(i,s=>n(s,r)))}(r,s,this.injector),tO)}return this.chain(t,i=>this.backend.handle(i))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ST),a.LFG(a.lqb))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Sse=/^\)\]\}',?\n/;let rO=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new hi.y(i=>{const r=this.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((H,P)=>r.setRequestHeader(H,P.join(","))),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const H=t.detectContentTypeHeader();null!==H&&r.setRequestHeader("Content-Type",H)}if(t.responseType){const H=t.responseType.toLowerCase();r.responseType="json"!==H?H:"text"}const s=t.serializeBody();let l=null;const f=()=>{if(null!==l)return l;const H=r.statusText||"OK",P=new ol(r.getAllResponseHeaders()),q=function Ese(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||t.url;return l=new DT({headers:P,status:r.status,statusText:H,url:q}),l},p=()=>{let{headers:H,status:P,statusText:q,url:se}=f(),De=null;204!==P&&(De=typeof r.response>"u"?r.responseText:r.response),0===P&&(P=De?200:0);let Fe=P>=200&&P<300;if("json"===t.responseType&&"string"==typeof De){const Ge=De;De=De.replace(Sse,"");try{De=""!==De?JSON.parse(De):null}catch(Ze){De=Ge,Fe&&(Fe=!1,De={error:Ze,text:De})}}Fe?(i.next(new sx({body:De,headers:H,status:P,statusText:q,url:se||void 0})),i.complete()):i.error(new eO({error:De,headers:H,status:P,statusText:q,url:se||void 0}))},_=H=>{const{url:P}=f(),q=new eO({error:H,status:r.status||0,statusText:r.statusText||"Unknown Error",url:P||void 0});i.error(q)};let x=!1;const M=H=>{x||(i.next(f()),x=!0);let P={type:Mr.DownloadProgress,loaded:H.loaded};H.lengthComputable&&(P.total=H.total),"text"===t.responseType&&!!r.responseText&&(P.partialText=r.responseText),i.next(P)},I=H=>{let P={type:Mr.UploadProgress,loaded:H.loaded};H.lengthComputable&&(P.total=H.total),i.next(P)};return r.addEventListener("load",p),r.addEventListener("error",_),r.addEventListener("timeout",_),r.addEventListener("abort",_),t.reportProgress&&(r.addEventListener("progress",M),null!==s&&r.upload&&r.upload.addEventListener("progress",I)),r.send(s),i.next({type:Mr.Sent}),()=>{r.removeEventListener("error",_),r.removeEventListener("abort",_),r.removeEventListener("load",p),r.removeEventListener("timeout",_),t.reportProgress&&(r.removeEventListener("progress",M),null!==s&&r.upload&&r.upload.removeEventListener("progress",I)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Po))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const IT=new a.OlP("XSRF_ENABLED"),sO="XSRF-TOKEN",oO=new a.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>sO}),aO="X-XSRF-TOKEN",cO=new a.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>aO});class lO{}let Dse=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=tr(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ce),a.LFG(a.Lbi),a.LFG(oO))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function Tse(n,e){const t=n.url.toLowerCase();if(!(0,a.f3M)(IT)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const i=(0,a.f3M)(lO).getToken(),r=(0,a.f3M)(cO);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}var hr=(()=>((hr=hr||{})[hr.Interceptors=0]="Interceptors",hr[hr.LegacyInterceptors=1]="LegacyInterceptors",hr[hr.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",hr[hr.NoXsrfProtection=3]="NoXsrfProtection",hr[hr.JsonpSupport=4]="JsonpSupport",hr[hr.RequestsMadeViaParent=5]="RequestsMadeViaParent",hr))();function Mh(n,e){return{\u0275kind:n,\u0275providers:e}}function Ise(...n){const e=[ox,rO,nO,{provide:ix,useExisting:nO},{provide:ST,useExisting:rO},{provide:S7,useValue:Tse,multi:!0},{provide:IT,useValue:!0},{provide:lO,useClass:Dse}];for(const t of n)e.push(...t.\u0275providers);return(0,a.MR2)(e)}const uO=new a.OlP("LEGACY_INTERCEPTOR_FN");function Vse({cookieName:n,headerName:e}){const t=[];return void 0!==n&&t.push({provide:oO,useValue:n}),void 0!==e&&t.push({provide:cO,useValue:e}),Mh(hr.CustomXsrfConfiguration,t)}let Lse=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Ise(Mh(hr.LegacyInterceptors,[{provide:uO,useFactory:bse},{provide:S7,useExisting:uO,multi:!0}]),Vse({cookieName:sO,headerName:aO}))]}),n})();const kse=["*"];let ax;function E7(n){return function Hse(){if(void 0===ax&&(ax=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(ax=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return ax}()?.createHTML(n)||n}function fO(n){return Error(`Unable to find icon with the name "${n}"`)}function dO(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function hO(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Z6{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let cx=(()=>{class n{constructor(t,i,r,s){this._httpClient=t,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,s){return this._addSvgIconConfig(t,i,new Z6(r,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,s){const l=this._sanitizer.sanitize(a.q3G.HTML,r);if(!l)throw hO(r);const f=E7(l);return this._addSvgIconConfig(t,i,new Z6("",f,s))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new Z6(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const s=this._sanitizer.sanitize(a.q3G.HTML,i);if(!s)throw hO(i);const l=E7(s);return this._addSvgIconSetConfig(t,new Z6("",l,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(a.q3G.RESOURCE_URL,t);if(!i)throw dO(t);const r=this._cachedIconsByUrl.get(i);return r?Qe(lx(r)):this._loadSvgIconFromConfig(new Z6(t,null)).pipe((0,Mi.b)(s=>this._cachedIconsByUrl.set(i,s)),(0,ut.U)(s=>lx(s)))}getNamedSvgIcon(t,i=""){const r=pO(i,t);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,t),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const l=this._iconSetConfigs.get(i);return l?this._getSvgFromIconSetConfigs(t,l):_r(fO(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Qe(lx(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,ut.U)(i=>lx(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?Qe(r):z8(i.filter(l=>!l.svgText).map(l=>this._loadSvgIconSetFromConfig(l).pipe(Xo(f=>{const _=`Loading icon set URL: ${this._sanitizer.sanitize(a.q3G.RESOURCE_URL,l.url)} failed: ${f.message}`;return this._errorHandler.handleError(new Error(_)),Qe(null)})))).pipe((0,ut.U)(()=>{const l=this._extractIconWithNameFromAnySet(t,i);if(!l)throw fO(t);return l}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){const l=this._svgElementFromConfig(s),f=this._extractSvgIconFromSet(l,t,s.options);if(f)return f}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,Mi.b)(i=>t.svgText=i),(0,ut.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Qe(null):this._fetchIcon(t).pipe((0,Mi.b)(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const s=t.querySelector(`[id="${i}"]`);if(!s)return null;const l=s.cloneNode(!0);if(l.removeAttribute("id"),"svg"===l.nodeName.toLowerCase())return this._setSvgAttributes(l,r);if("symbol"===l.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(l),r);const f=this._svgElementFromString(E7("<svg></svg>"));return f.appendChild(l),this._setSvgAttributes(f,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(E7("<svg></svg>")),r=t.attributes;for(let s=0;s<r.length;s++){const{name:l,value:f}=r[s];"id"!==l&&i.setAttribute(l,f)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:r}=t,s=r?.withCredentials??!1;if(!this._httpClient)throw function zse(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const l=this._sanitizer.sanitize(a.q3G.RESOURCE_URL,i);if(!l)throw dO(i);const f=this._inProgressUrlFetches.get(l);if(f)return f;const p=this._httpClient.get(l,{responseType:"text",withCredentials:s}).pipe((0,ut.U)(_=>E7(_)),w1(()=>this._inProgressUrlFetches.delete(l)),(0,qD.B)());return this._inProgressUrlFetches.set(l,p),p}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(pO(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,t);if(s)return Rse(s)?new Z6(s.url,null,s.options):new Z6(s,null)}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ox,8),a.LFG(D2),a.LFG(ce,8),a.LFG(a.qLn))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function lx(n){return n.cloneNode(!0)}function pO(n,e){return n+":"+e}function Rse(n){return!(!n.url||!n.options)}const Pse=lT(class{constructor(n){this._elementRef=n}}),Ose=new a.OlP("MAT_ICON_DEFAULT_OPTIONS"),Fse=new a.OlP("mat-icon-location",{providedIn:"root",factory:function Bse(){const n=(0,a.f3M)(ce),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),mO=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Use=mO.map(n=>`[${n}]`).join(", "),jse=/^url\(['"]?#(.*?)['"]?\)$/;let $se=(()=>{class n extends Pse{constructor(t,i,r,s,l,f){super(t),this._iconRegistry=i,this._location=s,this._errorHandler=l,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Gn.w0.EMPTY,f&&(f.color&&(this.color=this.defaultColor=f.color),f.fontSet&&(this.fontSet=f.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=fr(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(l=>{s.setAttribute(l.name,`url('${t}#${l.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(Use),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)mO.forEach(l=>{const f=i[s],p=f.getAttribute(l),_=p?p.match(jse):null;if(_){let x=r.get(f);x||(x=[],r.set(f,x)),x.push({name:l,value:_[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Rr(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(cx),a.$8M("aria-hidden"),a.Y36(Fse),a.Y36(a.qLn),a.Y36(Ose,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(t,i){2&t&&(a.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),a.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[a.qOj],ngContentSelectors:kse,decls:1,vars:0,template:function(t,i){1&t&&(a.F$t(),a.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),Gse=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[ha,ha]}),n})();const Wse=["tooltip"],gO=new a.OlP("mat-tooltip-scroll-strategy"),Zse={provide:gO,deps:[Ch],useFactory:function Yse(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},Qse=new a.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function Kse(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),_O="tooltip-panel",vO=d7({passive:!0});let ioe=(()=>{class n{constructor(t,i,r,s,l,f,p,_,x,M,I,H){this._overlay=t,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=s,this._ngZone=l,this._platform=f,this._ariaDescriber=p,this._focusMonitor=_,this._dir=M,this._defaultOptions=I,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new Qt.x,this._scrollStrategy=x,this._document=H,I&&(I.position&&(this.position=I.position),I.positionAtOrigin&&(this.positionAtOrigin=I.positionAtOrigin),I.touchGestures&&(this.touchGestures=I.touchGestures)),M.change.pipe(ao(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(t){this._positionAtOrigin=fr(t),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(t){this._disabled=fr(t),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(t){this._showDelay=m7(t)}get hideDelay(){return this._hideDelay}set hideDelay(t){this._hideDelay=m7(t),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=t?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(ao(this._destroyed)).subscribe(t=>{t?"keyboard"===t&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const t=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{t.removeEventListener(i,r,vO)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay,i){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const r=this._createOverlay(i);this._detach(),this._portal=this._portal||new Wy(this._tooltipComponent,this._viewContainerRef);const s=this._tooltipInstance=r.attach(this._portal).instance;s._triggerElement=this._elementRef.nativeElement,s._mouseLeaveHideDelay=this._hideDelay,s.afterHidden().pipe(ao(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),s.show(t)}hide(t=this.hideDelay){const i=this._tooltipInstance;i&&(i.isVisible()?i.hide(t):(i._cancelPendingAnimations(),this._detach()))}toggle(t){this._isTooltipVisible()?this.hide():this.show(void 0,t)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(t){if(this._overlayRef){const s=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!t)&&s._origin instanceof a.SBq)return this._overlayRef;this._detach()}const i=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),r=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&t||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return r.positionChanges.pipe(ao(this._destroyed)).subscribe(s=>{this._updateCurrentPositionClass(s.connectionPair),this._tooltipInstance&&s.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${_O}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(ao(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(ao(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(ao(this._destroyed)).subscribe(s=>{this._isTooltipVisible()&&27===s.keyCode&&!Ny(s)&&(s.preventDefault(),s.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(t){const i=t.getConfig().positionStrategy,r=this._getOrigin(),s=this._getOverlayPosition();i.withPositions([this._addOffset({...r.main,...s.main}),this._addOffset({...r.fallback,...s.fallback})])}_addOffset(t){return t}_getOrigin(){const t=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&t||"right"==i&&!t?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&t||"left"==i&&!t)&&(r={originX:"end",originY:"center"});const{x:s,y:l}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:s,originY:l}}}_getOverlayPosition(){const t=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&t||"right"==i&&!t?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&t||"left"==i&&!t)&&(r={overlayX:"start",overlayY:"center"});const{x:s,y:l}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:s,overlayY:l}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(Rr(1),ao(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:i}}_updateCurrentPositionClass(t){const{overlayY:i,originX:r,originY:s}=t;let l;if(l="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===s?"above":"below",l!==this._currentPosition){const f=this._overlayRef;if(f){const p=`${this._cssClassPrefix}-${_O}-`;f.removePanelClass(p+this._currentPosition),f.addPanelClass(p+l)}this._currentPosition=l}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",t=>{let i;this._setupPointerExitEventsIfNeeded(),void 0!==t.x&&void 0!==t.y&&(i=t),this.show(void 0,i)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",t=>{const i=t.targetTouches?.[0],r=i?{x:i.clientX,y:i.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,r),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",i=>{const r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};t.push(["touchend",i],["touchcancel",i])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,vO)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(t.clientX,t.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const t=this.touchGestures;if("off"!==t){const i=this._elementRef.nativeElement,r=i.style;("on"===t||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===t||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(t){a.$Z()},n.\u0275dir=a.lG2({type:n,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),roe=(()=>{class n extends ioe{constructor(t,i,r,s,l,f,p,_,x,M,I,H){super(t,i,r,s,l,f,p,_,x,M,I,H),this._tooltipComponent=ooe,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(t){const r=!this._dir||"ltr"==this._dir.value;return"top"===t.originY?t.offsetY=-8:"bottom"===t.originY?t.offsetY=8:"start"===t.originX?t.offsetX=r?-8:8:"end"===t.originX&&(t.offsetX=r?8:-8),t}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Ch),a.Y36(a.SBq),a.Y36(BR),a.Y36(a.s_b),a.Y36(a.R0b),a.Y36(Cr),a.Y36(Nte),a.Y36(iT),a.Y36(gO),a.Y36(X3,8),a.Y36(Qse,8),a.Y36(ce))},n.\u0275dir=a.lG2({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],exportAs:["matTooltip"],features:[a.qOj]}),n})(),soe=(()=>{class n{constructor(t,i){this._changeDetectorRef=t,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new Qt.x,this._animationsDisabled="NoopAnimations"===i}show(t){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},t)}hide(t){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},t)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:t}){(!t||!this._triggerElement.contains(t))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:t}){(t===this._showAnimation||t===this._hideAnimation)&&this._finalizeAnimation(t===this._showAnimation)}_cancelPendingAnimations(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(t){t?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(t){const i=this._tooltip.nativeElement,r=this._showAnimation,s=this._hideAnimation;if(i.classList.remove(t?s:r),i.classList.add(t?r:s),this._isVisible=t,t&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const l=getComputedStyle(i);("0s"===l.getPropertyValue("animation-duration")||"none"===l.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}t&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(t))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO),a.Y36(a.QbO,8))},n.\u0275dir=a.lG2({type:n}),n})(),ooe=(()=>{class n extends soe{constructor(t,i,r){super(t,r),this._elementRef=i,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const t=this._elementRef.nativeElement.getBoundingClientRect();return t.height>24&&t.width>=200}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.QbO,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(t,i){if(1&t&&a.Gf(Wse,7),2&t){let r;a.iGM(r=a.CRH())&&(i._tooltip=r.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(t,i){1&t&&a.NdJ("mouseleave",function(s){return i._handleMouseLeave(s)}),2&t&&a.Udp("zoom",i.isVisible()?1:null)},features:[a.qOj],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(t,i){1&t&&(a.TgZ(0,"div",0,1),a.NdJ("animationend",function(s){return i._handleAnimationEnd(s)}),a.TgZ(2,"div",2),a._uU(3),a.qZA()()),2&t&&(a.ekj("mdc-tooltip--multiline",i._isMultiline),a.Q6J("ngClass",i.tooltipClass),a.xp6(3),a.Oqu(i.message))},dependencies:[xi],styles:['.mdc-tooltip__surface{word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color, #fff)}.mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape, var(--mdc-shape-small, 4px))}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape, var(--mdc-shape-small, 4px))}.mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color, #000)}.mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font, inherit);font-size:var(--mdc-plain-tooltip-supporting-text-size, inherit);font-weight:var(--mdc-plain-tooltip-supporting-text-weight, inherit);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, inherit)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:-8px;right:-8px;bottom:-8px;left:-8px;z-index:-1;position:absolute}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0}),n})(),aoe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Zse],imports:[NR,hs,rP,ha,ha,Gy]}),n})();const coe=function(n){return{color:n}};function loe(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"button",1),a.NdJ("click",function(){const s=a.CHM(t).index,l=a.oxw();return a.KtG(l.onClick(s+1))}),a.TgZ(1,"mat-icon"),a._uU(2),a.qZA()()}if(2&n){const t=e.$implicit,i=e.index,r=a.oxw();a.Q6J("ngStyle",a.VKq(4,coe,r.color))("id","star_"+i)("matTooltip",(t+1).toString()),a.xp6(2),a.hij(" ",r.showIcon(i)," ")}}class ux{constructor(){this.rating=0,this.starCount=5,this.color="accent",this.ratingUpdated=new a.vpe,this.snackBarDuration=2e3,this.ratingArr=[],this.avgRating=0}ngOnInit(){for(let e=0;e<this.starCount;e++)this.ratingArr.push(e)}onClick(e){return this.rating=e,this.ratingUpdated.emit(e),!1}showIcon(e){return this.rating>=e+1?"star":"star_border"}static#e=this.\u0275fac=function(t){return new(t||ux)};static#t=this.\u0275cmp=a.Xpm({type:ux,selectors:[["app-star-review"]],inputs:{rating:"rating",starCount:"starCount",color:"color"},outputs:{ratingUpdated:"ratingUpdated"},decls:1,vars:1,consts:[["mat-icon-button","","matTooltipPosition","above",3,"ngStyle","id","matTooltip","click",4,"ngFor","ngForOf"],["mat-icon-button","","matTooltipPosition","above",3,"ngStyle","id","matTooltip","click"]],template:function(t,i){1&t&&a.YNc(0,loe,3,6,"button",0),2&t&&a.Q6J("ngForOf",i.ratingArr)},dependencies:[bi,Tr,$se,roe],styles:["mat-icon[_ngcontent-%COMP%]{color:#daa520;position:relative;left:0}"]})}function uoe(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",11),a.NdJ("click",function(r){a.CHM(t);const s=a.oxw();return a.KtG(s.delFromDB(r))}),a._uU(1,"Usu\u0144 z bazy"),a.qZA()}}const foe=function(n){return{display:n}};function doe(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"form",12)(1,"fieldset")(2,"div"),a._uU(3),a.qZA(),a.TgZ(4,"mat-form-field",13)(5,"mat-label"),a._uU(6,"Podaj sw\xf3j nick"),a.qZA(),a._UZ(7,"input",14,15),a.qZA(),a.TgZ(9,"mat-form-field",16)(10,"mat-label"),a._uU(11,"Dodaj opinie"),a.qZA(),a._UZ(12,"textarea",17),a.qZA(),a.TgZ(13,"mat-form-field",13)(14,"mat-label"),a._uU(15,"Wybierz Date"),a.qZA(),a._UZ(16,"input",18),a.TgZ(17,"mat-hint"),a._uU(18,"MM/DD/YYYY"),a.qZA(),a._UZ(19,"mat-datepicker-toggle",19)(20,"mat-datepicker",null,20),a.qZA(),a.TgZ(22,"mat-label",21),a._uU(23,"Wybierz Ocene"),a.qZA(),a.TgZ(24,"app-star-review",22),a.NdJ("ratingUpdated",function(r){a.CHM(t);const s=a.oxw();return a.KtG(s.getStarData(r))}),a.qZA(),a.TgZ(25,"button",23),a.NdJ("click",function(){a.CHM(t);const r=a.oxw();return a.KtG(r.submit())}),a._uU(26,"Submit"),a.qZA()()()}if(2&n){const t=a.MAs(21),i=a.oxw();a.Q6J("formGroup",i.myForm)("ngStyle",a.VKq(5,foe,i.enabled?"":"none")),a.xp6(3),a.hij("Dodaj opinie dotycz\u0105ca wycieczki ",i.item.name,""),a.xp6(13),a.Q6J("matDatepicker",t),a.xp6(3),a.Q6J("for",t)}}function hoe(n,e){if(1&n&&(a.ynx(0),a.TgZ(1,"div",24)(2,"div"),a._uU(3),a.qZA(),a.TgZ(4,"div"),a._uU(5),a.qZA(),a.TgZ(6,"div"),a._uU(7),a.ALo(8,"date"),a.qZA(),a.TgZ(9,"div"),a._uU(10),a.qZA()(),a.BQk()),2&n){const t=e.$implicit;a.xp6(3),a.Oqu("U\u017cytkownik: "+t.nick),a.xp6(2),a.Oqu("Opinia: "+t.description),a.xp6(2),a.Oqu(a.lcZ(8,4,t.ndata)),a.xp6(3),a.Oqu("Ocena: "+t.rating+"/5")}}class fx{constructor(e,t,i,r,s,l,f){this.statetour=e,this.service=t,this.route=i,this.shareData=r,this.router=s,this.state=l,this.fire=f,this.item={},this.local_rating=null,this.enabled=!0,this.tour_counter=0,this.data=[]}setState(e){this.item=e.data(),this.item={...this.item,curr_counter:this.item.max_people},this.max_people=this.item.max_people}ngOnInit(){null!=this.statetour.state$.getValue()&&(this.tour_counter=this.statetour.state$.getValue()),this.route.params.subscribe(e=>{null!=this.state.state$.getValue()?(this.id=e.id,this.item=this.state.state$.getValue().filter(t=>t.id==this.id),this.item=this.item[0]):(this.id=e.id,this.fire.getSingleTour(e.id).then(t=>this.setState(t))),this.fire.getReviewsByID(e.id).then(t=>t.forEach(i=>this.data.push({...i.data(),ndata:null!=i.data().date?i.data().date.toDate():""})))}),this.myForm=new N2({nick:new Or(null,[pi.required]),description:new Or(null,[pi.required]),date:new Or(null,[])})}submit(){this.myForm.valid&&null!=this.local_rating?(null==this.myForm.value.data&&(this.myForm.value.data=""),this.data.push({...this.myForm.value,rating:this.local_rating}),this.fire.uploadReview({...this.myForm.value,rating:this.local_rating},this.id),this.myForm.reset()):alert("Form not valid !")}getStarData(e){this.local_rating=e}updateCart(e){this.tour_counter+=-1*e.val,null!=this.state.state$.getValue()?this.state.state$.next(this.state.state$.getValue().map(t=>t.id==e.id?{...t,curr_counter:e.curr}:{...t})):this.fire.getData().then(t=>this.retriveData(t,e)),this.service.tourCounterUpdater.emit(this.tour_counter),this.statetour.state$.next(this.tour_counter)}retriveData(e,t){let i=[];e.forEach(r=>i.push({...r.data(),id:r.id})),i=i.map(r=>({...r,enabled:"true",curr_counter:r.max_people})),this.state.state$.next(i),this.state.state$.next(this.state.state$.getValue().map(r=>r.id==t.id?{...r,curr_counter:t.curr}:{...r}))}delFromDB(e){console.log(this.id),this.fire.deleteByID(this.id),this.router.navigate(["tourlist"]),this.state.state$.next(null)}static#e=this.\u0275fac=function(t){return new(t||fx)(a.Y36(dh),a.Y36(Mo),a.Y36(A1),a.Y36(hh),a.Y36(Bn),a.Y36(ph),a.Y36(Wr))};static#t=this.\u0275cmp=a.Xpm({type:fx,selectors:[["app-singletour"]],decls:19,vars:22,consts:[[1,"wrap"],[1,"uptext"],["class","deldb",3,"click",4,"ngIf"],[1,"imgwrap"],["alt","",3,"src"],[1,"descc"],[1,"price",2,"position","relative","bottom","3px"],[3,"name","country_of_dest","start_date","end_date","unit_price","max_people","curr_state","description","photo_src","id","special","notifyParent"],["novalidate","",3,"formGroup","ngStyle",4,"ngIf"],[1,"reviews"],[4,"ngFor","ngForOf"],[1,"deldb",3,"click"],["novalidate","",3,"formGroup","ngStyle"],["appearance","fill"],["formControlName","nick","matInput",""],["nick",""],["appearance","fill",1,"desc"],["matInput","","maxlength","500","minlength","50","cdkTextareaAutosize","","cdkAutosizeMinRows","1","formControlName","description"],["matInput","","formControlName","date",3,"matDatepicker"],["matIconSuffix","",3,"for"],["picker",""],[2,"text-align","center"],[3,"ratingUpdated"],["type","button",1,"btn","btn-primary",3,"click"],[1,"review"]],template:function(t,i){1&t&&(a.TgZ(0,"div",0)(1,"div",1),a._uU(2),a.YNc(3,uoe,2,0,"div",2),a.qZA(),a.TgZ(4,"div",1),a._uU(5),a.qZA(),a.TgZ(6,"div",3),a._UZ(7,"img",4),a.qZA(),a.TgZ(8,"div",5),a._uU(9),a.qZA(),a.TgZ(10,"div",6),a._uU(11),a.ALo(12,"currency"),a.qZA(),a.TgZ(13,"app-tour",7),a.NdJ("notifyParent",function(s){return i.updateCart(s)}),a.qZA(),a.YNc(14,doe,27,7,"form",8),a.TgZ(15,"div",1),a._uU(16,"Opinie"),a.qZA(),a.TgZ(17,"div",9),a.YNc(18,hoe,11,6,"ng-container",10),a.qZA()()),2&t&&(a.xp6(2),a.hij("",i.item.name," "),a.xp6(1),a.Q6J("ngIf",i.fire.userRoles.admin.booleanValue||i.fire.userRoles.menager.booleanValue),a.xp6(2),a.hij("Lokalizacja: ",i.item.country_of_dest,""),a.xp6(2),a.s9C("src",i.item.photo_src,a.LSH),a.xp6(2),a.Oqu(i.item.description),a.xp6(2),a.Oqu(a.xi3(12,19,i.item.unit_price,"EUR")),a.xp6(2),a.Q6J("name",i.item.name)("country_of_dest",i.item.country_of_dest)("start_date",i.item.start_date)("end_date",i.item.end_date)("unit_price",i.item.unit_price)("max_people",i.item.max_people)("curr_state",i.item.curr_counter)("description",i.item.description)("photo_src",i.item.photo_src)("id",i.id)("special",!1),a.xp6(1),a.Q6J("ngIf",!i.fire.userRoles.menager.booleanValue&&!i.fire.userRoles.banned.booleanValue),a.xp6(4),a.Q6J("ngForOf",i.data))},dependencies:[bi,dn,Tr,h3,z2,o3,md,Lu,no,Bre,wT,$P,TP,Zy,Ky,xP,ia,m3,LP,AP,w7,ux,X2,d2],styles:[".desc[_ngcontent-%COMP%]{width:100%}fieldset[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column}button[_ngcontent-%COMP%]{border:solid 2px black;padding:10px;border-radius:10px}button[_ngcontent-%COMP%]:hover{background-color:#b2b2b2;transition:all .4s}.reviews[_ngcontent-%COMP%]{width:100%;box-sizing:border-box}.imgwrap[_ngcontent-%COMP%]{max-width:400px}img[_ngcontent-%COMP%]{width:100%}form[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:70%}app-star-review[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:15px}*[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif}.uptext[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;background-color:#823127;color:#fff;padding:10px;margin:10px;font-size:1.5rem;border-radius:15px;border:solid 2px black}.wrap[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;flex-direction:column}img[_ngcontent-%COMP%]{box-shadow:8px 8px 24px #42445a;border-radius:15px}.descc[_ngcontent-%COMP%]{margin:20px;font-size:1.5rem;width:60%;background-color:#823127;color:#fff;padding:10px;border-radius:15px;border:solid 2px black}.price[_ngcontent-%COMP%]{margin:20px;font-size:1.5rem;background-color:#823127;color:#fff;padding:10px;border-radius:15px;border:solid 2px black}.review[_ngcontent-%COMP%]{margin:20px;font-size:1rem;background-color:#823127;color:#fff;padding:10px;border-radius:15px;border:solid 2px black}fieldset[_ngcontent-%COMP%]{width:100%}#minus[_ngcontent-%COMP%]{background-color:red;color:#fff;border-radius:10px;width:1.5rem;height:1.5rem;font-size:1.5rem;display:flex;justify-content:center;align-items:center;border:solid 2px black;cursor:pointer}#plus[_ngcontent-%COMP%]{background-color:green;color:#fff;border-radius:10px;width:1.5rem;height:1.5rem;font-size:1.5rem;display:flex;justify-content:center;align-items:center;border:solid 2px black;cursor:pointer}#curr-count[_ngcontent-%COMP%]{font-size:1.5rem;padding:5px;background-color:gray;border-radius:10px;margin:10px}app-tour[_ngcontent-%COMP%]{position:relative;top:0;left:20%}.deldb[_ngcontent-%COMP%]{position:absolute;top:0;left:0;font-size:1.5rem;background-color:red;color:#fff;padding:10px;border-radius:15px;border:solid 2px black;white-space:nowrap;margin:10px;cursor:pointer}"]})}var bx={prefix:"fas",iconName:"cart-shopping",icon:[576,512,[128722,"shopping-cart"],"f07a","M0 24C0 10.7 10.7 0 24 0H69.5c22 0 41.5 12.8 50.6 32h411c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3H170.7l5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5H488c13.3 0 24 10.7 24 24s-10.7 24-24 24H199.7c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5H24C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"]},D$={prefix:"fas",iconName:"house",icon:[576,512,[127968,63498,63500,"home","home-alt","home-lg-alt"],"f015","M575.8 255.5c0 18-15 32.1-32 32.1h-32l.7 160.2c0 2.7-.2 5.4-.5 8.1V472c0 22.1-17.9 40-40 40H456c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1H416 392c-22.1 0-40-17.9-40-40V448 384c0-17.7-14.3-32-32-32H256c-17.7 0-32 14.3-32 32v64 24c0 22.1-17.9 40-40 40H160 128.1c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2H104c-22.1 0-40-17.9-40-40V360c0-.9 0-1.9 .1-2.8V287.6H32c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z"]};const Pwe=function(n,e){return{cheapest:n,highestprice:e}};function Owe(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"app-tour",2,3),a.NdJ("enableCurrItem",function(r){a.CHM(t);const s=a.oxw();return a.KtG(s.setEnabledByID(r))})("disableCurrItem",function(r){a.CHM(t);const s=a.oxw();return a.KtG(s.setDisabledByID(r))})("updateLocalDatabase",function(r){a.CHM(t);const s=a.oxw();return a.KtG(s.rmById(r))})("notifyParent",function(r){a.CHM(t);const s=a.oxw();return a.KtG(s.updateCart(r))}),a.qZA()}if(2&n){const t=e.$implicit,i=a.oxw();a.Q6J("name",t.name)("country_of_dest",t.country_of_dest)("start_date",t.start_date)("end_date",t.end_date)("unit_price",t.unit_price)("max_people",t.max_people)("curr_state",t.curr_counter)("description",t.description)("photo_src",t.photo_src)("id",t.id)("ngClass",a.WLB(11,Pwe,t.unit_price==i.getmaxprice(),t.unit_price==i.getminprice()))}}const Fwe=function(n){return{display:n}};class Ix{constructor(e,t,i,r,s,l,f){this.httpClient=e,this.route=t,this.service=i,this.state=r,this.statetour=s,this.shareData=l,this.firebase_service=f,this.faCartShopping=bx,this.database=[],this.tour_counter=0,this.showCart_bool=!1,this.last_id=11,this.hide_main=!1}retriveData(e){null==this.state.state$.getValue()?(this.database=[],e.forEach(t=>this.database.push({...t.data(),id:t.id})),this.database=this.database.map(t=>({...t,enabled:"true",curr_counter:t.max_people})),this.state.state$.next(this.database)):(this.database=this.state.state$.getValue(),e.forEach(t=>{let i=!1;this.database.forEach(r=>{t.id==r.id&&(i=!0)}),i||(this.database.push({...t.data(),id:t.id}),this.database=this.database.map(r=>({...r,enabled:"true",curr_counter:r.max_people})),this.state.state$.next(this.database))})),null!=this.statetour.state$.getValue()&&(this.tour_counter=this.statetour.state$.getValue())}ngOnInit(){this.firebase_service.getData().then(e=>this.retriveData(e))}updateCart(e){this.tour_counter+=-1*e.val,this.database=this.database.map(t=>t.id==e.id?{...t,curr_counter:e.curr}:{...t}),this.service.tourCounterUpdater.emit(this.tour_counter),this.statetour.state$.next(this.tour_counter),this.state.state$.next(this.database)}getmaxprice(){let e=0;for(let t in this.database)this.database[t].unit_price>e&&this.database[t].enabled&&(e=this.database[t].unit_price);return e}getminprice(){let e=1/0;for(let t in this.database)this.database[t].unit_price<e&&this.database[t].enabled&&(e=this.database[t].unit_price);return e}rmById(e){this.tour_counter-=e.todel,this.service.tourCounterUpdater.emit(this.tour_counter),this.statetour.state$.next(this.tour_counter),this.database=this.database.filter(t=>t.id!=e.id)}setEnabledByID(e){for(let t in this.database)this.database[t].id==e&&(this.database[t].enabled=!0)}setDisabledByID(e){for(let t in this.database)this.database[t].id==e&&(this.database[t].enabled=!1)}pushData(e){this.hideData(),null!=(e=e.sended_form)&&(e.id=this.last_id+1,this.last_id++,e.enabled=!0,this.database.push(e))}showCart(){this.showCart_bool=!this.showCart_bool}hideData(){this.hide_main=!this.hide_main}static#e=this.\u0275fac=function(t){return new(t||Ix)(a.Y36(ox),a.Y36(A1),a.Y36(Mo),a.Y36(ph),a.Y36(dh),a.Y36(hh),a.Y36(Wr))};static#t=this.\u0275cmp=a.Xpm({type:Ix,selectors:[["app-tour-list"]],decls:3,vars:4,consts:[[1,"main",3,"ngStyle"],[3,"name","country_of_dest","start_date","end_date","unit_price","max_people","curr_state","description","photo_src","id","ngClass","enableCurrItem","disableCurrItem","updateLocalDatabase","notifyParent",4,"ngFor","ngForOf"],[3,"name","country_of_dest","start_date","end_date","unit_price","max_people","curr_state","description","photo_src","id","ngClass","enableCurrItem","disableCurrItem","updateLocalDatabase","notifyParent"],["iems","","listel",""]],template:function(t,i){1&t&&(a._UZ(0,"router-outlet"),a.TgZ(1,"div",0),a.YNc(2,Owe,3,14,"app-tour",1),a.qZA()),2&t&&(a.xp6(1),a.Q6J("ngStyle",a.VKq(2,Fwe,i.hide_main?"none":"")),a.xp6(1),a.Q6J("ngForOf",i.database))},dependencies:[xi,bi,Tr,qf,w7],styles:[".main[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;align-items:center;gap:30px;padding-top:50px;padding-bottom:50px}.cart[_ngcontent-%COMP%]{font-size:1.5rem;color:#fff;border:solid 2px black;border-radius:10px;font-family:Arial,Helvetica,sans-serif;width:-moz-fit-content;width:fit-content;padding:10px;margin-top:5px;margin-bottom:5px;cursor:pointer}.cheapest[_ngcontent-%COMP%]{border:solid 5px green}.highestprice[_ngcontent-%COMP%]{border:solid 5px red}app-tour[_ngcontent-%COMP%]{box-sizing:border-box;border:solid 5px transparent}app-shop-cart[_ngcontent-%COMP%]{position:absolute;top:54px;right:0;background-color:#fff;width:-moz-fit-content;width:fit-content;border:solid 2px black;color:#000}.navbar[_ngcontent-%COMP%]{background-color:#000;position:sticky;top:0;z-index:10}#routes[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}a[_ngcontent-%COMP%]{margin-right:10px;color:#fff;font-size:1.5rem;text-decoration:none;border:solid 2px black;padding:5px;text-align:center;border-radius:15px}.underbar[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;align-items:center;justify-content:space-between;gap:20px;background-color:#823127}@media (max-width: 601px){.cart[_ngcontent-%COMP%], a[_ngcontent-%COMP%]{font-size:1rem}}@media (max-width: 424px){.cart[_ngcontent-%COMP%], a[_ngcontent-%COMP%]{font-size:.8rem}}"]})}class K6{constructor(e,t){this.fire=e,this.router=t}canActivate(e,t){return this.fire.getAuthenticated().pipe((0,ut.U)(i=>null!=i||(this.router.navigate(["login"]),!1)))}static#e=this.\u0275fac=function(t){return new(t||K6)(a.LFG(Wr),a.LFG(Bn))};static#t=this.\u0275prov=a.Yz7({token:K6,factory:K6.\u0275fac,providedIn:"root"})}class Sh{constructor(e,t){this.fire=e,this.router=t}canActivate(e,t){return this.fire.getAuthenticated().pipe((0,ut.U)(i=>null==i||(this.router.navigate(["home"]),!1)))}static#e=this.\u0275fac=function(t){return new(t||Sh)(a.LFG(Wr),a.LFG(Bn))};static#t=this.\u0275prov=a.Yz7({token:Sh,factory:Sh.\u0275fac,providedIn:"root"})}class L7{constructor(e,t){this.fire=e,this.router=t}canActivate(e,t){return null==this.fire.userState.getValue()&&this.router.navigate(["tourlist"]),this.fire.userState.getValue().client.booleanValue||this.fire.userState.getValue().menager.booleanValue||this.fire.userState.getValue().admin.booleanValue}static#e=this.\u0275fac=function(t){return new(t||L7)(a.LFG(Wr),a.LFG(Bn))};static#t=this.\u0275prov=a.Yz7({token:L7,factory:L7.\u0275fac,providedIn:"root"})}class Eh{constructor(e,t){this.fire=e,this.router=t}canActivate(e,t){return this.fire.getAuthenticated().pipe((0,ut.U)(i=>{let r=!1;return this.fire.getUserById(i.uid).then(s=>r=s.docs[0].data()).finally(()=>{!r.admin&&!r.menager&&this.router.navigate(["home"])}),!0}))}static#e=this.\u0275fac=function(t){return new(t||Eh)(a.LFG(Wr),a.LFG(Bn))};static#t=this.\u0275prov=a.Yz7({token:Eh,factory:Eh.\u0275fac,providedIn:"root"})}class Ax{constructor(e){this.fire=e,this.curr_state=""}changePersistence(e){this.fire.changePersistance(e),this.curr_state="Stan aktualny: "+e}static#e=this.\u0275fac=function(t){return new(t||Ax)(a.Y36(Wr))};static#t=this.\u0275cmp=a.Xpm({type:Ax,selectors:[["app-state-persistence"]],decls:12,vars:1,consts:[[1,"t"],[1,"wrap"],[1,"btn",3,"click"]],template:function(t,i){1&t&&(a.TgZ(0,"div",0)(1,"div"),a._uU(2,"Zmie\u0144 tryb persystencji"),a.qZA(),a.TgZ(3,"div",1)(4,"div",2),a.NdJ("click",function(){return i.changePersistence("local")}),a._uU(5,"LOCAL"),a.qZA(),a.TgZ(6,"div",2),a.NdJ("click",function(){return i.changePersistence("session")}),a._uU(7,"SESSION"),a.qZA(),a.TgZ(8,"div",2),a.NdJ("click",function(){return i.changePersistence("none")}),a._uU(9,"NONE"),a.qZA()(),a.TgZ(10,"div"),a._uU(11),a.qZA()()),2&t&&(a.xp6(11),a.Oqu(i.curr_state))},styles:[".btn[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;border:solid 2px black;cursor:pointer;padding:10px}.btn[_ngcontent-%COMP%]:hover{background-color:gray}.wrap[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.t[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column}*[_ngcontent-%COMP%]{font-size:1.2rem;font-family:Arial,Helvetica,sans-serif;padding:10px}"]})}function Bwe(n,e){if(1&n&&(a.TgZ(0,"option",6),a._uU(1),a.qZA()),2&n){const t=e.$implicit;a.Q6J("value",t.id),a.xp6(1),a.Oqu(t.email)}}function Uwe(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",7)(1,"div",8)(2,"div",9),a._uU(3),a.qZA(),a.TgZ(4,"div",9),a._uU(5),a.qZA(),a.TgZ(6,"div",9),a._uU(7),a.qZA(),a.TgZ(8,"div",9),a._uU(9),a.qZA(),a.TgZ(10,"div",9),a._uU(11),a.qZA()(),a.TgZ(12,"button",10),a.NdJ("click",function(){a.CHM(t);const r=a.oxw();return a.KtG(r.banUser())}),a._uU(13,"Banuj"),a.qZA(),a.TgZ(14,"button",10),a.NdJ("click",function(){a.CHM(t);const r=a.oxw();return a.KtG(r.unbanUser())}),a._uU(15,"Odbanuj"),a.qZA(),a.TgZ(16,"button",10),a.NdJ("click",function(){a.CHM(t);const r=a.oxw();return a.KtG(r.setEditMode())}),a._uU(17,"Edytuj Role"),a.qZA()()}if(2&n){const t=a.oxw();a.xp6(3),a.hij("Admin: ",t.selectedUser.admin,""),a.xp6(2),a.hij("Manager: ",t.selectedUser.menager,""),a.xp6(2),a.hij("Client: ",t.selectedUser.client,""),a.xp6(2),a.hij("Guest: ",t.selectedUser.guest,""),a.xp6(2),a.hij("Banned: ",t.selectedUser.banned,"")}}function jwe(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",11)(1,"div",8)(2,"div",9),a._uU(3,"Admin:"),a.TgZ(4,"input",12),a.NdJ("ngModelChange",function(r){a.CHM(t);const s=a.oxw();return a.KtG(s.selectedUser.admin=r)}),a.qZA()(),a.TgZ(5,"div",9),a._uU(6,"Manager: "),a.TgZ(7,"input",12),a.NdJ("ngModelChange",function(r){a.CHM(t);const s=a.oxw();return a.KtG(s.selectedUser.menager=r)}),a.qZA()(),a.TgZ(8,"div",9),a._uU(9,"Client: "),a.TgZ(10,"input",12),a.NdJ("ngModelChange",function(r){a.CHM(t);const s=a.oxw();return a.KtG(s.selectedUser.client=r)}),a.qZA()(),a.TgZ(11,"div",9),a._uU(12,"Guest: "),a.TgZ(13,"input",12),a.NdJ("ngModelChange",function(r){a.CHM(t);const s=a.oxw();return a.KtG(s.selectedUser.guest=r)}),a.qZA()(),a.TgZ(14,"div",9),a._uU(15,"Banned: "),a.TgZ(16,"input",12),a.NdJ("ngModelChange",function(r){a.CHM(t);const s=a.oxw();return a.KtG(s.selectedUser.banned=r)}),a.qZA()()(),a.TgZ(17,"button",10),a.NdJ("click",function(){a.CHM(t);const r=a.oxw();return a.KtG(r.disableEditMode(r.selectedUser))}),a._uU(18,"Zmie\u0144 Role"),a.qZA()()}if(2&n){const t=a.oxw();a.xp6(4),a.Q6J("ngModel",t.selectedUser.admin),a.xp6(3),a.Q6J("ngModel",t.selectedUser.menager),a.xp6(3),a.Q6J("ngModel",t.selectedUser.client),a.xp6(3),a.Q6J("ngModel",t.selectedUser.guest),a.xp6(3),a.Q6J("ngModel",t.selectedUser.banned)}}class Vx{constructor(e){this.fire=e,this.userList=[],this.selectedUser=!1,this.selected=1,this.show_edit=!1}ngOnInit(){this.userList=[],this.fire.getUsersList().then(e=>e.forEach(t=>this.addToUserList(t.data()))).finally(()=>{})}addToUserList(e){this.userList.push(e)}selectOption(e){this.fire.getUserById(this.selected).then(t=>this.selectedUser=t.docs[0].data())}banUser(){this.fire.banUserById(this.selectedUser.id),this.selectedUser.banned=!0}unbanUser(){this.fire.unbanUserById(this.selectedUser.id),this.selectedUser.banned=!1}setEditMode(){this.show_edit=!0}disableEditMode(e){this.fire.updateRolesByID(e.id,e),this.show_edit=!1}static#e=this.\u0275fac=function(t){return new(t||Vx)(a.Y36(Wr))};static#t=this.\u0275cmp=a.Xpm({type:Vx,selectors:[["app-admin-view"]],decls:7,vars:4,consts:[["id","manage"],[3,"ngModel","change","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["id","roles"],["class","view",4,"ngIf"],["class","edit",4,"ngIf"],[3,"value"],[1,"view"],[1,"wrap"],[1,"txt"],[3,"click"],[1,"edit"],["type","checkbox",3,"ngModel","ngModelChange"]],template:function(t,i){1&t&&(a._UZ(0,"app-state-persistence"),a.TgZ(1,"div",0)(2,"select",1),a.NdJ("change",function(s){return i.selectOption(s.target)})("ngModelChange",function(s){return i.selected=s}),a.YNc(3,Bwe,2,2,"option",2),a.qZA(),a.TgZ(4,"div",3),a.YNc(5,Uwe,18,5,"div",4),a.YNc(6,jwe,19,5,"div",5),a.qZA()()),2&t&&(a.xp6(2),a.Q6J("ngModel",i.selected),a.xp6(1),a.Q6J("ngForOf",i.userList),a.xp6(2),a.Q6J("ngIf",!i.show_edit),a.xp6(1),a.Q6J("ngIf",i.show_edit))},dependencies:[bi,dn,Ed,ig,N8,Au,o3,Eu,Ax],styles:["#manage[_ngcontent-%COMP%]{border:solid 2px black;transform:translate(-50%);position:relative;left:50%;width:50%;font-size:1.2rem;border-radius:5px;background:linear-gradient(rgb(90,17,17),rgb(130,49,39))}select[_ngcontent-%COMP%]{font-size:1.2rem}.txt[_ngcontent-%COMP%], #roles[_ngcontent-%COMP%]{padding:5px}.view[_ngcontent-%COMP%], .edit[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}button[_ngcontent-%COMP%]{background-color:#000;padding:5px;font-size:1rem;margin:5px;cursor:pointer;color:#fff;border:solid 2px white;width:10%}button[_ngcontent-%COMP%]:hover{transition:all .3s;background-color:#4b4b4b}.wrap[_ngcontent-%COMP%]{border:solid 2px black;background-color:#fff}.wrap[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border:solid 2px black}"]})}function $we(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"button",18),a.NdJ("click",function(){a.CHM(t);const r=a.oxw();return a.KtG(r.submit())}),a._uU(1,"Submit"),a.qZA()}}class Lx{constructor(e,t){this._router=e,this.firebase=t,this.sendObjForm=new a.vpe,this.submit_enabled=!0}ngOnInit(){this.myForm=new N2({country_of_dest:new Or(null,[pi.required]),name:new Or(null,[pi.required]),description:new Or(null,[pi.required]),unit_price:new Or(null,[pi.required,pi.min(1)]),max_people:new Or(null,[pi.required,pi.min(1)]),start_date:new Or(null,[pi.required]),end_date:new Or(null,[pi.required]),photo_src:new Or(null,[pi.required])})}submit(){if(this.myForm.valid){const e=this.myForm.value;e.photo_src=this.file,this.submit_enabled=!1,this.firebase.createTour(e).then(t=>this._router.navigate(["tourlist"]))}else alert("Form not valid !")}detectFiles(e){this.file=e.target.files[0]}static#e=this.\u0275fac=function(t){return new(t||Lx)(a.Y36(Bn),a.Y36(Wr))};static#t=this.\u0275cmp=a.Xpm({type:Lx,selectors:[["app-form"]],outputs:{sendObjForm:"sendObjForm"},decls:40,vars:4,consts:[["novalidate","",3,"formGroup"],["appearance","fill"],["formControlName","country_of_dest","matInput",""],["country",""],["formControlName","name","matInput",""],["last",""],[3,"rangePicker"],["matStartDate","","formControlName","start_date","placeholder","Start date"],["matEndDate","","formControlName","end_date","placeholder","End date"],["matIconSuffix","",3,"for"],["picker",""],["matInput","","maxlength","150","cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","5","formControlName","description"],["matInput","","type","number","formControlName","unit_price"],["matInput","","type","number","formControlName","max_people"],["people",""],["for","fileupload"],["type","file","name","fileupload","accept",".jpg,.png,.webp,.jpeg","formControlName","photo_src",2,"margin","15px",3,"change"],["type","button","class","btn btn-primary",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(t,i){if(1&t&&(a.TgZ(0,"form",0)(1,"fieldset")(2,"mat-form-field",1)(3,"mat-label"),a._uU(4,"Kraj docelowy"),a.qZA(),a._UZ(5,"input",2,3),a.qZA(),a.TgZ(7,"mat-form-field",1)(8,"mat-label"),a._uU(9,"Nazwa wycieczki"),a.qZA(),a._UZ(10,"input",4,5),a.qZA(),a.TgZ(12,"mat-form-field",1)(13,"mat-label"),a._uU(14,"Wprowad\u017a date wycieczki"),a.qZA(),a.TgZ(15,"mat-date-range-input",6),a._UZ(16,"input",7)(17,"input",8),a.qZA(),a.TgZ(18,"mat-hint"),a._uU(19,"MM/DD/YYYY \u2013 MM/DD/YYYY"),a.qZA(),a._UZ(20,"mat-datepicker-toggle",9)(21,"mat-date-range-picker",null,10),a.qZA(),a.TgZ(23,"mat-form-field",1)(24,"mat-label"),a._uU(25,"Wprowad\u017a kr\xf3tki opis"),a.qZA(),a._UZ(26,"textarea",11),a.qZA(),a.TgZ(27,"mat-form-field",1)(28,"mat-label"),a._uU(29,"Podaj cene:"),a.qZA(),a._UZ(30,"input",12),a.qZA(),a.TgZ(31,"mat-form-field",1)(32,"mat-label"),a._uU(33,"Podaj maksymaln\u0105 liczbe os\xf3b:"),a.qZA(),a._UZ(34,"input",13,14),a.qZA(),a.TgZ(36,"label",15),a._uU(37,"Dodaj zdj\u0119cie:"),a.qZA(),a.TgZ(38,"input",16),a.NdJ("change",function(s){return i.detectFiles(s)}),a.qZA(),a.YNc(39,$we,2,0,"button",17),a.qZA()()),2&t){const r=a.MAs(22);a.Q6J("formGroup",i.myForm),a.xp6(15),a.Q6J("rangePicker",r),a.xp6(5),a.Q6J("for",r),a.xp6(19),a.Q6J("ngIf",i.submit_enabled)}},dependencies:[dn,h3,z2,Du,o3,md,no,$P,Zre,qP,YP,Kre,TP,Zy,Ky,xP,ia,m3,LP,AP],styles:["fieldset[_ngcontent-%COMP%]{display:flex;flex-direction:column}button[_ngcontent-%COMP%]{border:solid 2px black;padding:10px;border-radius:10px}button[_ngcontent-%COMP%]:hover{background-color:#b2b2b2;transition:all .4s}fieldset[_ngcontent-%COMP%]{position:absolute;z-index:9;background-color:#fff;left:50%;transform:translate(-50%);width:40%;margin-top:25px}"]})}function Gwe(n,e){1&n&&a._UZ(0,"app-form")}function Wwe(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"button",3),a.NdJ("click",function(){a.CHM(t);const r=a.oxw();return a.KtG(r.hideForm())}),a._uU(1,"Wr\xf3\u0107"),a.qZA()}}function qwe(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"button",3),a.NdJ("click",function(){a.CHM(t);const r=a.oxw();return a.KtG(r.showForm())}),a._uU(1,"Dodaj wycieczk\u0119"),a.qZA()}}function Ywe(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"input",12),a.NdJ("ngModelChange",function(r){a.CHM(t);const s=a.oxw().$implicit;return a.KtG(s.unit_price=r)}),a.qZA()}if(2&n){const t=a.oxw().$implicit;a.Q6J("ngModel",t.unit_price)}}function Zwe(n,e){if(1&n&&(a.TgZ(0,"div"),a._uU(1),a.qZA()),2&n){const t=a.oxw().$implicit;a.xp6(1),a.hij(" ",t.unit_price,"")}}function Kwe(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"button",13),a.NdJ("click",function(){a.CHM(t);const r=a.oxw(3);return a.KtG(r.setEditMode())}),a._uU(1,"Edytuj cene"),a.qZA()}}function Qwe(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"button",13),a.NdJ("click",function(){a.CHM(t);const r=a.oxw().$implicit,s=a.oxw(2);return a.KtG(s.updatePrice(r.id,r.unit_price))}),a._uU(1,"Zmie\u0144 cene"),a.qZA()}}function Xwe(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"input",12),a.NdJ("ngModelChange",function(r){a.CHM(t);const s=a.oxw().$implicit;return a.KtG(s.max_people=r)}),a.qZA()}if(2&n){const t=a.oxw().$implicit;a.Q6J("ngModel",t.max_people)}}function Jwe(n,e){if(1&n&&(a.TgZ(0,"div"),a._uU(1),a.qZA()),2&n){const t=a.oxw().$implicit;a.xp6(1),a.hij(" ",t.max_people,"")}}function eMe(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"button",13),a.NdJ("click",function(){a.CHM(t);const r=a.oxw(3);return a.KtG(r.setEditModePeople())}),a._uU(1,"Edytuj liczbe miejsc"),a.qZA()}}function tMe(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"button",13),a.NdJ("click",function(){a.CHM(t);const r=a.oxw().$implicit,s=a.oxw(2);return a.KtG(s.updatePeople(r.id,r.max_people))}),a._uU(1,"Zmie\u0144 liczbe miejsc"),a.qZA()}}function nMe(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",6)(1,"div",7),a._uU(2),a.qZA(),a.TgZ(3,"div",7),a._uU(4),a.qZA(),a.TgZ(5,"div",8)(6,"div"),a._uU(7,"Cena:"),a.qZA(),a.YNc(8,Ywe,1,1,"input",9),a.YNc(9,Zwe,2,1,"div",0),a.YNc(10,Kwe,2,0,"button",10),a.YNc(11,Qwe,2,0,"button",10),a.qZA(),a.TgZ(12,"div",8)(13,"div"),a._uU(14,"Ilo\u015b\u0107 miejsc:"),a.qZA(),a.YNc(15,Xwe,1,1,"input",9),a.YNc(16,Jwe,2,1,"div",0),a.YNc(17,eMe,2,0,"button",10),a.YNc(18,tMe,2,0,"button",10),a.qZA(),a.TgZ(19,"button",11),a.NdJ("click",function(){const s=a.CHM(t).$implicit,l=a.oxw(2);return a.KtG(l.delFromDb(s.id))}),a._uU(20,"Usu\u0144 z bazy"),a.qZA()()}if(2&n){const t=e.$implicit,i=a.oxw(2);a.xp6(2),a.hij("Nazwa Wycieczki: ",t.name,""),a.xp6(2),a.hij("Kraj Wycieczki: ",t.country_of_dest,""),a.xp6(4),a.Q6J("ngIf",i.edit_mode_price),a.xp6(1),a.Q6J("ngIf",!i.edit_mode_price),a.xp6(1),a.Q6J("ngIf",!i.edit_mode_price),a.xp6(1),a.Q6J("ngIf",i.edit_mode_price),a.xp6(4),a.Q6J("ngIf",i.edit_mode_people),a.xp6(1),a.Q6J("ngIf",!i.edit_mode_people),a.xp6(1),a.Q6J("ngIf",!i.edit_mode_people),a.xp6(1),a.Q6J("ngIf",i.edit_mode_people)}}function iMe(n,e){if(1&n&&(a.TgZ(0,"div",4),a.YNc(1,nMe,21,10,"div",5),a.qZA()),2&n){const t=a.oxw();a.xp6(1),a.Q6J("ngForOf",t.db)}}class kx{constructor(e){this.fire=e,this.db=[],this.form_enabled=!1,this.edit_mode_price=!1,this.edit_mode_people=!1,this.new_value=null}ngOnInit(){this.fire.getData().then(e=>this.setData(e.docs.map(t=>Object.assign(t.data(),{id:t.id}))))}setData(e){this.db=e,console.log(this.db)}setEditMode(){this.edit_mode_price=!0}updatePrice(e,t){this.fire.updatePriceByID(e,t),this.edit_mode_price=!1}delFromDb(e){this.fire.deleteByID(e)}showForm(){this.form_enabled=!0}hideForm(){this.form_enabled=!1}setEditModePeople(){this.edit_mode_people=!0}updatePeople(e,t){this.fire.updatePeopleByID(e,t),this.edit_mode_people=!1}static#e=this.\u0275fac=function(t){return new(t||kx)(a.Y36(Wr))};static#t=this.\u0275cmp=a.Xpm({type:kx,selectors:[["app-tripmanager"]],decls:4,vars:4,consts:[[4,"ngIf"],["class","top",3,"click",4,"ngIf"],["id","listoftours",4,"ngIf"],[1,"top",3,"click"],["id","listoftours"],["class","tour",4,"ngFor","ngForOf"],[1,"tour"],[1,"line"],[1,"edit","line"],["min","1","type","number",3,"ngModel","ngModelChange",4,"ngIf"],[3,"click",4,"ngIf"],["id","del",3,"click"],["min","1","type","number",3,"ngModel","ngModelChange"],[3,"click"]],template:function(t,i){1&t&&(a.YNc(0,Gwe,1,0,"app-form",0),a.YNc(1,Wwe,2,0,"button",1),a.YNc(2,qwe,2,0,"button",1),a.YNc(3,iMe,2,1,"div",2)),2&t&&(a.Q6J("ngIf",i.form_enabled),a.xp6(1),a.Q6J("ngIf",i.form_enabled),a.xp6(1),a.Q6J("ngIf",!i.form_enabled),a.xp6(1),a.Q6J("ngIf",!i.form_enabled))},dependencies:[bi,dn,z2,Du,o3,ag,Eu,Lx],styles:[".tour[_ngcontent-%COMP%]{border:solid 2px black;margin:10px;font-size:1rem;display:flex;flex-direction:column;justify-content:center;align-items:center;border-radius:5px;width:30%;min-width:300px;background-color:#823127;color:#fff}.edit[_ngcontent-%COMP%]{display:flex;gap:10px}.line[_ngcontent-%COMP%]{padding:.5rem}#listoftours[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-evenly;align-items:center}button[_ngcontent-%COMP%]{background-color:#823127;color:#fff;font-size:1rem}#del[_ngcontent-%COMP%]{margin:10px;background-color:red}button[_ngcontent-%COMP%]:hover{background-color:#411913dc;cursor:pointer;transition:all .3s}.top[_ngcontent-%COMP%]{margin-top:5px;margin-left:5px}"]})}const rMe=[{path:"tripmanager",component:kx,canActivate:[K6,Eh]},{path:"cart",component:ad,canActivate:[K6]},{path:"tourlist/:id",component:fx,canActivate:[L7]},{path:"tourlist",component:Ix},{path:"home",component:Vy},{path:"login",component:Ay,canActivate:[Sh]},{path:"register",component:Ly,canActivate:[Sh]},{path:"adminview",component:Vx,canActivate:[K6,Eh]},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",redirectTo:"/home",pathMatch:"full"}];class Hx{static#e=this.\u0275fac=function(t){return new(t||Hx)};static#t=this.\u0275mod=a.oAB({type:Hx});static#n=this.\u0275inj=a.cJS({imports:[GC.forRoot(rMe),GC]})}function GW(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function pt(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?GW(Object(t),!0).forEach(function(i){qr(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):GW(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function zx(n){return(zx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function WW(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function qr(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function CI(n,e){return function lMe(n){if(Array.isArray(n))return n}(n)||function fMe(n,e){var t=null==n?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var l,f,i=[],r=!0,s=!1;try{for(t=t.call(n);!(r=(l=t.next()).done)&&(i.push(l.value),!e||i.length!==e);r=!0);}catch(p){s=!0,f=p}finally{try{!r&&null!=t.return&&t.return()}finally{if(s)throw f}}return i}}(n,e)||qW(n,e)||function hMe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H7(n){return function cMe(n){if(Array.isArray(n))return wI(n)}(n)||function uMe(n){if(typeof Symbol<"u"&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||qW(n)||function dMe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qW(n,e){if(n){if("string"==typeof n)return wI(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return wI(n,e)}}function wI(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}var YW=function(){},MI={},ZW={},KW=null,QW={mark:YW,measure:YW};try{typeof window<"u"&&(MI=window),typeof document<"u"&&(ZW=document),typeof MutationObserver<"u"&&(KW=MutationObserver),typeof performance<"u"&&(QW=performance)}catch{}var Px,Ox,Fx,Bx,Ux,XW=(MI.navigator||{}).userAgent,JW=void 0===XW?"":XW,t4=MI,_i=ZW,eq=KW,Rx=QW,al=!!_i.documentElement&&!!_i.head&&"function"==typeof _i.addEventListener&&"function"==typeof _i.createElement,tq=~JW.indexOf("MSIE")||~JW.indexOf("Trident/"),cl="___FONT_AWESOME___",iq="svg-inline--fa",Q6="data-fa-i2svg",EI="data-fa-pseudo-element",DI="data-prefix",TI="data-icon",rq="fontawesome-i2svg",_Me=["HTML","HEAD","STYLE","SCRIPT"],sq=function(){try{return!0}catch{return!1}}(),vi="classic",Qi="sharp",II=[vi,Qi];function z7(n){return new Proxy(n,{get:function(t,i){return i in t?t[i]:t[vi]}})}var N7=z7((qr(Px={},vi,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),qr(Px,Qi,{fa:"solid",fass:"solid","fa-solid":"solid"}),Px)),R7=z7((qr(Ox={},vi,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),qr(Ox,Qi,{solid:"fass"}),Ox)),P7=z7((qr(Fx={},vi,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),qr(Fx,Qi,{fass:"fa-solid"}),Fx)),vMe=z7((qr(Bx={},vi,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),qr(Bx,Qi,{"fa-solid":"fass"}),Bx)),yMe=/fa(s|r|l|t|d|b|k|ss)?[\-\ ]/,oq="fa-layers-text",xMe=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,bMe=z7((qr(Ux={},vi,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),qr(Ux,Qi,{900:"fass"}),Ux)),aq=[1,2,3,4,5,6,7,8,9,10],CMe=aq.concat([11,12,13,14,15,16,17,18,19,20]),wMe=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],O7=new Set;Object.keys(R7[vi]).map(O7.add.bind(O7)),Object.keys(R7[Qi]).map(O7.add.bind(O7));var MMe=[].concat(II,H7(O7),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul","duotone-group","swap-opacity","primary","secondary"]).concat(aq.map(function(n){return"".concat(n,"x")})).concat(CMe.map(function(n){return"w-".concat(n)})),F7=t4.FontAwesomeConfig||{};_i&&"function"==typeof _i.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(n){var e=CI(n,2),i=e[1],r=function EMe(n){return""===n||"false"!==n&&("true"===n||n)}(function SMe(n){var e=_i.querySelector("script["+n+"]");if(e)return e.getAttribute(n)}(e[0]));null!=r&&(F7[i]=r)});var cq={styleDefault:"solid",familyDefault:"classic",cssPrefix:"fa",replacementClass:iq,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};F7.familyPrefix&&(F7.cssPrefix=F7.familyPrefix);var Dh=pt(pt({},cq),F7);Dh.autoReplaceSvg||(Dh.observeMutations=!1);var At={};Object.keys(cq).forEach(function(n){Object.defineProperty(At,n,{enumerable:!0,set:function(t){Dh[n]=t,B7.forEach(function(i){return i(At)})},get:function(){return Dh[n]}})}),Object.defineProperty(At,"familyPrefix",{enumerable:!0,set:function(e){Dh.cssPrefix=e,B7.forEach(function(t){return t(At)})},get:function(){return Dh.cssPrefix}}),t4.FontAwesomeConfig=At;var B7=[],K1={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function U7(){for(var n=12,e="";n-- >0;)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return e}function Th(n){for(var e=[],t=(n||[]).length>>>0;t--;)e[t]=n[t];return e}function AI(n){return n.classList?Th(n.classList):(n.getAttribute("class")||"").split(" ").filter(function(e){return e})}function lq(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function jx(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,": ").concat(n[t].trim(),";")},"")}function VI(n){return n.size!==K1.size||n.x!==K1.x||n.y!==K1.y||n.rotate!==K1.rotate||n.flipX||n.flipY}function uq(){var n="fa",e=iq,t=At.cssPrefix,i=At.replacementClass,r=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';if(t!==n||i!==e){var s=new RegExp("\\.".concat(n,"\\-"),"g"),l=new RegExp("\\--".concat(n,"\\-"),"g"),f=new RegExp("\\.".concat(e),"g");r=r.replace(s,".".concat(t,"-")).replace(l,"--".concat(t,"-")).replace(f,".".concat(i))}return r}var fq=!1;function LI(){At.autoAddCss&&!fq&&(function IMe(n){if(n&&al){var e=_i.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=n;for(var t=_i.head.childNodes,i=null,r=t.length-1;r>-1;r--){var s=t[r],l=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(l)>-1&&(i=s)}_i.head.insertBefore(e,i)}}(uq()),fq=!0)}var zMe={mixout:function(){return{dom:{css:uq,insertCss:LI}}},hooks:function(){return{beforeDOMElementCreation:function(){LI()},beforeI2svg:function(){LI()}}}},ll=t4||{};ll[cl]||(ll[cl]={}),ll[cl].styles||(ll[cl].styles={}),ll[cl].hooks||(ll[cl].hooks={}),ll[cl].shims||(ll[cl].shims=[]);var $2=ll[cl],dq=[],$x=!1;function RMe(n){!al||($x?setTimeout(n,0):dq.push(n))}function j7(n){var e=n.tag,t=n.attributes,i=void 0===t?{}:t,r=n.children,s=void 0===r?[]:r;return"string"==typeof n?lq(n):"<".concat(e," ").concat(function VMe(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,'="').concat(lq(n[t]),'" ')},"").trim()}(i),">").concat(s.map(j7).join(""),"</").concat(e,">")}function hq(n,e,t){if(n&&n[e]&&n[e][t])return{prefix:e,iconName:t,icon:n[e][t]}}al&&(($x=(_i.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(_i.readyState))||_i.addEventListener("DOMContentLoaded",function n(){_i.removeEventListener("DOMContentLoaded",n),$x=1,dq.map(function(e){return e()})}));var kI=function(e,t,i,r){var p,_,x,s=Object.keys(e),l=s.length,f=void 0!==r?function(e,t){return function(i,r,s,l){return e.call(t,i,r,s,l)}}(t,r):t;for(void 0===i?(p=1,x=e[s[0]]):(p=0,x=i);p<l;p++)x=f(x,e[_=s[p]],_,e);return x};function HI(n){var e=function OMe(n){for(var e=[],t=0,i=n.length;t<i;){var r=n.charCodeAt(t++);if(r>=55296&&r<=56319&&t<i){var s=n.charCodeAt(t++);56320==(64512&s)?e.push(((1023&r)<<10)+(1023&s)+65536):(e.push(r),t--)}else e.push(r)}return e}(n);return 1===e.length?e[0].toString(16):null}function pq(n){return Object.keys(n).reduce(function(e,t){var i=n[t];return i.icon?e[i.iconName]=i.icon:e[t]=i,e},{})}function zI(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=t.skipHooks,r=void 0!==i&&i,s=pq(e);"function"!=typeof $2.hooks.addPack||r?$2.styles[n]=pt(pt({},$2.styles[n]||{}),s):$2.hooks.addPack(n,pq(e)),"fas"===n&&zI("fa",e)}var Gx,Wx,qx,Ih=$2.styles,BMe=$2.shims,UMe=(qr(Gx={},vi,Object.values(P7[vi])),qr(Gx,Qi,Object.values(P7[Qi])),Gx),NI=null,mq={},gq={},_q={},vq={},yq={},jMe=(qr(Wx={},vi,Object.keys(N7[vi])),qr(Wx,Qi,Object.keys(N7[Qi])),Wx);function GMe(n,e){var t=e.split("-"),i=t[0],r=t.slice(1).join("-");return i!==n||""===r||function $Me(n){return~MMe.indexOf(n)}(r)?null:r}var xq=function(){var e=function(s){return kI(Ih,function(l,f,p){return l[p]=kI(f,s,{}),l},{})};mq=e(function(r,s,l){return s[3]&&(r[s[3]]=l),s[2]&&s[2].filter(function(p){return"number"==typeof p}).forEach(function(p){r[p.toString(16)]=l}),r}),gq=e(function(r,s,l){return r[l]=l,s[2]&&s[2].filter(function(p){return"string"==typeof p}).forEach(function(p){r[p]=l}),r}),yq=e(function(r,s,l){var f=s[2];return r[l]=l,f.forEach(function(p){r[p]=l}),r});var t="far"in Ih||At.autoFetchSvg,i=kI(BMe,function(r,s){var l=s[0],f=s[1],p=s[2];return"far"===f&&!t&&(f="fas"),"string"==typeof l&&(r.names[l]={prefix:f,iconName:p}),"number"==typeof l&&(r.unicodes[l.toString(16)]={prefix:f,iconName:p}),r},{names:{},unicodes:{}});_q=i.names,vq=i.unicodes,NI=Yx(At.styleDefault,{family:At.familyDefault})};function RI(n,e){return(mq[n]||{})[e]}function J6(n,e){return(yq[n]||{})[e]}function bq(n){return _q[n]||{prefix:null,iconName:null}}function i4(){return NI}function Yx(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=e.family,i=void 0===t?vi:t,r=N7[i][n],s=R7[i][n]||R7[i][r],l=n in $2.styles?n:null;return s||l||null}(function TMe(n){B7.push(n)})(function(n){NI=Yx(n.styleDefault,{family:At.familyDefault})}),xq();var Cq=(qr(qx={},vi,Object.keys(P7[vi])),qr(qx,Qi,Object.keys(P7[Qi])),qx);function Zx(n){var e,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.skipLookups,r=void 0!==i&&i,s=(qr(e={},vi,"".concat(At.cssPrefix,"-").concat(vi)),qr(e,Qi,"".concat(At.cssPrefix,"-").concat(Qi)),e),l=null,f=vi;(n.includes(s[vi])||n.some(function(_){return Cq[vi].includes(_)}))&&(f=vi),(n.includes(s[Qi])||n.some(function(_){return Cq[Qi].includes(_)}))&&(f=Qi);var p=n.reduce(function(_,x){var M=GMe(At.cssPrefix,x);if(Ih[x]?(x=UMe[f].includes(x)?vMe[f][x]:x,l=x,_.prefix=x):jMe[f].indexOf(x)>-1?(l=x,_.prefix=Yx(x,{family:f})):M?_.iconName=M:x!==At.replacementClass&&x!==s[vi]&&x!==s[Qi]&&_.rest.push(x),!r&&_.prefix&&_.iconName){var I="fa"===l?bq(_.iconName):{},H=J6(_.prefix,_.iconName);I.prefix&&(l=null),_.iconName=I.iconName||H||_.iconName,_.prefix=I.prefix||_.prefix,"far"===_.prefix&&!Ih.far&&Ih.fas&&!At.autoFetchSvg&&(_.prefix="fas")}return _},{prefix:null,iconName:null,rest:[]});return(n.includes("fa-brands")||n.includes("fab"))&&(p.prefix="fab"),(n.includes("fa-duotone")||n.includes("fad"))&&(p.prefix="fad"),!p.prefix&&f===Qi&&(Ih.fass||At.autoFetchSvg)&&(p.prefix="fass",p.iconName=J6(p.prefix,p.iconName)||p.iconName),("fa"===p.prefix||"fa"===l)&&(p.prefix=i4()||"fas"),p}var YMe=function(){function n(){(function sMe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.definitions={}}return function oMe(n,e,t){e&&WW(n.prototype,e),t&&WW(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"add",value:function(){for(var t=this,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];var l=r.reduce(this._pullDefinitions,{});Object.keys(l).forEach(function(f){t.definitions[f]=pt(pt({},t.definitions[f]||{}),l[f]),zI(f,l[f]);var p=P7[vi][f];p&&zI(p,l[f]),xq()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,i){var r=i.prefix&&i.iconName&&i.icon?{0:i}:i;return Object.keys(r).map(function(s){var l=r[s],f=l.prefix,p=l.iconName,_=l.icon,x=_[2];t[f]||(t[f]={}),x.length>0&&x.forEach(function(M){"string"==typeof M&&(t[f][M]=_)}),t[f][p]=_}),t}}]),n}(),wq=[],Ah={},Vh={},ZMe=Object.keys(Vh);function OI(n,e){for(var t=arguments.length,i=new Array(t>2?t-2:0),r=2;r<t;r++)i[r-2]=arguments[r];var s=Ah[n]||[];return s.forEach(function(l){e=l.apply(null,[e].concat(i))}),e}function ef(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];var r=Ah[n]||[];r.forEach(function(s){s.apply(null,t)})}function ul(){var n=arguments[0],e=Array.prototype.slice.call(arguments,1);return Vh[n]?Vh[n].apply(null,e):void 0}function FI(n){"fa"===n.prefix&&(n.prefix="fas");var e=n.iconName,t=n.prefix||i4();if(e)return e=J6(t,e)||e,hq(Mq.definitions,t,e)||hq($2.styles,t,e)}var Mq=new YMe,XMe={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return al?(ef("beforeI2svg",e),ul("pseudoElements2svg",e),ul("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot;!1===At.autoReplaceSvg&&(At.autoReplaceSvg=!0),At.observeMutations=!0,RMe(function(){eSe({autoReplaceSvgRoot:t}),ef("watch",e)})}},ga={noAuto:function(){At.autoReplaceSvg=!1,At.observeMutations=!1,ef("noAuto")},config:At,dom:XMe,parse:{icon:function(e){if(null===e)return null;if("object"===zx(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:J6(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],i=Yx(e[0]);return{prefix:i,iconName:J6(i,t)||t}}if("string"==typeof e&&(e.indexOf("".concat(At.cssPrefix,"-"))>-1||e.match(yMe))){var r=Zx(e.split(" "),{skipLookups:!0});return{prefix:r.prefix||i4(),iconName:J6(r.prefix,r.iconName)||r.iconName}}if("string"==typeof e){var s=i4();return{prefix:s,iconName:J6(s,e)||e}}}},library:Mq,findIconDefinition:FI,toHtml:j7},eSe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot,i=void 0===t?_i:t;(Object.keys($2.styles).length>0||At.autoFetchSvg)&&al&&At.autoReplaceSvg&&ga.dom.i2svg({node:i})};function Kx(n,e){return Object.defineProperty(n,"abstract",{get:e}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(function(i){return j7(i)})}}),Object.defineProperty(n,"node",{get:function(){if(al){var i=_i.createElement("div");return i.innerHTML=n.html,i.children}}}),n}function BI(n){var e=n.icons,t=e.main,i=e.mask,r=n.prefix,s=n.iconName,l=n.transform,f=n.symbol,p=n.title,_=n.maskId,x=n.titleId,M=n.extra,I=n.watchable,H=void 0!==I&&I,P=i.found?i:t,q=P.width,se=P.height,De="fak"===r,Fe=[At.replacementClass,s?"".concat(At.cssPrefix,"-").concat(s):""].filter(function(Xi){return-1===M.classes.indexOf(Xi)}).filter(function(Xi){return""!==Xi||!!Xi}).concat(M.classes).join(" "),Ge={children:[],attributes:pt(pt({},M.attributes),{},{"data-prefix":r,"data-icon":s,class:Fe,role:M.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(q," ").concat(se)})},Ze=De&&!~M.classes.indexOf("fa-fw")?{width:"".concat(q/se*16*.0625,"em")}:{};H&&(Ge.attributes[Q6]=""),p&&(Ge.children.push({tag:"title",attributes:{id:Ge.attributes["aria-labelledby"]||"title-".concat(x||U7())},children:[p]}),delete Ge.attributes.title);var ht=pt(pt({},Ge),{},{prefix:r,iconName:s,main:t,mask:i,maskId:_,transform:l,symbol:f,styles:pt(pt({},Ze),M.styles)}),xt=i.found&&t.found?ul("generateAbstractMask",ht)||{children:[],attributes:{}}:ul("generateAbstractIcon",ht)||{children:[],attributes:{}},yi=xt.attributes;return ht.children=xt.children,ht.attributes=yi,f?function nSe(n){var t=n.iconName,i=n.children,r=n.attributes,s=n.symbol,l=!0===s?"".concat(n.prefix,"-").concat(At.cssPrefix,"-").concat(t):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:pt(pt({},r),{},{id:l}),children:i}]}]}(ht):function tSe(n){var e=n.children,t=n.main,i=n.mask,r=n.attributes,s=n.styles,l=n.transform;if(VI(l)&&t.found&&!i.found){var _={x:t.width/t.height/2,y:.5};r.style=jx(pt(pt({},s),{},{"transform-origin":"".concat(_.x+l.x/16,"em ").concat(_.y+l.y/16,"em")}))}return[{tag:"svg",attributes:r,children:e}]}(ht)}function Sq(n){var e=n.content,t=n.width,i=n.height,r=n.transform,s=n.title,l=n.extra,f=n.watchable,p=void 0!==f&&f,_=pt(pt(pt({},l.attributes),s?{title:s}:{}),{},{class:l.classes.join(" ")});p&&(_[Q6]="");var x=pt({},l.styles);VI(r)&&(x.transform=function kMe(n){var e=n.transform,t=n.width,r=n.height,s=void 0===r?16:r,l=n.startCentered,f=void 0!==l&&l,p="";return p+=f&&tq?"translate(".concat(e.x/16-(void 0===t?16:t)/2,"em, ").concat(e.y/16-s/2,"em) "):f?"translate(calc(-50% + ".concat(e.x/16,"em), calc(-50% + ").concat(e.y/16,"em)) "):"translate(".concat(e.x/16,"em, ").concat(e.y/16,"em) "),(p+="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "))+"rotate(".concat(e.rotate,"deg) ")}({transform:r,startCentered:!0,width:t,height:i}),x["-webkit-transform"]=x.transform);var M=jx(x);M.length>0&&(_.style=M);var I=[];return I.push({tag:"span",attributes:_,children:[e]}),s&&I.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),I}function iSe(n){var e=n.content,t=n.title,i=n.extra,r=pt(pt(pt({},i.attributes),t?{title:t}:{}),{},{class:i.classes.join(" ")}),s=jx(i.styles);s.length>0&&(r.style=s);var l=[];return l.push({tag:"span",attributes:r,children:[e]}),t&&l.push({tag:"span",attributes:{class:"sr-only"},children:[t]}),l}var UI=$2.styles;function jI(n){var e=n[0],t=n[1],s=CI(n.slice(4),1)[0];return{found:!0,width:e,height:t,icon:Array.isArray(s)?{tag:"g",attributes:{class:"".concat(At.cssPrefix,"-").concat("duotone-group")},children:[{tag:"path",attributes:{class:"".concat(At.cssPrefix,"-").concat("secondary"),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(At.cssPrefix,"-").concat("primary"),fill:"currentColor",d:s[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:s}}}}var rSe={found:!1,width:512,height:512};function $I(n,e){var t=e;return"fa"===e&&null!==At.styleDefault&&(e=i4()),new Promise(function(i,r){if(ul("missingIconAbstract"),"fa"===t){var l=bq(n)||{};n=l.iconName||n,e=l.prefix||e}if(n&&e&&UI[e]&&UI[e][n])return i(jI(UI[e][n]));(function sSe(n,e){!sq&&!At.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(e,'" is missing.'))})(n,e),i(pt(pt({},rSe),{},{icon:At.showMissingIcons&&n&&ul("missingIconAbstract")||{}}))})}var Eq=function(){},GI=At.measurePerformance&&Rx&&Rx.mark&&Rx.measure?Rx:{mark:Eq,measure:Eq},$7='FA "6.2.1"',WI_begin=function(e){return GI.mark("".concat($7," ").concat(e," begins")),function(){return function(e){GI.mark("".concat($7," ").concat(e," ends")),GI.measure("".concat($7," ").concat(e),"".concat($7," ").concat(e," begins"),"".concat($7," ").concat(e," ends"))}(e)}},Qx=function(){};function Tq(n){return"string"==typeof(n.getAttribute?n.getAttribute(Q6):null)}function uSe(n){return _i.createElementNS("http://www.w3.org/2000/svg",n)}function fSe(n){return _i.createElement(n)}function Iq(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=e.ceFn,i=void 0===t?"svg"===n.tag?uSe:fSe:t;if("string"==typeof n)return _i.createTextNode(n);var r=i(n.tag);Object.keys(n.attributes||[]).forEach(function(l){r.setAttribute(l,n.attributes[l])});var s=n.children||[];return s.forEach(function(l){r.appendChild(Iq(l,{ceFn:i}))}),r}var Xx={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach(function(r){t.parentNode.insertBefore(Iq(r),t)}),null===t.getAttribute(Q6)&&At.keepOriginalSource){var i=_i.createComment(function dSe(n){var e=" ".concat(n.outerHTML," ");return"".concat(e,"Font Awesome fontawesome.com ")}(t));t.parentNode.replaceChild(i,t)}else t.remove()},nest:function(e){var t=e[0],i=e[1];if(~AI(t).indexOf(At.replacementClass))return Xx.replace(e);var r=new RegExp("".concat(At.cssPrefix,"-.*"));if(delete i[0].attributes.id,i[0].attributes.class){var s=i[0].attributes.class.split(" ").reduce(function(f,p){return p===At.replacementClass||p.match(r)?f.toSvg.push(p):f.toNode.push(p),f},{toNode:[],toSvg:[]});i[0].attributes.class=s.toSvg.join(" "),0===s.toNode.length?t.removeAttribute("class"):t.setAttribute("class",s.toNode.join(" "))}var l=i.map(function(f){return j7(f)}).join("\n");t.setAttribute(Q6,""),t.innerHTML=l}};function Aq(n){n()}function Vq(n,e){var t="function"==typeof e?e:Qx;if(0===n.length)t();else{var i=Aq;"async"===At.mutateApproach&&(i=t4.requestAnimationFrame||Aq),i(function(){var r=function lSe(){return!0===At.autoReplaceSvg?Xx.replace:Xx[At.autoReplaceSvg]||Xx.replace}(),s=WI_begin("mutate");n.map(r),s(),t()})}}var qI=!1;function Lq(){qI=!0}function YI(){qI=!1}var Jx=null;function kq(n){if(eq&&At.observeMutations){var e=n.treeCallback,t=void 0===e?Qx:e,i=n.nodeCallback,r=void 0===i?Qx:i,s=n.pseudoElementsCallback,l=void 0===s?Qx:s,f=n.observeMutationsRoot,p=void 0===f?_i:f;Jx=new eq(function(_){if(!qI){var x=i4();Th(_).forEach(function(M){if("childList"===M.type&&M.addedNodes.length>0&&!Tq(M.addedNodes[0])&&(At.searchPseudoElements&&l(M.target),t(M.target)),"attributes"===M.type&&M.target.parentNode&&At.searchPseudoElements&&l(M.target.parentNode),"attributes"===M.type&&Tq(M.target)&&~wMe.indexOf(M.attributeName))if("class"===M.attributeName&&function aSe(n){var e=n.getAttribute?n.getAttribute(DI):null,t=n.getAttribute?n.getAttribute(TI):null;return e&&t}(M.target)){var I=Zx(AI(M.target)),P=I.iconName;M.target.setAttribute(DI,I.prefix||x),P&&M.target.setAttribute(TI,P)}else(function cSe(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(At.replacementClass)})(M.target)&&r(M.target)})}}),al&&Jx.observe(p,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function pSe(n){var e=n.getAttribute("style"),t=[];return e&&(t=e.split(";").reduce(function(i,r){var s=r.split(":"),l=s[0],f=s.slice(1);return l&&f.length>0&&(i[l]=f.join(":").trim()),i},{})),t}function mSe(n){var e=n.getAttribute("data-prefix"),t=n.getAttribute("data-icon"),i=void 0!==n.innerText?n.innerText.trim():"",r=Zx(AI(n));return r.prefix||(r.prefix=i4()),e&&t&&(r.prefix=e,r.iconName=t),r.iconName&&r.prefix||(r.prefix&&i.length>0&&(r.iconName=function WMe(n,e){return(gq[n]||{})[e]}(r.prefix,n.innerText)||RI(r.prefix,HI(n.innerText))),!r.iconName&&At.autoFetchSvg&&n.firstChild&&n.firstChild.nodeType===Node.TEXT_NODE&&(r.iconName=n.firstChild.data)),r}function gSe(n){var e=Th(n.attributes).reduce(function(r,s){return"class"!==r.name&&"style"!==r.name&&(r[s.name]=s.value),r},{}),t=n.getAttribute("title"),i=n.getAttribute("data-fa-title-id");return At.autoA11y&&(t?e["aria-labelledby"]="".concat(At.replacementClass,"-title-").concat(i||U7()):(e["aria-hidden"]="true",e.focusable="false")),e}function Hq(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},t=mSe(n),i=t.iconName,r=t.prefix,s=t.rest,l=gSe(n),f=OI("parseNodeAttributes",{},n),p=e.styleParser?pSe(n):[];return pt({iconName:i,title:n.getAttribute("title"),titleId:n.getAttribute("data-fa-title-id"),prefix:r,transform:K1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:p,attributes:l}},f)}var vSe=$2.styles;function zq(n){var e="nest"===At.autoReplaceSvg?Hq(n,{styleParser:!1}):Hq(n);return~e.extra.classes.indexOf(oq)?ul("generateLayersText",n,e):ul("generateSvgReplacementMutation",n,e)}var r4=new Set;function Nq(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!al)return Promise.resolve();var t=_i.documentElement.classList,i=function(M){return t.add("".concat(rq,"-").concat(M))},r=function(M){return t.remove("".concat(rq,"-").concat(M))},s=At.autoFetchSvg?r4:II.map(function(x){return"fa-".concat(x)}).concat(Object.keys(vSe));s.includes("fa")||s.push("fa");var l=[".".concat(oq,":not([").concat(Q6,"])")].concat(s.map(function(x){return".".concat(x,":not([").concat(Q6,"])")})).join(", ");if(0===l.length)return Promise.resolve();var f=[];try{f=Th(n.querySelectorAll(l))}catch{}if(!(f.length>0))return Promise.resolve();i("pending"),r("complete");var p=WI_begin("onTree"),_=f.reduce(function(x,M){try{var I=zq(M);I&&x.push(I)}catch(H){sq||"MissingIcon"===H.name&&console.error(H)}return x},[]);return new Promise(function(x,M){Promise.all(_).then(function(I){Vq(I,function(){i("active"),i("complete"),r("pending"),"function"==typeof e&&e(),p(),x()})}).catch(function(I){p(),M(I)})})}function ySe(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;zq(n).then(function(t){t&&Vq([t],e)})}function xSe(n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=(e||{}).icon?e:FI(e||{}),r=t.mask;return r&&(r=(r||{}).icon?r:FI(r||{})),n(i,pt(pt({},t),{},{mask:r}))}}II.map(function(n){r4.add("fa-".concat(n))}),Object.keys(N7[vi]).map(r4.add.bind(r4)),Object.keys(N7[Qi]).map(r4.add.bind(r4)),r4=H7(r4);var bSe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.transform,r=void 0===i?K1:i,s=t.symbol,l=void 0!==s&&s,f=t.mask,p=void 0===f?null:f,_=t.maskId,x=void 0===_?null:_,M=t.title,I=void 0===M?null:M,H=t.titleId,P=void 0===H?null:H,q=t.classes,se=void 0===q?[]:q,De=t.attributes,Fe=void 0===De?{}:De,Ge=t.styles,Ze=void 0===Ge?{}:Ge;if(e){var ht=e.prefix,xt=e.iconName,tn=e.icon;return Kx(pt({type:"icon"},e),function(){return ef("beforeDOMElementCreation",{iconDefinition:e,params:t}),At.autoA11y&&(I?Fe["aria-labelledby"]="".concat(At.replacementClass,"-title-").concat(P||U7()):(Fe["aria-hidden"]="true",Fe.focusable="false")),BI({icons:{main:jI(tn),mask:p?jI(p.icon):{found:!1,width:null,height:null,icon:{}}},prefix:ht,iconName:xt,transform:pt(pt({},K1),r),symbol:l,title:I,maskId:x,titleId:P,extra:{attributes:Fe,styles:Ze,classes:se}})})}},CSe={mixout:function(){return{icon:xSe(bSe)}},hooks:function(){return{mutationObserverCallbacks:function(t){return t.treeCallback=Nq,t.nodeCallback=ySe,t}}},provides:function(e){e.i2svg=function(t){var i=t.node,s=t.callback;return Nq(void 0===i?_i:i,void 0===s?function(){}:s)},e.generateSvgReplacementMutation=function(t,i){var r=i.iconName,s=i.title,l=i.titleId,f=i.prefix,p=i.transform,_=i.symbol,x=i.mask,M=i.maskId,I=i.extra;return new Promise(function(H,P){Promise.all([$I(r,f),x.iconName?$I(x.iconName,x.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(q){var se=CI(q,2);H([t,BI({icons:{main:se[0],mask:se[1]},prefix:f,iconName:r,transform:p,symbol:_,maskId:M,title:s,titleId:l,extra:I,watchable:!0})])}).catch(P)})},e.generateAbstractIcon=function(t){var _,i=t.children,r=t.attributes,s=t.main,l=t.transform,p=jx(t.styles);return p.length>0&&(r.style=p),VI(l)&&(_=ul("generateAbstractTransformGrouping",{main:s,transform:l,containerWidth:s.width,iconWidth:s.width})),i.push(_||s.icon),{children:i,attributes:r}}}},wSe={mixout:function(){return{layer:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.classes,s=void 0===r?[]:r;return Kx({type:"layer"},function(){ef("beforeDOMElementCreation",{assembler:t,params:i});var l=[];return t(function(f){Array.isArray(f)?f.map(function(p){l=l.concat(p.abstract)}):l=l.concat(f.abstract)}),[{tag:"span",attributes:{class:["".concat(At.cssPrefix,"-layers")].concat(H7(s)).join(" ")},children:l}]})}}}},MSe={mixout:function(){return{counter:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.title,s=void 0===r?null:r,l=i.classes,f=void 0===l?[]:l,p=i.attributes,_=void 0===p?{}:p,x=i.styles,M=void 0===x?{}:x;return Kx({type:"counter",content:t},function(){return ef("beforeDOMElementCreation",{content:t,params:i}),iSe({content:t.toString(),title:s,extra:{attributes:_,styles:M,classes:["".concat(At.cssPrefix,"-layers-counter")].concat(H7(f))}})})}}}},SSe={mixout:function(){return{text:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.transform,s=void 0===r?K1:r,l=i.title,f=void 0===l?null:l,p=i.classes,_=void 0===p?[]:p,x=i.attributes,M=void 0===x?{}:x,I=i.styles,H=void 0===I?{}:I;return Kx({type:"text",content:t},function(){return ef("beforeDOMElementCreation",{content:t,params:i}),Sq({content:t,transform:pt(pt({},K1),s),title:f,extra:{attributes:M,styles:H,classes:["".concat(At.cssPrefix,"-layers-text")].concat(H7(_))}})})}}},provides:function(e){e.generateLayersText=function(t,i){var r=i.title,s=i.transform,l=i.extra,f=null,p=null;if(tq){var _=parseInt(getComputedStyle(t).fontSize,10),x=t.getBoundingClientRect();f=x.width/_,p=x.height/_}return At.autoA11y&&!r&&(l.attributes["aria-hidden"]="true"),Promise.resolve([t,Sq({content:t.innerHTML,width:f,height:p,transform:s,title:r,extra:l,watchable:!0})])}}},ESe=new RegExp('"',"ug"),Rq=[1105920,1112319];function Pq(n,e){var t="".concat("data-fa-pseudo-element-pending").concat(e.replace(":","-"));return new Promise(function(i,r){if(null!==n.getAttribute(t))return i();var l=Th(n.children).filter(function(tn){return tn.getAttribute(EI)===e})[0],f=t4.getComputedStyle(n,e),p=f.getPropertyValue("font-family").match(xMe),_=f.getPropertyValue("font-weight"),x=f.getPropertyValue("content");if(l&&!p)return n.removeChild(l),i();if(p&&"none"!==x&&""!==x){var M=f.getPropertyValue("content"),I=~["Sharp"].indexOf(p[2])?Qi:vi,H=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(p[2])?R7[I][p[2].toLowerCase()]:bMe[I][_],P=function DSe(n){var e=n.replace(ESe,""),t=function FMe(n,e){var r,t=n.length,i=n.charCodeAt(e);return i>=55296&&i<=56319&&t>e+1&&(r=n.charCodeAt(e+1))>=56320&&r<=57343?1024*(i-55296)+r-56320+65536:i}(e,0),i=t>=Rq[0]&&t<=Rq[1],r=2===e.length&&e[0]===e[1];return{value:HI(r?e[0]:e),isSecondary:i||r}}(M),q=P.value,se=P.isSecondary,De=p[0].startsWith("FontAwesome"),Fe=RI(H,q),Ge=Fe;if(De){var Ze=function qMe(n){var e=vq[n],t=RI("fas",n);return e||(t?{prefix:"fas",iconName:t}:null)||{prefix:null,iconName:null}}(q);Ze.iconName&&Ze.prefix&&(Fe=Ze.iconName,H=Ze.prefix)}if(!Fe||se||l&&l.getAttribute(DI)===H&&l.getAttribute(TI)===Ge)i();else{n.setAttribute(t,Ge),l&&n.removeChild(l);var ht=function _Se(){return{iconName:null,title:null,titleId:null,prefix:null,transform:K1,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),xt=ht.extra;xt.attributes[EI]=e,$I(Fe,H).then(function(tn){var yi=BI(pt(pt({},ht),{},{icons:{main:tn,mask:{prefix:null,iconName:null,rest:[]}},prefix:H,iconName:Ge,extra:xt,watchable:!0})),Xi=_i.createElement("svg");"::before"===e?n.insertBefore(Xi,n.firstChild):n.appendChild(Xi),Xi.outerHTML=yi.map(function(Z2){return j7(Z2)}).join("\n"),n.removeAttribute(t),i()}).catch(r)}}else i()})}function TSe(n){return Promise.all([Pq(n,"::before"),Pq(n,"::after")])}function ISe(n){return!(n.parentNode===document.head||~_Me.indexOf(n.tagName.toUpperCase())||n.getAttribute(EI)||n.parentNode&&"svg"===n.parentNode.tagName)}function Oq(n){if(al)return new Promise(function(e,t){var i=Th(n.querySelectorAll("*")).filter(ISe).map(TSe),r=WI_begin("searchPseudoElements");Lq(),Promise.all(i).then(function(){r(),YI(),e()}).catch(function(){r(),YI(),t()})})}var Fq=!1,Bq=function(e){return e.toLowerCase().split(" ").reduce(function(i,r){var s=r.toLowerCase().split("-"),l=s[0],f=s.slice(1).join("-");if(l&&"h"===f)return i.flipX=!0,i;if(l&&"v"===f)return i.flipY=!0,i;if(f=parseFloat(f),isNaN(f))return i;switch(l){case"grow":i.size=i.size+f;break;case"shrink":i.size=i.size-f;break;case"left":i.x=i.x-f;break;case"right":i.x=i.x+f;break;case"up":i.y=i.y-f;break;case"down":i.y=i.y+f;break;case"rotate":i.rotate=i.rotate+f}return i},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},ZI={x:0,y:0,width:"100%",height:"100%"};function Uq(n){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n.attributes&&(n.attributes.fill||e)&&(n.attributes.fill="black"),n}function kSe(n){return"g"===n.tag?n.children:[n]}var HSe={hooks:function(){return{parseNodeAttributes:function(t,i){var r=i.getAttribute("data-fa-mask"),s=r?Zx(r.split(" ").map(function(l){return l.trim()})):{prefix:null,iconName:null,rest:[]};return s.prefix||(s.prefix=i4()),t.mask=s,t.maskId=i.getAttribute("data-fa-mask-id"),t}}},provides:function(e){e.generateAbstractMask=function(t){var i=t.children,r=t.attributes,s=t.main,l=t.mask,f=t.maskId,x=s.icon,I=l.icon,H=function LMe(n){var e=n.transform,i=n.iconWidth,r={transform:"translate(".concat(n.containerWidth/2," 256)")},s="translate(".concat(32*e.x,", ").concat(32*e.y,") "),l="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),f="rotate(".concat(e.rotate," 0 0)");return{outer:r,inner:{transform:"".concat(s," ").concat(l," ").concat(f)},path:{transform:"translate(".concat(i/2*-1," -256)")}}}({transform:t.transform,containerWidth:l.width,iconWidth:s.width}),P={tag:"rect",attributes:pt(pt({},ZI),{},{fill:"white"})},q=x.children?{children:x.children.map(Uq)}:{},se={tag:"g",attributes:pt({},H.inner),children:[Uq(pt({tag:x.tag,attributes:pt(pt({},x.attributes),H.path)},q))]},De={tag:"g",attributes:pt({},H.outer),children:[se]},Fe="mask-".concat(f||U7()),Ge="clip-".concat(f||U7()),Ze={tag:"mask",attributes:pt(pt({},ZI),{},{id:Fe,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[P,De]},ht={tag:"defs",children:[{tag:"clipPath",attributes:{id:Ge},children:kSe(I)},Ze]};return i.push(ht,{tag:"rect",attributes:pt({fill:"currentColor","clip-path":"url(#".concat(Ge,")"),mask:"url(#".concat(Fe,")")},ZI)}),{children:i,attributes:r}}}};!function KMe(n,e){var t=e.mixoutsTo;wq=n,Ah={},Object.keys(Vh).forEach(function(i){-1===ZMe.indexOf(i)&&delete Vh[i]}),wq.forEach(function(i){var r=i.mixout?i.mixout():{};if(Object.keys(r).forEach(function(l){"function"==typeof r[l]&&(t[l]=r[l]),"object"===zx(r[l])&&Object.keys(r[l]).forEach(function(f){t[l]||(t[l]={}),t[l][f]=r[l][f]})}),i.hooks){var s=i.hooks();Object.keys(s).forEach(function(l){Ah[l]||(Ah[l]=[]),Ah[l].push(s[l])})}i.provides&&i.provides(Vh)})}([zMe,CSe,wSe,MSe,SSe,{hooks:function(){return{mutationObserverCallbacks:function(t){return t.pseudoElementsCallback=Oq,t}}},provides:function(e){e.pseudoElements2svg=function(t){var i=t.node;At.searchPseudoElements&&Oq(void 0===i?_i:i)}}},{mixout:function(){return{dom:{unwatch:function(){Lq(),Fq=!0}}}},hooks:function(){return{bootstrap:function(){kq(OI("mutationObserverCallbacks",{}))},noAuto:function(){!function hSe(){!Jx||Jx.disconnect()}()},watch:function(t){var i=t.observeMutationsRoot;Fq?YI():kq(OI("mutationObserverCallbacks",{observeMutationsRoot:i}))}}}},{mixout:function(){return{parse:{transform:function(t){return Bq(t)}}}},hooks:function(){return{parseNodeAttributes:function(t,i){var r=i.getAttribute("data-fa-transform");return r&&(t.transform=Bq(r)),t}}},provides:function(e){e.generateAbstractTransformGrouping=function(t){var i=t.main,r=t.transform,l=t.iconWidth,f={transform:"translate(".concat(t.containerWidth/2," 256)")},p="translate(".concat(32*r.x,", ").concat(32*r.y,") "),_="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),x="rotate(".concat(r.rotate," 0 0)"),H={outer:f,inner:{transform:"".concat(p," ").concat(_," ").concat(x)},path:{transform:"translate(".concat(l/2*-1," -256)")}};return{tag:"g",attributes:pt({},H.outer),children:[{tag:"g",attributes:pt({},H.inner),children:[{tag:i.icon.tag,children:i.icon.children,attributes:pt(pt({},i.icon.attributes),H.path)}]}]}}}},HSe,{provides:function(e){var t=!1;t4.matchMedia&&(t=t4.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var i=[],r={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};i.push({tag:"path",attributes:pt(pt({},r),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var l=pt(pt({},s),{},{attributeName:"opacity"}),f={tag:"circle",attributes:pt(pt({},r),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||f.children.push({tag:"animate",attributes:pt(pt({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:pt(pt({},l),{},{values:"1;0;1;1;0;1;"})}),i.push(f),i.push({tag:"path",attributes:pt(pt({},r),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:pt(pt({},l),{},{values:"1;0;0;0;0;1;"})}]}),t||i.push({tag:"path",attributes:pt(pt({},r),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:pt(pt({},l),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:i}}}},{hooks:function(){return{parseNodeAttributes:function(t,i){var r=i.getAttribute("data-fa-symbol");return t.symbol=null!==r&&(""===r||r),t}}}}],{mixoutsTo:ga});var PSe=ga.parse,OSe=ga.icon;const FSe=["*"],jSe=n=>{const e={"fa-spin":n.spin,"fa-pulse":n.pulse,"fa-fw":n.fixedWidth,"fa-border":n.border,"fa-inverse":n.inverse,"fa-layers-counter":n.counter,"fa-flip-horizontal":"horizontal"===n.flip||"both"===n.flip,"fa-flip-vertical":"vertical"===n.flip||"both"===n.flip,[`fa-${n.size}`]:null!==n.size,[`fa-rotate-${n.rotate}`]:null!==n.rotate,[`fa-pull-${n.pull}`]:null!==n.pull,[`fa-stack-${n.stackItemSize}`]:null!=n.stackItemSize};return Object.keys(e).map(t=>e[t]?t:null).filter(t=>t)};let WSe=(()=>{class n{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qSe=(()=>{class n{constructor(){this.definitions={}}addIcons(...t){for(const i of t){i.prefix in this.definitions||(this.definitions[i.prefix]={}),this.definitions[i.prefix][i.iconName]=i;for(const r of i.icon[2])"string"==typeof r&&(this.definitions[i.prefix][r]=i)}}addIconPacks(...t){for(const i of t){const r=Object.keys(i).map(s=>i[s]);this.addIcons(...r)}}getIconDefinition(t,i){return t in this.definitions&&i in this.definitions[t]?this.definitions[t][i]:null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),YSe=(()=>{class n{constructor(){this.stackItemSize="1x"}ngOnChanges(t){if("size"in t)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[a.TTD]}),n})(),ZSe=(()=>{class n{constructor(t,i){this.renderer=t,this.elementRef=i}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(t){"size"in t&&(null!=t.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${t.size.currentValue}`),null!=t.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${t.size.previousValue}`))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Qsj),a.Y36(a.SBq))},n.\u0275cmp=a.Xpm({type:n,selectors:[["fa-stack"]],inputs:{size:"size"},features:[a.TTD],ngContentSelectors:FSe,decls:1,vars:0,template:function(t,i){1&t&&(a.F$t(),a.Hsn(0))},encapsulation:2}),n})(),KSe=(()=>{class n{constructor(t,i,r,s,l){this.sanitizer=t,this.config=i,this.iconLibrary=r,this.stackItem=s,this.classes=[],null!=l&&null==s&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(t){if(null==this.icon&&null==this.config.fallbackIcon)return(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})();if(t){const r=this.findIconDefinition(null!=this.icon?this.icon:this.config.fallbackIcon);if(null!=r){const s=this.buildParams();this.renderIcon(r,s)}}}render(){this.ngOnChanges({})}findIconDefinition(t){const i=((n,e)=>(n=>void 0!==n.prefix&&void 0!==n.iconName)(n)?n:Array.isArray(n)&&2===n.length?{prefix:n[0],iconName:n[1]}:"string"==typeof n?{prefix:e,iconName:n}:void 0)(t,this.config.defaultPrefix);return"icon"in i?i:this.iconLibrary.getIconDefinition(i.prefix,i.iconName)??((n=>{throw new Error(`Could not find icon with iconName=${n.iconName} and prefix=${n.prefix} in the icon library.`)})(i),null)}buildParams(){const t={flip:this.flip,spin:this.spin,pulse:this.pulse,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},i="string"==typeof this.transform?PSe.transform(this.transform):this.transform;return{title:this.title,transform:i,classes:[...jSe(t),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(t,i){const r=OSe(t,i);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(r.html.join("\n"))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(D2),a.Y36(WSe),a.Y36(qSe),a.Y36(YSe,8),a.Y36(ZSe,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(t,i){2&t&&(a.Ikx("innerHTML",i.renderedIconHTML,a.oJD),a.uIk("title",i.title))},inputs:{icon:"icon",title:"title",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[a.TTD],decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})(),QSe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();function XSe(n,e){if(1&n&&(a.TgZ(0,"div",2)(1,"div"),a._uU(2),a.qZA(),a.TgZ(3,"div"),a._uU(4),a.qZA(),a.TgZ(5,"div"),a._uU(6),a.ALo(7,"currency"),a.qZA(),a.TgZ(8,"div"),a._uU(9),a.qZA()()),2&n){const t=e.$implicit;a.xp6(2),a.Oqu(t.name),a.xp6(2),a.Oqu(t.country),a.xp6(2),a.hij("Cena: ",a.lcZ(7,4,t.price),""),a.xp6(3),a.hij("Ilosc: ",t.counter,"")}}class eb{constructor(e){this.service=e,this.info="",this.positions_in_cart=[],this.curr_price=0}ngOnInit(){this.service.tourAdded.subscribe(e=>{this.updatePositionInCart(e,e.counter)}),this.service.tourReturned.subscribe(e=>{this.updatePositionInCart(e,e.counter)}),this.service.clearTour.subscribe(()=>{this.deleteAll()})}deleteAll(){this.info="",this.positions_in_cart=[],this.curr_price=0}updatePositionInCart(e,t){if(0==t)return;let i=!1,r=null;this.positions_in_cart.map(function(s,l){s.id==e.id&&(i=!0,s.counter+=t),0==s.counter&&(r=l)}),i||this.positions_in_cart.push(e),null!=r&&this.positions_in_cart.splice(r,1),this.sumPositions(),this.service.state$.next(this.positions_in_cart)}sumPositions(){this.curr_price=0,this.positions_in_cart.forEach(e=>{this.curr_price+=e.price*e.counter})}static#e=this.\u0275fac=function(t){return new(t||eb)(a.Y36(Mo))};static#t=this.\u0275cmp=a.Xpm({type:eb,selectors:[["app-shop-cart"]],decls:4,vars:4,consts:[["class","main-position-container",4,"ngFor","ngForOf"],["id","total"],[1,"main-position-container"]],template:function(t,i){1&t&&(a.YNc(0,XSe,10,6,"div",0),a.TgZ(1,"div",1),a._uU(2),a.ALo(3,"currency"),a.qZA()),2&t&&(a.Q6J("ngForOf",i.positions_in_cart),a.xp6(2),a.hij("Suma: ",a.lcZ(3,2,i.curr_price),""))},dependencies:[bi,X2],styles:[".main-position-container[_ngcontent-%COMP%]{display:flex;border-bottom:solid 2px red;padding:10px;font-family:Arial,Helvetica,sans-serif;font-size:1rem;font-weight:700;justify-content:right}.main-position-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin:5px}#total[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;font-size:1rem;font-weight:700;text-align:right}"]})}function JSe(n,e){1&n&&(a.TgZ(0,"a",15),a._uU(1,"Koszyk"),a.qZA())}function eEe(n,e){1&n&&(a.TgZ(0,"a",16),a._uU(1,"Zaloguj"),a.qZA())}function tEe(n,e){1&n&&(a.TgZ(0,"a",17),a._uU(1,"Rejestracja"),a.qZA())}function nEe(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"a",18),a.NdJ("click",function(){a.CHM(t);const r=a.oxw();return a.KtG(r.logout())}),a._uU(1,"Wyloguj"),a.qZA()}}function iEe(n,e){1&n&&(a.TgZ(0,"a",19),a._uU(1,"Admin View"),a.qZA())}function rEe(n,e){1&n&&(a.TgZ(0,"a",20),a._uU(1,"Trip Manager"),a.qZA())}function sEe(n,e){if(1&n&&(a.TgZ(0,"div",21),a._uU(1),a.qZA()),2&n){const t=a.oxw();a.xp6(1),a.Oqu(t.fire.userData.email)}}const oEe=function(n){return{background:n}},aEe=function(n){return{display:n}};class tb{constructor(e,t){this.service=e,this.fire=t,this.showCart_bool=!1,this.faCartShopping=bx,this.faHome=D$,this.tour_counter=0}ngOnInit(){this.service.tourCounterUpdater.subscribe(e=>this.tour_counter=e)}showCart(){this.showCart_bool=!this.showCart_bool}logout(){this.fire.signOut()}static#e=this.\u0275fac=function(t){return new(t||tb)(a.Y36(Mo),a.Y36(Wr))};static#t=this.\u0275cmp=a.Xpm({type:tb,selectors:[["app-nav-menu"]],decls:18,vars:16,consts:[[1,"navbar"],[1,"underbar"],["id","routes"],["routerLink","/home","routerLinkActive","active"],[3,"icon"],["routerLink","/tourlist","routerLinkActive","active"],["routerLink","/cart","routerLinkActive","active",4,"ngIf"],["routerLink","/login","routerLinkActive","active",4,"ngIf"],["routerLink","/register","routerLinkActive","active",4,"ngIf"],["routerLink","/login","routerLinkActive","active",3,"click",4,"ngIf"],["routerLink","/adminview","routerLinkActive","active",4,"ngIf"],["routerLink","/tripmanager","routerLinkActive","active",4,"ngIf"],["class","alike",4,"ngIf"],[1,"cart",2,"user-select","none",3,"ngStyle","click"],[3,"ngStyle"],["routerLink","/cart","routerLinkActive","active"],["routerLink","/login","routerLinkActive","active"],["routerLink","/register","routerLinkActive","active"],["routerLink","/login","routerLinkActive","active",3,"click"],["routerLink","/adminview","routerLinkActive","active"],["routerLink","/tripmanager","routerLinkActive","active"],[1,"alike"]],template:function(t,i){1&t&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),a._UZ(4,"fa-icon",4),a.qZA(),a.TgZ(5,"a",5),a._uU(6,"Lista wycieczek"),a.qZA(),a.YNc(7,JSe,2,0,"a",6),a.YNc(8,eEe,2,0,"a",7),a.YNc(9,tEe,2,0,"a",8),a.YNc(10,nEe,2,0,"a",9),a.YNc(11,iEe,2,0,"a",10),a.YNc(12,rEe,2,0,"a",11),a.YNc(13,sEe,2,1,"div",12),a.qZA(),a.TgZ(14,"div",13),a.NdJ("click",function(){return i.showCart()}),a._uU(15),a._UZ(16,"fa-icon",4)(17,"app-shop-cart",14),a.qZA()()()),2&t&&(a.xp6(4),a.Q6J("icon",i.faHome),a.xp6(3),a.Q6J("ngIf",null!=i.fire.userData),a.xp6(1),a.Q6J("ngIf",null==i.fire.userData),a.xp6(1),a.Q6J("ngIf",null==i.fire.userData),a.xp6(1),a.Q6J("ngIf",null!=i.fire.userData),a.xp6(1),a.Q6J("ngIf",i.fire.userRoles.admin.booleanValue),a.xp6(1),a.Q6J("ngIf",i.fire.userRoles.admin.booleanValue),a.xp6(1),a.Q6J("ngIf",null!=i.fire.userData),a.xp6(1),a.Q6J("ngStyle",a.VKq(12,oEe,i.tour_counter>10?"green":"red")),a.xp6(1),a.hij("W koszyku: ",i.tour_counter,""),a.xp6(1),a.Q6J("icon",i.faCartShopping),a.xp6(1),a.Q6J("ngStyle",a.VKq(14,aEe,i.showCart_bool?"":"none")))},dependencies:[dn,Tr,id,wo,KSe,eb],styles:[".cart[_ngcontent-%COMP%]{font-size:1rem;color:#fff;border:solid 2px black;border-radius:10px;font-family:Arial,Helvetica,sans-serif;width:-moz-fit-content;width:fit-content;padding:10px;margin-top:5px;margin-bottom:5px;cursor:pointer}.cheapest[_ngcontent-%COMP%]{border:solid 5px green}.highestprice[_ngcontent-%COMP%]{border:solid 5px red}app-tour[_ngcontent-%COMP%]{box-sizing:border-box;border:solid 5px transparent}app-shop-cart[_ngcontent-%COMP%]{position:absolute;top:54px;right:0;background-color:#fff;width:-moz-fit-content;width:fit-content;border:solid 2px black;color:#000}.navbar[_ngcontent-%COMP%]{background-color:#000;position:sticky;top:0;z-index:10}#routes[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap}a[_ngcontent-%COMP%]{margin-right:10px;color:#fff;font-size:1rem;text-decoration:none;border:solid 2px black;padding:5px;text-align:center;border-radius:15px}.underbar[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;align-items:center;justify-content:space-between;gap:20px;background-color:#823127}.alike[_ngcontent-%COMP%]{margin-right:10px;color:#000;font-size:1rem;font-weight:700;text-decoration:none;border:solid 2px transparent;padding:5px;text-align:center;border-radius:15px}"]})}class nb{constructor(e){this.fire=e,this.title="wycieczki"}static#e=this.\u0275fac=function(t){return new(t||nb)(a.Y36(Wr))};static#t=this.\u0275cmp=a.Xpm({type:nb,selectors:[["app-root"]],decls:2,vars:0,template:function(t,i){1&t&&a._UZ(0,"app-nav-menu")(1,"router-outlet")},dependencies:[qf,tb],styles:[".noselect[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}"]})}function jq(n){return new a.vHH(3e3,!1)}function UEe(){return typeof window<"u"&&typeof window.document<"u"}function KI(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function s4(n){switch(n.length){case 0:return new x7;case 1:return n[0];default:return new vP(n)}}function $q(n,e,t,i,r=new Map,s=new Map){const l=[],f=[];let p=-1,_=null;if(i.forEach(x=>{const M=x.get("offset"),I=M==p,H=I&&_||new Map;x.forEach((P,q)=>{let se=q,De=P;if("offset"!==q)switch(se=e.normalizePropertyName(se,l),De){case"!":De=r.get(q);break;case sl:De=s.get(q);break;default:De=e.normalizeStyleValue(q,se,De,l)}H.set(se,De)}),I||f.push(H),_=H,p=M}),l.length)throw function AEe(n){return new a.vHH(3502,!1)}();return f}function QI(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&XI(t,"start",n)));break;case"done":n.onDone(()=>i(t&&XI(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&XI(t,"destroy",n)))}}function XI(n,e,t){const s=JI(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),l=n._data;return null!=l&&(s._data=l),s}function JI(n,e,t,i,r="",s=0,l){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!l}}function _a(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function Gq(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let eA=(n,e)=>!1,Wq=(n,e,t)=>[],qq=null;function tA(n){const e=n.parentNode||n.host;return e===qq?null:e}(KI()||typeof Element<"u")&&(UEe()?(qq=(()=>document.documentElement)(),eA=(n,e)=>{for(;e;){if(e===n)return!0;e=tA(e)}return!1}):eA=(n,e)=>n.contains(e),Wq=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let tf=null,Yq=!1;const Zq=eA,Kq=Wq;let Qq=(()=>{class n{validateStyleProperty(t){return function $Ee(n){tf||(tf=function GEe(){return typeof document<"u"?document.body:null}()||{},Yq=!!tf.style&&"WebkitAppearance"in tf.style);let e=!0;return tf.style&&!function jEe(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in tf.style,!e&&Yq&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in tf.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return Zq(t,i)}getParentElement(t){return tA(t)}query(t,i,r){return Kq(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,s,l,f=[],p){return new x7(r,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),nA=(()=>{class n{}return n.NOOP=new Qq,n})();const iA="ng-enter",ib="ng-leave",rb="ng-trigger",sb=".ng-trigger",Jq="ng-animating",rA=".ng-animating";function fl(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:sA(parseFloat(e[1]),e[2])}function sA(n,e){return"s"===e?1e3*n:n}function ob(n,e,t){return n.hasOwnProperty("duration")?n:function YEe(n,e,t){let r,s=0,l="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(jq()),{duration:0,delay:0,easing:""};r=sA(parseFloat(f[1]),f[2]);const p=f[3];null!=p&&(s=sA(parseFloat(p),f[4]));const _=f[5];_&&(l=_)}else r=n;if(!t){let f=!1,p=e.length;r<0&&(e.push(function cEe(){return new a.vHH(3100,!1)}()),f=!0),s<0&&(e.push(function lEe(){return new a.vHH(3101,!1)}()),f=!0),f&&e.splice(p,0,jq())}return{duration:r,delay:s,easing:l}}(n,e,t)}function G7(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function eY(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function o4(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function nY(n,e,t){return t?e+":"+t+";":""}function iY(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=nY(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=nY(0,XEe(t),n.style[t]));n.setAttribute("style",e)}function Q1(n,e,t){n.style&&(e.forEach((i,r)=>{const s=aA(r);t&&!t.has(r)&&t.set(r,n.style[s]),n.style[s]=i}),KI()&&iY(n))}function nf(n,e){n.style&&(e.forEach((t,i)=>{const r=aA(i);n.style[r]=""}),KI()&&iY(n))}function W7(n){return Array.isArray(n)?1==n.length?n[0]:mP(n):n}const oA=new RegExp("{{\\s*(.+?)\\s*}}","g");function rY(n){let e=[];if("string"==typeof n){let t;for(;t=oA.exec(n);)e.push(t[1]);oA.lastIndex=0}return e}function q7(n,e,t){const i=n.toString(),r=i.replace(oA,(s,l)=>{let f=e[l];return null==f&&(t.push(function fEe(n){return new a.vHH(3003,!1)}()),f=""),f.toString()});return r==i?n:r}function ab(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const QEe=/-+([a-z0-9])/g;function aA(n){return n.replace(QEe,(...e)=>e[1].toUpperCase())}function XEe(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function va(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function dEe(n){return new a.vHH(3004,!1)}()}}function sY(n,e){return window.getComputedStyle(n)[e]}function rDe(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function sDe(n,e,t){if(":"==n[0]){const p=function oDe(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function EEe(n){return new a.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof p)return void e.push(p);n=p}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function SEe(n){return new a.vHH(3015,!1)}()),e;const r=i[1],s=i[2],l=i[3];e.push(oY(r,l));"<"==s[0]&&!("*"==r&&"*"==l)&&e.push(oY(l,r))}(i,t,e)):t.push(n),t}const fb=new Set(["true","1"]),db=new Set(["false","0"]);function oY(n,e){const t=fb.has(n)||db.has(n),i=fb.has(e)||db.has(e);return(r,s)=>{let l="*"==n||n==r,f="*"==e||e==s;return!l&&t&&"boolean"==typeof r&&(l=r?fb.has(n):db.has(n)),!f&&i&&"boolean"==typeof s&&(f=s?fb.has(e):db.has(e)),l&&f}}const aDe=new RegExp("s*:selfs*,?","g");function cA(n,e,t,i){return new cDe(n).build(e,t,i)}class cDe{constructor(e){this._driver=e}build(e,t,i){const r=new fDe(t);return this._resetContextStyleTimingState(r),va(this,W7(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const s=[],l=[];return"@"==e.name.charAt(0)&&t.errors.push(function pEe(){return new a.vHH(3006,!1)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const p=f,_=p.name;_.toString().split(/\s*,\s*/).forEach(x=>{p.name=x,s.push(this.visitState(p,t))}),p.name=_}else if(1==f.type){const p=this.visitTransition(f,t);i+=p.queryCount,r+=p.depCount,l.push(p)}else t.errors.push(function mEe(){return new a.vHH(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:l,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const s=new Set,l=r||{};i.styles.forEach(f=>{f instanceof Map&&f.forEach(p=>{rY(p).forEach(_=>{l.hasOwnProperty(_)||s.add(_)})})}),s.size&&(ab(s.values()),t.errors.push(function gEe(n,e){return new a.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=va(this,W7(e.animation),t);return{type:1,matchers:rDe(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:rf(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>va(this,i,t)),options:rf(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const s=e.steps.map(l=>{t.currentTime=i;const f=va(this,l,t);return r=Math.max(r,t.currentTime),f});return t.currentTime=r,{type:3,steps:s,options:rf(e.options)}}visitAnimate(e,t){const i=function hDe(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return lA(ob(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=lA(0,0,"");return s.dynamic=!0,s.strValue=t,s}const r=ob(t,e);return lA(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:pa({});if(5==s.type)r=this.visitKeyframes(s,t);else{let l=e.styles,f=!1;if(!l){f=!0;const _={};i.easing&&(_.easing=i.easing),l=pa(_)}t.currentTime+=i.duration+i.delay;const p=this.visitStyle(l,t);p.isEmptyStep=f,r=p}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let f of r)"string"==typeof f?f===sl?i.push(f):t.errors.push(new a.vHH(3002,!1)):i.push(eY(f));let s=!1,l=null;return i.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(l=f.get("easing"),f.delete("easing")),!s))for(let p of f.values())if(p.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:l,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(l=>{"string"!=typeof l&&l.forEach((f,p)=>{const _=t.collectedStyles.get(t.currentQuerySelector),x=_.get(p);let M=!0;x&&(s!=r&&s>=x.startTime&&r<=x.endTime&&(t.errors.push(function vEe(n,e,t,i,r){return new a.vHH(3010,!1)}()),M=!1),s=x.startTime),M&&_.set(p,{startTime:s,endTime:r}),t.options&&function KEe(n,e,t){const i=e.params||{},r=rY(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(function uEe(n){return new a.vHH(3001,!1)}())})}(f,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function yEe(){return new a.vHH(3011,!1)}()),i;let s=0;const l=[];let f=!1,p=!1,_=0;const x=e.steps.map(De=>{const Fe=this._makeStyleAst(De,t);let Ge=null!=Fe.offset?Fe.offset:function dDe(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Fe.styles),Ze=0;return null!=Ge&&(s++,Ze=Fe.offset=Ge),p=p||Ze<0||Ze>1,f=f||Ze<_,_=Ze,l.push(Ze),Fe});p&&t.errors.push(function xEe(){return new a.vHH(3012,!1)}()),f&&t.errors.push(function bEe(){return new a.vHH(3200,!1)}());const M=e.steps.length;let I=0;s>0&&s<M?t.errors.push(function CEe(){return new a.vHH(3202,!1)}()):0==s&&(I=1/(M-1));const H=M-1,P=t.currentTime,q=t.currentAnimateTimings,se=q.duration;return x.forEach((De,Fe)=>{const Ge=I>0?Fe==H?1:I*Fe:l[Fe],Ze=Ge*se;t.currentTime=P+q.delay+Ze,q.duration=Ze,this._validateStyleAst(De,t),De.offset=Ge,i.styles.push(De)}),i}visitReference(e,t){return{type:8,animation:va(this,W7(e.animation),t),options:rf(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:rf(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:rf(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[s,l]=function lDe(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(aDe,"")),n=n.replace(/@\*/g,sb).replace(/@\w+/g,t=>sb+"-"+t.slice(1)).replace(/:animating/g,rA),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,_a(t.collectedStyles,t.currentQuerySelector,new Map);const f=va(this,W7(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:l,animation:f,originalSelector:e.selector,options:rf(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function wEe(){return new a.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:ob(e.timings,t.errors,!0);return{type:12,animation:va(this,W7(e.animation),t),timings:i,options:null}}}class fDe{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function rf(n){return n?(n=G7(n)).params&&(n.params=function uDe(n){return n?G7(n):null}(n.params)):n={},n}function lA(n,e,t){return{duration:n,delay:e,easing:t}}function uA(n,e,t,i,r,s,l=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:l,subTimeline:f}}class hb{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const gDe=new RegExp(":enter","g"),vDe=new RegExp(":leave","g");function fA(n,e,t,i,r,s=new Map,l=new Map,f,p,_=[]){return(new yDe).buildKeyframes(n,e,t,i,r,s,l,f,p,_)}class yDe{buildKeyframes(e,t,i,r,s,l,f,p,_,x=[]){_=_||new hb;const M=new dA(e,t,_,r,s,x,[]);M.options=p;const I=p.delay?fl(p.delay):0;M.currentTimeline.delayNextStep(I),M.currentTimeline.setStyles([l],null,M.errors,p),va(this,i,M);const H=M.timelines.filter(P=>P.containsAnimation());if(H.length&&f.size){let P;for(let q=H.length-1;q>=0;q--){const se=H[q];if(se.element===t){P=se;break}}P&&!P.allowOnlyTimelineStyles()&&P.setStyles([f],null,M.errors,p)}return H.length?H.map(P=>P.buildKeyframes()):[uA(t,[],[],[],0,I,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,l=this._visitSubInstructions(i,r,r.options);s!=l&&t.transformIntoNewTimeline(l)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const s=r?.delay;if(s){const l="number"==typeof s?s:fl(q7(s,r?.params??{},t.errors));i.delayNextStep(l)}}}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime;const l=null!=i.duration?fl(i.duration):null,f=null!=i.delay?fl(i.delay):null;return 0!==l&&e.forEach(p=>{const _=t.appendInstructionToTimeline(p,l,f);s=Math.max(s,_.duration+_.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),va(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=pb);const l=fl(s.delay);r.delayNextStep(l)}e.steps.length&&(e.steps.forEach(l=>va(this,l,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?fl(e.options.delay):0;e.steps.forEach(l=>{const f=t.createSubContext(e.options);s&&f.delayNextStep(s),va(this,l,f),r=Math.max(r,f.currentTimeline.currentTime),i.push(f.currentTimeline)}),i.forEach(l=>t.currentTimeline.mergeTimelineCollectedStyles(l)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return ob(t.params?q7(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,f=t.createSubContext().currentTimeline;f.easing=i.easing,e.styles.forEach(p=>{f.forwardTime((p.offset||0)*s),f.setStyles(p.styles,p.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?fl(r.delay):0;s&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=pb);let l=i;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=f.length;let p=null;f.forEach((_,x)=>{t.currentQueryIndex=x;const M=t.createSubContext(e.options,_);s&&M.delayNextStep(s),_===t.element&&(p=M.currentTimeline),va(this,e.animation,M),M.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,M.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(l),p&&(t.currentTimeline.mergeTimelineCollectedStyles(p),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,s=e.timings,l=Math.abs(s.duration),f=l*(t.currentQueryTotal-1);let p=l*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":p=f-p;break;case"full":p=i.currentStaggerTime}const x=t.currentTimeline;p&&x.delayNextStep(p);const M=x.currentTime;va(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-M+(r.startTime-i.currentTimeline.startTime)}}const pb={};class dA{constructor(e,t,i,r,s,l,f,p){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=l,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=pb,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new mb(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=fl(i.duration)),null!=i.delay&&(r.delay=fl(i.delay));const s=i.params;if(s){let l=r.params;l||(l=this.options.params={}),Object.keys(s).forEach(f=>{(!t||!l.hasOwnProperty(f))&&(l[f]=q7(s[f],l,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,s=new dA(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=pb,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},s=new xDe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,l){let f=[];if(r&&f.push(this.element),e.length>0){e=(e=e.replace(gDe,"."+this._enterClassName)).replace(vDe,"."+this._leaveClassName);let _=this._driver.query(this.element,e,1!=i);0!==i&&(_=i<0?_.slice(_.length+i,_.length):_.slice(0,i)),f.push(..._)}return!s&&0==f.length&&l.push(function MEe(n){return new a.vHH(3014,!1)}()),f}}class mb{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new mb(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||sl),this._currentKeyframe.set(t,sl);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const s=r&&r.params||{},l=function bDe(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let s of i)t.set(s,sl)}else o4(r,t)}),t}(e,this._globalTimelineStyles);for(let[f,p]of l){const _=q7(p,s,i);this._pendingStyles.set(f,_),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??sl),this._updateStyle(f,_)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((f,p)=>{const _=o4(f,new Map,this._backFill);_.forEach((x,M)=>{"!"===x?e.add(M):x===sl&&t.add(M)}),i||_.set("offset",p/this.duration),r.push(_)});const s=e.size?ab(e.values()):[],l=t.size?ab(t.values()):[];if(i){const f=r[0],p=new Map(f);f.set("offset",0),p.set("offset",1),r=[f,p]}return uA(this.element,r,s,l,this.duration,this.startTime,this.easing,!1)}}class xDe extends mb{constructor(e,t,i,r,s,l,f=!1){super(e,t,l.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=f,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],l=i+t,f=t/l,p=o4(e[0]);p.set("offset",0),s.push(p);const _=o4(e[0]);_.set("offset",lY(f)),s.push(_);const x=e.length-1;for(let M=1;M<=x;M++){let I=o4(e[M]);const H=I.get("offset");I.set("offset",lY((t+H*i)/l)),s.push(I)}i=l,t=0,r="",e=s}return uA(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function lY(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class hA{}const CDe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class wDe extends hA{normalizePropertyName(e,t){return aA(e)}normalizeStyleValue(e,t,i,r){let s="";const l=i.toString().trim();if(CDe.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const f=i.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&r.push(function hEe(n,e){return new a.vHH(3005,!1)}())}return l+s}}function uY(n,e,t,i,r,s,l,f,p,_,x,M,I){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:l,timelines:f,queriedElements:p,preStyleProps:_,postStyleProps:x,totalTime:M,errors:I}}const pA={};class fY{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function MDe(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,s,l,f,p,_,x){const M=[],I=this.ast.options&&this.ast.options.params||pA,P=this.buildStyles(i,f&&f.params||pA,M),q=p&&p.params||pA,se=this.buildStyles(r,q,M),De=new Set,Fe=new Map,Ge=new Map,Ze="void"===r,ht={params:SDe(q,I),delay:this.ast.options?.delay},xt=x?[]:fA(e,t,this.ast.animation,s,l,P,se,ht,_,M);let tn=0;if(xt.forEach(Xi=>{tn=Math.max(Xi.duration+Xi.delay,tn)}),M.length)return uY(t,this._triggerName,i,r,Ze,P,se,[],[],Fe,Ge,tn,M);xt.forEach(Xi=>{const Z2=Xi.element,GK=_a(Fe,Z2,new Set);Xi.preStyleProps.forEach(_f=>GK.add(_f));const Mm=_a(Ge,Z2,new Set);Xi.postStyleProps.forEach(_f=>Mm.add(_f)),Z2!==t&&De.add(Z2)});const yi=ab(De.values());return uY(t,this._triggerName,i,r,Ze,P,se,xt,yi,Fe,Ge,tn)}}function SDe(n,e){const t=G7(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class EDe{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=G7(this.defaultParams);return Object.keys(e).forEach(s=>{const l=e[s];null!==l&&(r[s]=l)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((l,f)=>{l&&(l=q7(l,r,t));const p=this.normalizer.normalizePropertyName(f,t);l=this.normalizer.normalizeStyleValue(f,p,l,t),i.set(p,l)})}),i}}class TDe{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new EDe(r.style,r.options&&r.options.params||{},i))}),dY(this.states,"true","1"),dY(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new fY(e,r,this.states))}),this.fallbackTransition=function IDe(n,e,t){return new fY(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(l=>l.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function dY(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const ADe=new hb;class VDe{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],s=cA(this._driver,t,i,[]);if(i.length)throw function VEe(n){return new a.vHH(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,i){const r=e.element,s=$q(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],s=this._animations.get(e);let l;const f=new Map;if(s?(l=fA(this._driver,t,s,iA,ib,new Map,new Map,i,ADe,r),l.forEach(x=>{const M=_a(f,x.element,new Map);x.postStyleProps.forEach(I=>M.set(I,null))})):(r.push(function LEe(){return new a.vHH(3300,!1)}()),l=[]),r.length)throw function kEe(n){return new a.vHH(3504,!1)}();f.forEach((x,M)=>{x.forEach((I,H)=>{x.set(H,this._driver.computeStyle(M,H,sl))})});const _=s4(l.map(x=>{const M=f.get(x.element);return this._buildPlayer(x,new Map,M)}));return this._playersById.set(e,_),_.onDestroy(()=>this.destroy(e)),this.players.push(_),_}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function HEe(n){return new a.vHH(3301,!1)}();return t}listen(e,t,i,r){const s=JI(t,"","","");return QI(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const hY="ng-animate-queued",mA="ng-animate-disabled",NDe=[],pY={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},RDe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},n2="__ng_removed";class gA{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function BDe(n){return n??null}(i?e.value:e),i){const s=G7(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const Y7="void",_A=new gA(Y7);class PDe{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,r2(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function zEe(n,e){return new a.vHH(3302,!1)}();if(null==i||0==i.length)throw function NEe(n){return new a.vHH(3303,!1)}();if(!function UDe(n){return"start"==n||"done"==n}(i))throw function REe(n,e){return new a.vHH(3400,!1)}();const s=_a(this._elementListeners,e,[]),l={name:t,phase:i,callback:r};s.push(l);const f=_a(this._engine.statesByElement,e,new Map);return f.has(t)||(r2(e,rb),r2(e,rb+"-"+t),f.set(t,_A)),()=>{this._engine.afterFlush(()=>{const p=s.indexOf(l);p>=0&&s.splice(p,1),this._triggers.has(t)||f.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function PEe(n){return new a.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const s=this._getTrigger(t),l=new vA(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(r2(e,rb),r2(e,rb+"-"+t),this._engine.statesByElement.set(e,f=new Map));let p=f.get(t);const _=new gA(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&p&&_.absorbOptions(p.options),f.set(t,_),p||(p=_A),_.value!==Y7&&p.value===_.value){if(!function GDe(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(p.params,_.params)){const q=[],se=s.matchStyles(p.value,p.params,q),De=s.matchStyles(_.value,_.params,q);q.length?this._engine.reportError(q):this._engine.afterFlush(()=>{nf(e,se),Q1(e,De)})}return}const I=_a(this._engine.playersByElement,e,[]);I.forEach(q=>{q.namespaceId==this.id&&q.triggerName==t&&q.queued&&q.destroy()});let H=s.matchTransition(p.value,_.value,e,_.params),P=!1;if(!H){if(!r)return;H=s.fallbackTransition,P=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:H,fromState:p,toState:_,player:l,isFallbackTransition:P}),P||(r2(e,hY),l.onStart(()=>{Lh(e,hY)})),l.onDone(()=>{let q=this.players.indexOf(l);q>=0&&this.players.splice(q,1);const se=this._engine.playersByElement.get(e);if(se){let De=se.indexOf(l);De>=0&&se.splice(De,1)}}),this.players.push(l),I.push(l),l}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,sb,!0);i.forEach(r=>{if(r[n2])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(l=>l.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const s=this._engine.statesByElement.get(e),l=new Map;if(s){const f=[];if(s.forEach((p,_)=>{if(l.set(_,p.value),this._triggers.has(_)){const x=this.trigger(e,_,Y7,r);x&&f.push(x)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,l),i&&s4(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(s=>{const l=s.name;if(r.has(l))return;r.add(l);const p=this._triggers.get(l).fallbackTransition,_=i.get(l)||_A,x=new gA(Y7),M=new vA(this.id,l,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:l,transition:p,fromState:_,toState:x,player:M,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let l=e;for(;l=l.parentNode;)if(i.statesByElement.get(l)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const s=e[n2];(!s||s===pY)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){r2(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,l=this._elementListeners.get(s);l&&l.forEach(f=>{if(f.name==i.triggerName){const p=JI(s,i.triggerName,i.fromState.value,i.toState.value);p._data=e,QI(i.player,f.phase,p,f.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const s=i.transition.ast.depCount,l=r.transition.ast.depCount;return 0==s||0==l?s-l:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class ODe{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new PDe(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let l=!1,f=this.driver.getParentElement(t);for(;f;){const p=r.get(f);if(p){const _=i.indexOf(p);i.splice(_+1,0,e),l=!0;break}f=this.driver.getParentElement(f)}l||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&t.add(s)}return t}trigger(e,t,i,r){if(gb(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!gb(t))return;const s=t[n2];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const l=this.collectedLeaveElements.indexOf(t);l>=0&&this.collectedLeaveElements.splice(l,1)}if(e){const l=this._fetchNamespace(e);l&&l.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),r2(e,mA)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Lh(e,mA))}removeNode(e,t,i,r){if(gb(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const l=this.namespacesByHostElement.get(t);l&&l.id!==e&&l.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[n2]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return gb(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,sb,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,rA,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return s4(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[n2];if(t&&t.setForRemoval){if(e[n2]=pY,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(mA)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)r2(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?s4(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function OEe(n){return new a.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new hb,r=[],s=new Map,l=[],f=new Map,p=new Map,_=new Map,x=new Set;this.disabledNodes.forEach(wt=>{x.add(wt);const Ot=this.driver.query(wt,".ng-animate-queued",!0);for(let Wt=0;Wt<Ot.length;Wt++)x.add(Ot[Wt])});const M=this.bodyNode,I=Array.from(this.statesByElement.keys()),H=_Y(I,this.collectedEnterElements),P=new Map;let q=0;H.forEach((wt,Ot)=>{const Wt=iA+q++;P.set(Ot,Wt),wt.forEach(In=>r2(In,Wt))});const se=[],De=new Set,Fe=new Set;for(let wt=0;wt<this.collectedLeaveElements.length;wt++){const Ot=this.collectedLeaveElements[wt],Wt=Ot[n2];Wt&&Wt.setForRemoval&&(se.push(Ot),De.add(Ot),Wt.hasAnimation?this.driver.query(Ot,".ng-star-inserted",!0).forEach(In=>De.add(In)):Fe.add(Ot))}const Ge=new Map,Ze=_Y(I,Array.from(De));Ze.forEach((wt,Ot)=>{const Wt=ib+q++;Ge.set(Ot,Wt),wt.forEach(In=>r2(In,Wt))}),e.push(()=>{H.forEach((wt,Ot)=>{const Wt=P.get(Ot);wt.forEach(In=>Lh(In,Wt))}),Ze.forEach((wt,Ot)=>{const Wt=Ge.get(Ot);wt.forEach(In=>Lh(In,Wt))}),se.forEach(wt=>{this.processLeaveNode(wt)})});const ht=[],xt=[];for(let wt=this._namespaceList.length-1;wt>=0;wt--)this._namespaceList[wt].drainQueuedTransitions(t).forEach(Wt=>{const In=Wt.player,us=Wt.element;if(ht.push(In),this.collectedEnterElements.length){const Ps=us[n2];if(Ps&&Ps.setForMove){if(Ps.previousTriggersValues&&Ps.previousTriggersValues.has(Wt.triggerName)){const vf=Ps.previousTriggersValues.get(Wt.triggerName),l2=this.statesByElement.get(Wt.element);if(l2&&l2.has(Wt.triggerName)){const tC=l2.get(Wt.triggerName);tC.value=vf,l2.set(Wt.triggerName,tC)}}return void In.destroy()}}const tc=!M||!this.driver.containsElement(M,us),ba=Ge.get(us),v4=P.get(us),Bi=this._buildInstruction(Wt,i,v4,ba,tc);if(Bi.errors&&Bi.errors.length)return void xt.push(Bi);if(tc)return In.onStart(()=>nf(us,Bi.fromStyles)),In.onDestroy(()=>Q1(us,Bi.toStyles)),void r.push(In);if(Wt.isFallbackTransition)return In.onStart(()=>nf(us,Bi.fromStyles)),In.onDestroy(()=>Q1(us,Bi.toStyles)),void r.push(In);const YK=[];Bi.timelines.forEach(Ps=>{Ps.stretchStartingKeyframe=!0,this.disabledNodes.has(Ps.element)||YK.push(Ps)}),Bi.timelines=YK,i.append(us,Bi.timelines),l.push({instruction:Bi,player:In,element:us}),Bi.queriedElements.forEach(Ps=>_a(f,Ps,[]).push(In)),Bi.preStyleProps.forEach((Ps,vf)=>{if(Ps.size){let l2=p.get(vf);l2||p.set(vf,l2=new Set),Ps.forEach((tC,IV)=>l2.add(IV))}}),Bi.postStyleProps.forEach((Ps,vf)=>{let l2=_.get(vf);l2||_.set(vf,l2=new Set),Ps.forEach((tC,IV)=>l2.add(IV))})});if(xt.length){const wt=[];xt.forEach(Ot=>{wt.push(function FEe(n,e){return new a.vHH(3505,!1)}())}),ht.forEach(Ot=>Ot.destroy()),this.reportError(wt)}const tn=new Map,yi=new Map;l.forEach(wt=>{const Ot=wt.element;i.has(Ot)&&(yi.set(Ot,Ot),this._beforeAnimationBuild(wt.player.namespaceId,wt.instruction,tn))}),r.forEach(wt=>{const Ot=wt.element;this._getPreviousPlayers(Ot,!1,wt.namespaceId,wt.triggerName,null).forEach(In=>{_a(tn,Ot,[]).push(In),In.destroy()})});const Xi=se.filter(wt=>yY(wt,p,_)),Z2=new Map;gY(Z2,this.driver,Fe,_,sl).forEach(wt=>{yY(wt,p,_)&&Xi.push(wt)});const Mm=new Map;H.forEach((wt,Ot)=>{gY(Mm,this.driver,new Set(wt),p,"!")}),Xi.forEach(wt=>{const Ot=Z2.get(wt),Wt=Mm.get(wt);Z2.set(wt,new Map([...Array.from(Ot?.entries()??[]),...Array.from(Wt?.entries()??[])]))});const _f=[],WK=[],qK={};l.forEach(wt=>{const{element:Ot,player:Wt,instruction:In}=wt;if(i.has(Ot)){if(x.has(Ot))return Wt.onDestroy(()=>Q1(Ot,In.toStyles)),Wt.disabled=!0,Wt.overrideTotalTime(In.totalTime),void r.push(Wt);let us=qK;if(yi.size>1){let ba=Ot;const v4=[];for(;ba=ba.parentNode;){const Bi=yi.get(ba);if(Bi){us=Bi;break}v4.push(ba)}v4.forEach(Bi=>yi.set(Bi,us))}const tc=this._buildAnimation(Wt.namespaceId,In,tn,s,Mm,Z2);if(Wt.setRealPlayer(tc),us===qK)_f.push(Wt);else{const ba=this.playersByElement.get(us);ba&&ba.length&&(Wt.parentPlayer=s4(ba)),r.push(Wt)}}else nf(Ot,In.fromStyles),Wt.onDestroy(()=>Q1(Ot,In.toStyles)),WK.push(Wt),x.has(Ot)&&r.push(Wt)}),WK.forEach(wt=>{const Ot=s.get(wt.element);if(Ot&&Ot.length){const Wt=s4(Ot);wt.setRealPlayer(Wt)}}),r.forEach(wt=>{wt.parentPlayer?wt.syncPlayerEvents(wt.parentPlayer):wt.destroy()});for(let wt=0;wt<se.length;wt++){const Ot=se[wt],Wt=Ot[n2];if(Lh(Ot,ib),Wt&&Wt.hasAnimation)continue;let In=[];if(f.size){let tc=f.get(Ot);tc&&tc.length&&In.push(...tc);let ba=this.driver.query(Ot,rA,!0);for(let v4=0;v4<ba.length;v4++){let Bi=f.get(ba[v4]);Bi&&Bi.length&&In.push(...Bi)}}const us=In.filter(tc=>!tc.destroyed);us.length?jDe(this,Ot,us):this.processLeaveNode(Ot)}return se.length=0,_f.forEach(wt=>{this.players.push(wt),wt.onDone(()=>{wt.destroy();const Ot=this.players.indexOf(wt);this.players.splice(Ot,1)}),wt.play()}),_f}elementContainsData(e,t){let i=!1;const r=t[n2];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let l=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(l=f)}else{const f=this.playersByElement.get(e);if(f){const p=!s||s==Y7;f.forEach(_=>{_.queued||!p&&_.triggerName!=r||l.push(_)})}}return(i||r)&&(l=l.filter(f=>!(i&&i!=f.namespaceId||r&&r!=f.triggerName))),l}_beforeAnimationBuild(e,t,i){const s=t.element,l=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const p of t.timelines){const _=p.element,x=_!==s,M=_a(i,_,[]);this._getPreviousPlayers(_,x,l,f,t.toState).forEach(H=>{const P=H.getRealPlayer();P.beforeDestroy&&P.beforeDestroy(),H.destroy(),M.push(H)})}nf(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,l){const f=t.triggerName,p=t.element,_=[],x=new Set,M=new Set,I=t.timelines.map(P=>{const q=P.element;x.add(q);const se=q[n2];if(se&&se.removedBeforeQueried)return new x7(P.duration,P.delay);const De=q!==p,Fe=function $De(n){const e=[];return vY(n,e),e}((i.get(q)||NDe).map(tn=>tn.getRealPlayer())).filter(tn=>!!tn.element&&tn.element===q),Ge=s.get(q),Ze=l.get(q),ht=$q(0,this._normalizer,0,P.keyframes,Ge,Ze),xt=this._buildPlayer(P,ht,Fe);if(P.subTimeline&&r&&M.add(q),De){const tn=new vA(e,f,q);tn.setRealPlayer(xt),_.push(tn)}return xt});_.forEach(P=>{_a(this.playersByQueriedElement,P.element,[]).push(P),P.onDone(()=>function FDe(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,P.element,P))}),x.forEach(P=>r2(P,Jq));const H=s4(I);return H.onDestroy(()=>{x.forEach(P=>Lh(P,Jq)),Q1(p,t.toStyles)}),M.forEach(P=>{_a(r,P,[]).push(H)}),H}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new x7(e.duration,e.delay)}}class vA{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new x7,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>QI(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){_a(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function gb(n){return n&&1===n.nodeType}function mY(n,e){const t=n.style.display;return n.style.display=e??"none",t}function gY(n,e,t,i,r){const s=[];t.forEach(p=>s.push(mY(p)));const l=[];i.forEach((p,_)=>{const x=new Map;p.forEach(M=>{const I=e.computeStyle(_,M,r);x.set(M,I),(!I||0==I.length)&&(_[n2]=RDe,l.push(_))}),n.set(_,x)});let f=0;return t.forEach(p=>mY(p,s[f++])),l}function _Y(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const r=new Set(e),s=new Map;function l(f){if(!f)return 1;let p=s.get(f);if(p)return p;const _=f.parentNode;return p=t.has(_)?_:r.has(_)?1:l(_),s.set(f,p),p}return e.forEach(f=>{const p=l(f);1!==p&&t.get(p).push(f)}),t}function r2(n,e){n.classList?.add(e)}function Lh(n,e){n.classList?.remove(e)}function jDe(n,e,t){s4(t).onDone(()=>n.processLeaveNode(e))}function vY(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof vP?vY(i.players,e):e.push(i)}}function yY(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}class _b{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new ODe(e,t,i),this._timelineEngine=new VDe(e,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){const l=e+"-"+r;let f=this._triggerCache[l];if(!f){const p=[],x=cA(this._driver,s,p,[]);if(p.length)throw function IEe(n,e){return new a.vHH(3404,!1)}();f=function DDe(n,e,t){return new TDe(n,e,t)}(r,x,this._normalizer),this._triggerCache[l]=f}this._transitionEngine.registerTrigger(t,r,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[s,l]=Gq(i);this._timelineEngine.command(s,t,l,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if("@"==i.charAt(0)){const[l,f]=Gq(i);return this._timelineEngine.listen(l,t,f,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let qDe=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Q1(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Q1(this._element,this._initialStyles),this._endStyles&&(Q1(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(nf(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(nf(this._element,this._endStyles),this._endStyles=null),Q1(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function yA(n){let e=null;return n.forEach((t,i)=>{(function YDe(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class xY{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:sY(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class ZDe{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return Zq(e,t)}getParentElement(e){return tA(e)}query(e,t,i){return Kq(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,s,l=[]){const p={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(p.easing=s);const _=new Map,x=l.filter(H=>H instanceof xY);(function JEe(n,e){return 0===n||0===e})(i,r)&&x.forEach(H=>{H.currentSnapshot.forEach((P,q)=>_.set(q,P))});let M=function ZEe(n){return n.length?n[0]instanceof Map?n:n.map(e=>eY(e)):[]}(t).map(H=>o4(H));M=function eDe(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((s,l)=>{i.has(l)||r.push(l),i.set(l,s)}),r.length)for(let s=1;s<e.length;s++){let l=e[s];r.forEach(f=>l.set(f,sY(n,f)))}}return e}(e,M,_);const I=function WDe(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=yA(e[0]),e.length>1&&(i=yA(e[e.length-1]))):e instanceof Map&&(t=yA(e)),t||i?new qDe(n,t,i):null}(e,M);return new xY(e,M,p,I)}}let KDe=(()=>{class n extends pP{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:a.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?mP(t):t;return bY(this._renderer,null,i,"register",[r]),new QDe(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.FYo),a.LFG(ce))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class QDe extends bie{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new XDe(this._id,e,t||{},this._renderer)}}class XDe{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return bY(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function bY(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const CY="@.disabled";let JDe=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,l)=>{const f=l?.parentNode(s);f&&l.removeChild(f,s)}}createRenderer(t,i){const s=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let x=this._rendererCache.get(s);return x||(x=new wY("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,x)),x}const l=i.id,f=i.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const p=x=>{Array.isArray(x)?x.forEach(p):this.engine.registerTrigger(l,f,t,x.name,x)};return i.data.animation.forEach(p),new eTe(this,f,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[l,f]=s;l(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.FYo),a.LFG(_b),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class wY{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==CY?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class eTe extends wY{constructor(e,t,i,r,s){super(t,i,r,s),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==CY?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function tTe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),l="";return"@"!=s.charAt(0)&&([s,l]=function nTe(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,r,s,l,f=>{this.factory.scheduleListenerCallback(f._data||-1,i,f)})}return this.delegate.listen(e,t,i)}}let iTe=(()=>{class n extends _b{constructor(t,i,r,s){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ce),a.LFG(nA),a.LFG(hA),a.LFG(a.z2F))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const MY=[{provide:pP,useClass:KDe},{provide:hA,useFactory:function rTe(){return new wDe}},{provide:_b,useClass:iTe},{provide:a.FYo,useFactory:function sTe(n,e,t){return new JDe(n,e,t)},deps:[po,_b,a.R0b]}],xA=[{provide:nA,useFactory:()=>new ZDe},{provide:a.QbO,useValue:"BrowserAnimations"},...MY],SY=[{provide:nA,useClass:Qq},{provide:a.QbO,useValue:"NoopAnimations"},...MY];let oTe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?SY:xA}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:xA,imports:[Vl]}),n})();const EY_firebaseConfig={apiKey:"AIzaSyAU4Vdfz-JWQ_V14Bz8xKjhfgNaS30KxSI",authDomain:"toursshop-e89d2.firebaseapp.com",projectId:"toursshop-e89d2",storageBucket:"toursshop-e89d2.appspot.com",messagingSenderId:"472992972986",appId:"1:472992972986:web:5b1757eae708171a10c283",measurementId:"G-H7XW4ZYBGB"};O(9568);var lTe=O(3942);const DY="@firebase/database";let bA="";function IY(n){bA=n}class uTe{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,F.Wl)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,F.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class fTe{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,F.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const AY=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new uTe(e)}}catch{}return new fTe},sf=AY("localStorage"),CA=AY("sessionStorage"),kh=new Ja.Yd("@firebase/database"),VY=function(){let n=1;return function(){return n++}}(),LY=function(n){const e=(0,F.dS)(n),t=new F.gQ;t.update(e);const i=t.digest();return F.US.encodeByteArray(i)},Z7=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?e+=Z7.apply(null,i):e+="object"==typeof i?(0,F.Wl)(i):i,e+=" "}return e};let af=null,kY=!0;const HY=function(n,e){(0,F.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(kh.logLevel=Ja.in.VERBOSE,af=kh.log.bind(kh),e&&CA.set("logging_enabled",!0)):"function"==typeof n?af=n:(af=null,CA.remove("logging_enabled"))},cs=function(...n){if(!0===kY&&(kY=!1,null===af&&!0===CA.get("logging_enabled")&&HY(!0)),af){const e=Z7.apply(null,n);af(e)}},K7=function(n){return function(...e){cs(n,...e)}},wA=function(...n){const e="FIREBASE INTERNAL ERROR: "+Z7(...n);kh.error(e)},X1=function(...n){const e=`FIREBASE FATAL ERROR: ${Z7(...n)}`;throw kh.error(e),new Error(e)},Rs=function(...n){const e="FIREBASE WARNING: "+Z7(...n);kh.warn(e)},yb=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},a4="[MIN_NAME]",dl="[MAX_NAME]",cf=function(n,e){if(n===e)return 0;if(n===a4||e===dl)return-1;if(e===a4||n===dl)return 1;{const t=RY(n),i=RY(e);return null!==t?null!==i?t-i==0?n.length-e.length:t-i:-1:null!==i?1:n<e?-1:1}},pTe=function(n,e){return n===e?0:n<e?-1:1},Q7=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,F.Wl)(e))},MA=function(n){if("object"!=typeof n||null===n)return(0,F.Wl)(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)0!==i&&(t+=","),t+=(0,F.Wl)(e[i]),t+=":",t+=MA(n[e[i]]);return t+="}",t},zY=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let r=0;r<t;r+=e)i.push(n.substring(r,r+e>t?t:r+e));return i};function ls(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const NY=function(n){(0,F.hu)(!yb(n),"Invalid JSON number");const i=1023;let r,s,l,f,p;0===n?(s=0,l=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(f=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=f+i,l=Math.round(n*Math.pow(2,52-f)-Math.pow(2,52))):(s=0,l=Math.round(n/Math.pow(2,-1074))));const _=[];for(p=52;p;p-=1)_.push(l%2?1:0),l=Math.floor(l/2);for(p=11;p;p-=1)_.push(s%2?1:0),s=Math.floor(s/2);_.push(r?1:0),_.reverse();const x=_.join("");let M="";for(p=0;p<64;p+=8){let I=parseInt(x.substr(p,8),2).toString(16);1===I.length&&(I="0"+I),M+=I}return M.toLowerCase()},vTe=new RegExp("^-?(0*)\\d{1,10}$"),RY=function(n){if(vTe.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},Hh=function(n){try{n()}catch(e){setTimeout(()=>{throw Rs("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},X7=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class CTe{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Rs(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class wTe{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(cs("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Rs(e)}}let J7=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const UY=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,GY="websocket",WY="long_polling";class EA{constructor(e,t,i,r,s=!1,l="",f=!1){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=l,this.includeNamespaceInQueryParams=f,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=sf.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&sf.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function qY(n,e,t){let i;if((0,F.hu)("string"==typeof e,"typeof type must == string"),(0,F.hu)("object"==typeof t,"typeof params must == object"),e===GY)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==WY)throw new Error("Unknown connection type: "+e);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function MTe(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const r=[];return ls(t,(s,l)=>{r.push(s+"="+l)}),i+r.join("&")}class STe{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,F.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,F.p$)(this.counters_)}}const DA={},TA={};function IA(n){const e=n.toString();return DA[e]||(DA[e]=new STe),DA[e]}class DTe{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Hh(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class c4{constructor(e,t,i,r,s,l,f){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=l,this.lastSessionId=f,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=K7(e),this.stats_=IA(t),this.urlFn=p=>(this.appCheckToken&&(p.ac=this.appCheckToken),qY(t,WY,p))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new DTe(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,F.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new AA((...s)=>{const[l,f,p,_,x]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===l)this.id=f,this.password=p;else{if("close"!==l)throw new Error("Unrecognized command received: "+l);f?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(f,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[l,f]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(l,f)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&UY.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){c4.forceAllow_=!0}static forceDisallow(){c4.forceDisallow_=!0}static isAvailable(){return!((0,F.Yr)()||!c4.forceAllow_&&(c4.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,F.Wl)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=(0,F.h$)(t),r=zY(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,F.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=e,i.pw=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,F.Wl)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class AA{constructor(e,t,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,F.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=VY(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=AA.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(f){cs("frame writing exception"),f.stack&&cs(f.stack),cs(f)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||cs("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const l=this.pendingSegs.shift();i=i+"&seg"+r+"="+l.seg+"&ts"+r+"="+l.ts+"&d"+r+"="+l.d,r++}return t+=i,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),i()})}addTag(e,t){(0,F.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{cs("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let bb=null;typeof MozWebSocket<"u"?bb=MozWebSocket:typeof WebSocket<"u"&&(bb=WebSocket);let zh=(()=>{class n{constructor(t,i,r,s,l,f,p){this.connId=t,this.applicationId=r,this.appCheckToken=s,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=K7(this.connId),this.stats_=IA(i),this.connURL=n.connectionURL_(i,f,p,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,s,l){const f={v:"5"};return!(0,F.Yr)()&&typeof location<"u"&&location.hostname&&UY.test(location.hostname)&&(f.r="f"),i&&(f.s=i),r&&(f.ls=r),s&&(f.ac=s),l&&(f.p=l),qY(t,GY,f)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,sf.set("previous_websocket_failure",!0);try{let r;if((0,F.Yr)()){r={headers:{"User-Agent":`Firebase/5/${bA}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const l=process.env,f=0===this.connURL.indexOf("wss://")?l.HTTPS_PROXY||l.https_proxy:l.HTTP_PROXY||l.http_proxy;f&&(r.proxy={origin:f})}this.mySock=new bb(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==bb&&!n.forceDisallow_}static previouslyFailed(){return sf.isInMemoryStorage||!0===sf.get("previous_websocket_failure")}markConnectionHealthy(){sf.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,F.cI)(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,F.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=(0,F.Wl)(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=zY(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),eZ=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[c4,zh]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const i=zh&&zh.isAvailable();let r=i&&!zh.previouslyFailed();if(t.webSocketOnly&&(i||Rs("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[zh];else{const s=this.transports_=[];for(const l of n.ALL_TRANSPORTS)l&&l.isAvailable()&&s.push(l);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class aZ{constructor(e,t,i,r,s,l,f,p,_,x){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=l,this.onReady_=f,this.onDisconnect_=p,this.onKill_=_,this.lastSessionId=x,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=K7("c:"+this.id+":"),this.transportManager_=new eZ(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=X7(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Q7("t",e),i=Q7("d",e);if("c"===t)this.onSecondaryControl_(i);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Q7("t",e),i=Q7("d",e);"c"===t?this.onControl_(i):"d"===t&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Q7("t",e);if("d"in e){const i=e.d;if("h"===t)this.onHandshake_(i);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(i):"r"===t?this.onReset_(i):"e"===t?wA("Server Error: "+i):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):wA("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==i&&Rs("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),X7(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):X7(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(sf.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class cZ{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}class lZ{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,F.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===t&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(e){(0,F.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class Cb extends lZ{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,F.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Cb}getInitialEvent(e){return(0,F.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Nn{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Ln(){return new Nn("")}function hn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function l4(n){return n.pieces_.length-n.pieceNum_}function ei(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Nn(n.pieces_,e)}function LA(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function em(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function dZ(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Nn(e,0)}function Di(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof Nn)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new Nn(t,0)}function pn(n){return n.pieceNum_>=n.pieces_.length}function co(n,e){const t=hn(n),i=hn(e);if(null===t)return e;if(t===i)return co(ei(n),ei(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function ZTe(n,e){const t=em(n,0),i=em(e,0);for(let r=0;r<t.length&&r<i.length;r++){const s=cf(t[r],i[r]);if(0!==s)return s}return t.length===i.length?0:t.length<i.length?-1:1}function kA(n,e){if(l4(n)!==l4(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function s2(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(l4(n)>l4(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class KTe{constructor(e,t){this.errorPrefix_=t,this.parts_=em(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,F.ug)(this.parts_[i]);hZ(this)}}function hZ(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+lf(n))}function lf(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class HA extends lZ{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new HA}getInitialEvent(e){return(0,F.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const tm=1e3;let Mb,uf=(()=>{class n extends cZ{constructor(t,i,r,s,l,f,p,_){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=l,this.authTokenProvider_=f,this.appCheckTokenProvider_=p,this.authOverride_=_,this.id=n.nextPersistentConnectionId_++,this.log_=K7("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=tm,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,_&&!(0,F.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");HA.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&Cb.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const s=++this.requestNumber_,l={r:s,a:t,b:i};this.log_((0,F.Wl)(l)),(0,F.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),r&&(this.requestCBHash_[s]=r)}get(t){this.initConnection_();const i=new F.BH,s={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:f=>{const p=f.d;"ok"===f.s?i.resolve(p):i.reject(p)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(t,i,r,s){this.initConnection_();const l=t._queryIdentifier,f=t._path.toString();this.log_("Listen called for "+f+" "+l),this.listens.has(f)||this.listens.set(f,new Map),(0,F.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,F.hu)(!this.listens.get(f).has(l),"listen() called twice for same path/queryId.");const p={onComplete:s,hashFn:i,query:t,tag:r};this.listens.get(f).set(l,p),this.connected_&&this.sendListen_(p)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const l={p:r};t.tag&&(l.q=i._queryObject,l.t=t.tag),l.h=t.hashFn(),this.sendRequest("q",l,p=>{const _=p.d,x=p.s;n.warnOnListenWarnings_(_,i),(this.listens.get(r)&&this.listens.get(r).get(s))===t&&(this.log_("listen response",p),"ok"!==x&&this.removeListen_(r,s),t.onComplete&&t.onComplete(x,_))})}static warnOnListenWarnings_(t,i){if(t&&"object"==typeof t&&(0,F.r3)(t,"w")){const r=(0,F.DV)(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',l=i._path.toString();Rs(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,F.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=(0,F.w9)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const l=s.s,f=s.d||"error";this.authToken_===t&&("ok"===l?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,F.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,t._queryObject,i)}sendUnlisten_(t,i,r,s){this.log_("Unlisten on "+t+" for "+i);const l={p:t};s&&(l.q=r,l.t=s),this.sendRequest("n",l)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,s){const l={p:i,d:r};this.log_("onDisconnect "+t,l),this.sendRequest(t,l,f=>{s&&setTimeout(()=>{s(f.s,f.d)},Math.floor(0))})}put(t,i,r,s){this.putInternal("p",t,i,r,s)}merge(t,i,r,s){this.putInternal("m",t,i,r,s)}putInternal(t,i,r,s,l){this.initConnection_();const f={p:i,d:r};void 0!==l&&(f.h=l),this.outstandingPuts_.push({action:t,request:f,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,l=>{this.log_(i+" response",l),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(l.s,l.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,F.Wl)(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),"d"===t?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===t?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===t?this.onListenRevoked_(i.p,i.q):"ac"===t?this.onAuthRevoked_(i.s,i.d):"apc"===t?this.onAppCheckRevoked_(i.s,i.d):"sd"===t?this.onSecurityDebugPacket_(i):wA("Unrecognized action received from server: "+(0,F.Wl)(t)+"\nAre you using the latest client?")}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,F.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=tm,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=tm,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=tm),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,et.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const i=t.onDataMessage_.bind(t),r=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),l=t.id+":"+n.nextConnectionId_++,f=t.lastSessionId;let p=!1,_=null;const x=function(){_?_.close():(p=!0,s())};t.realtime_={close:x,sendRequest:function(H){(0,F.hu)(_,"sendRequest call when we're not connected not allowed."),_.sendRequest(H)}};const I=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[H,P]=yield Promise.all([t.authTokenProvider_.getToken(I),t.appCheckTokenProvider_.getToken(I)]);p?cs("getToken() completed but was canceled"):(cs("getToken() completed. Creating connection."),t.authToken_=H&&H.accessToken,t.appCheckToken_=P&&P.token,_=new aZ(l,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,i,r,s,q=>{Rs(q+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},f))}catch(H){t.log_("Failed to get token: "+H),p||(t.repoInfo_.nodeAdmin&&Rs(H),x())}}})()}interrupt(t){cs("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){cs("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,F.xb)(this.interruptReasons_)&&(this.reconnectDelay_=tm,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;r=i?i.map(l=>MA(l)).join("$"):"default";const s=this.removeListen_(t,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,i){const r=new Nn(t).toString();let s;if(this.listens.has(r)){const l=this.listens.get(r);s=l.get(i),l.delete(i),0===l.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(t,i){cs("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){cs("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";(0,F.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+i+"."+bA.replace(/\./g,"-")]=1,(0,F.uI)()?t["framework.cordova"]=1:(0,F.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Cb.getInstance().currentlyOnline();return(0,F.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class _n{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new _n(e,t)}}class wb{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new _n(a4,e),r=new _n(a4,t);return 0!==this.compare(i,r)}minPost(){return _n.MIN}}class gZ extends wb{static get __EMPTY_NODE(){return Mb}static set __EMPTY_NODE(e){Mb=e}compare(e,t){return cf(e.name,t.name)}isDefinedOn(e){throw(0,F.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return _n.MIN}maxPost(){return new _n(dl,Mb)}makePost(e,t){return(0,F.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new _n(e,Mb)}toString(){return".key"}}const J1=new gZ;class Sb{constructor(e,t,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,r&&(l*=-1),l<0)e=this.isReverse_?e.left:e.right;else{if(0===l){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let NA,G2=(()=>{class n{constructor(t,i,r,s,l){this.key=t,this.value=i,this.color=r??n.RED,this.left=s??Vo.EMPTY_NODE,this.right=l??Vo.EMPTY_NODE}copy(t,i,r,s,l){return new n(t??this.key,i??this.value,r??this.color,s??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let s=this;const l=r(t,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(t,i,r),null):0===l?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(t,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Vo.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,s;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(t,r.key)){if(r.right.isEmpty())return Vo.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Vo{constructor(e,t=Vo.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Vo(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,G2.BLACK,null,null))}remove(e){return new Vo(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,G2.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}t<0?i=i.left:t>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Sb(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Sb(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Sb(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Sb(this.root_,null,this.comparator_,!0,e)}}function rIe(n,e){return cf(n.name,e.name)}function zA(n,e){return cf(n,e)}Vo.EMPTY_NODE=new class iIe{copy(e,t,i,r,s){return this}insert(e,t,i){return new G2(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const _Z=function(n){return"number"==typeof n?"number:"+NY(n):"string:"+n},vZ=function(n){if(n.isLeafNode()){const e=n.val();(0,F.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,F.r3)(e,".sv"),"Priority must be a string or number.")}else(0,F.hu)(n===NA||n.isEmpty(),"priority of unexpected type.");(0,F.hu)(n===NA||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let yZ,xZ,bZ,Nh=(()=>{class n{constructor(t,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,(0,F.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),vZ(this.priorityNode_)}static set __childrenNodeConstructor(t){yZ=t}static get __childrenNodeConstructor(){return yZ}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return pn(t)?this:".priority"===hn(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return".priority"===t?this.updatePriority(i):i.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=hn(t);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,F.hu)(".priority"!==r||1===l4(t),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(ei(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+_Z(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",t+="number"===i?NY(this.value_):this.value_,this.lazyHash_=LY(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,F.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),l=n.VALUE_TYPE_ORDER.indexOf(r);return(0,F.hu)(s>=0,"Unknown leaf type: "+i),(0,F.hu)(l>=0,"Unknown leaf type: "+r),s===l?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:l-s}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const ai=new class cIe extends wb{compare(e,t){const i=e.node.getPriority(),r=t.node.getPriority(),s=i.compareTo(r);return 0===s?cf(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return _n.MIN}maxPost(){return new _n(dl,new Nh("[PRIORITY-POST]",bZ))}makePost(e,t){const i=xZ(e);return new _n(t,new Nh("[PRIORITY-POST]",i))}toString(){return".priority"}},lIe=Math.log(2);class uIe{constructor(e){this.count=parseInt(Math.log(e+1)/lIe,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Eb=function(n,e,t,i){n.sort(e);const r=function(p,_){const x=_-p;let M,I;if(0===x)return null;if(1===x)return M=n[p],I=t?t(M):M,new G2(I,M.node,G2.BLACK,null,null);{const H=parseInt(x/2,10)+p,P=r(p,H),q=r(H+1,_);return M=n[H],I=t?t(M):M,new G2(I,M.node,G2.BLACK,P,q)}},f=function(p){let _=null,x=null,M=n.length;const I=function(P,q){const se=M-P,De=M;M-=P;const Fe=r(se+1,De),Ge=n[se],Ze=t?t(Ge):Ge;H(new G2(Ze,Ge.node,q,null,Fe))},H=function(P){_?(_.left=P,_=P):(x=P,_=P)};for(let P=0;P<p.count;++P){const q=p.nextBitIsOne(),se=Math.pow(2,p.count-(P+1));q?I(se,G2.BLACK):(I(se,G2.BLACK),I(se,G2.RED))}return x}(new uIe(n.length));return new Vo(i||e,f)};let RA;const Rh={};class hl{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,F.hu)(Rh&&ai,"ChildrenNode.ts has not been loaded"),RA=RA||new hl({".priority":Rh},{".priority":ai}),RA}get(e){const t=(0,F.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Vo?t:null}hasIndex(e){return(0,F.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,F.hu)(e!==J1,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=t.getIterator(_n.Wrap);let f,l=s.getNext();for(;l;)r=r||e.isDefinedOn(l.node),i.push(l),l=s.getNext();f=r?Eb(i,e.getCompare()):Rh;const p=e.toString(),_=Object.assign({},this.indexSet_);_[p]=e;const x=Object.assign({},this.indexes_);return x[p]=f,new hl(x,_)}addToIndexes(e,t){const i=(0,F.UI)(this.indexes_,(r,s)=>{const l=(0,F.DV)(this.indexSet_,s);if((0,F.hu)(l,"Missing index implementation for "+s),r===Rh){if(l.isDefinedOn(e.node)){const f=[],p=t.getIterator(_n.Wrap);let _=p.getNext();for(;_;)_.name!==e.name&&f.push(_),_=p.getNext();return f.push(e),Eb(f,l.getCompare())}return Rh}{const f=t.get(e.name);let p=r;return f&&(p=p.remove(new _n(e.name,f))),p.insert(e,e.node)}});return new hl(i,this.indexSet_)}removeFromIndexes(e,t){const i=(0,F.UI)(this.indexes_,r=>{if(r===Rh)return r;{const s=t.get(e.name);return s?r.remove(new _n(e.name,s)):r}});return new hl(i,this.indexSet_)}}let nm,on=(()=>{class n{constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&vZ(this.priorityNode_),this.children_.isEmpty()&&(0,F.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return nm||(nm=new n(new Vo(zA),null,hl.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||nm}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const i=this.children_.get(t);return null===i?nm:i}}getChild(t){const i=hn(t);return null===i?this:this.getImmediateChild(i).getChild(ei(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,i){if((0,F.hu)(i,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(i);{const r=new _n(t,i);let s,l;i.isEmpty()?(s=this.children_.remove(t),l=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(t,i),l=this.indexMap_.addToIndexes(r,this.children_));const f=s.isEmpty()?nm:this.priorityNode_;return new n(s,f,l)}}updateChild(t,i){const r=hn(t);if(null===r)return i;{(0,F.hu)(".priority"!==hn(t)||1===l4(t),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(ei(t),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,s=0,l=!0;if(this.forEachChild(ai,(f,p)=>{i[f]=p.val(t),r++,l&&n.INTEGER_REGEXP_.test(f)?s=Math.max(s,Number(f)):l=!1}),!t&&l&&s<2*r){const f=[];for(const p in i)f[p]=i[p];return f}return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+_Z(this.getPriority().val())+":"),this.forEachChild(ai,(i,r)=>{const s=r.hash();""!==s&&(t+=":"+i+":"+s)}),this.lazyHash_=""===t?"":LY(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const s=this.resolveIndex_(r);if(s){const l=s.getPredecessorKey(new _n(t,i));return l?l.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new _n(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new _n(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,_n.Wrap);let l=s.peek();for(;null!=l&&i.compare(l,t)<0;)s.getNext(),l=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,_n.Wrap);let l=s.peek();for(;null!=l&&i.compare(l,t)>0;)s.getNext(),l=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===im?-1:0}withIndex(t){if(t===J1||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===J1||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(ai),s=i.getIterator(ai);let l=r.getNext(),f=s.getNext();for(;l&&f;){if(l.name!==f.name||!l.node.equals(f.node))return!1;l=r.getNext(),f=s.getNext()}return null===l&&null===f}return!1}return!1}}resolveIndex_(t){return t===J1?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const im=new class fIe extends on{constructor(){super(new Vo(zA),on.EMPTY_NODE,hl.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return on.EMPTY_NODE}isEmpty(){return!1}};function Fi(n,e=null){if(null===n)return on.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,F.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Nh(n,Fi(e));if(n instanceof Array){let t=on.EMPTY_NODE;return ls(n,(i,r)=>{if((0,F.r3)(n,i)&&"."!==i.substring(0,1)){const s=Fi(r);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(i,s))}}),t.updatePriority(Fi(e))}{const t=[];let i=!1;if(ls(n,(l,f)=>{if("."!==l.substring(0,1)){const p=Fi(f);p.isEmpty()||(i=i||!p.getPriority().isEmpty(),t.push(new _n(l,p)))}}),0===t.length)return on.EMPTY_NODE;const s=Eb(t,rIe,l=>l.name,zA);if(i){const l=Eb(t,ai.getCompare());return new on(s,Fi(e),new hl({".priority":l},{".priority":ai}))}return new on(s,Fi(e),hl.Default)}}Object.defineProperties(_n,{MIN:{value:new _n(a4,on.EMPTY_NODE)},MAX:{value:new _n(dl,im)}}),gZ.__EMPTY_NODE=on.EMPTY_NODE,Nh.__childrenNodeConstructor=on,function sIe(n){NA=n}(im),function aIe(n){bZ=n}(im),function oIe(n){xZ=n}(Fi);class PA extends wb{constructor(e){super(),this.indexPath_=e,(0,F.hu)(!pn(e)&&".priority"!==hn(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),r=this.extractChild(t.node),s=i.compareTo(r);return 0===s?cf(e.name,t.name):s}makePost(e,t){const i=Fi(e),r=on.EMPTY_NODE.updateChild(this.indexPath_,i);return new _n(t,r)}maxPost(){const e=on.EMPTY_NODE.updateChild(this.indexPath_,im);return new _n(dl,e)}toString(){return em(this.indexPath_,0).join("/")}}const OA=new class hIe extends wb{compare(e,t){const i=e.node.compareTo(t.node);return 0===i?cf(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return _n.MIN}maxPost(){return _n.MAX}makePost(e,t){const i=Fi(e);return new _n(t,i)}toString(){return".value"}};function CZ(n){return{type:"value",snapshotNode:n}}function Ph(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function rm(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function sm(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class FA{constructor(e){this.index_=e}updateChild(e,t,i,r,s,l){(0,F.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const f=e.getImmediateChild(t);return f.getChild(r).equals(i.getChild(r))&&f.isEmpty()===i.isEmpty()||(null!=l&&(i.isEmpty()?e.hasChild(t)?l.trackChildChange(rm(t,f)):(0,F.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):f.isEmpty()?l.trackChildChange(Ph(t,i)):l.trackChildChange(sm(t,i,f))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return null!=i&&(e.isLeafNode()||e.forEachChild(ai,(r,s)=>{t.hasChild(r)||i.trackChildChange(rm(r,s))}),t.isLeafNode()||t.forEachChild(ai,(r,s)=>{if(e.hasChild(r)){const l=e.getImmediateChild(r);l.equals(s)||i.trackChildChange(sm(r,s,l))}else i.trackChildChange(Ph(r,s))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?on.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class om{constructor(e){this.indexedFilter_=new FA(e.getIndex()),this.index_=e.getIndex(),this.startPost_=om.getStartPost_(e),this.endPost_=om.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&i}updateChild(e,t,i,r,s,l){return this.matches(new _n(t,i))||(i=on.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,r,s,l)}updateFullNode(e,t,i){t.isLeafNode()&&(t=on.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(on.EMPTY_NODE);const s=this;return t.forEachChild(ai,(l,f)=>{s.matches(new _n(l,f))||(r=r.updateImmediateChild(l,on.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class mIe{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=t=>{const i=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new om(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,i,r,s,l){return this.rangedFilter_.matches(new _n(t,i))||(i=on.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,r,s,l):this.fullLimitUpdateChild_(e,t,i,s,l)}updateFullNode(e,t,i){let r;if(t.isLeafNode()||t.isEmpty())r=on.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let s;r=on.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let l=0;for(;s.hasNext()&&l<this.limit_;){const f=s.getNext();if(this.withinDirectionalStart(f)){if(!this.withinDirectionalEnd(f))break;r=r.updateImmediateChild(f.name,f.node),l++}}}else{let s;r=t.withIndex(this.index_),r=r.updatePriority(on.EMPTY_NODE),s=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let l=0;for(;s.hasNext();){const f=s.getNext();l<this.limit_&&this.withinDirectionalStart(f)&&this.withinDirectionalEnd(f)?l++:r=r.updateImmediateChild(f.name,on.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,r,s){let l;if(this.reverse_){const M=this.index_.getCompare();l=(I,H)=>M(H,I)}else l=this.index_.getCompare();const f=e;(0,F.hu)(f.numChildren()===this.limit_,"");const p=new _n(t,i),_=this.reverse_?f.getFirstChild(this.index_):f.getLastChild(this.index_),x=this.rangedFilter_.matches(p);if(f.hasChild(t)){const M=f.getImmediateChild(t);let I=r.getChildAfterChild(this.index_,_,this.reverse_);for(;null!=I&&(I.name===t||f.hasChild(I.name));)I=r.getChildAfterChild(this.index_,I,this.reverse_);const H=null==I?1:l(I,p);if(x&&!i.isEmpty()&&H>=0)return s?.trackChildChange(sm(t,i,M)),f.updateImmediateChild(t,i);{s?.trackChildChange(rm(t,M));const q=f.updateImmediateChild(t,on.EMPTY_NODE);return null!=I&&this.rangedFilter_.matches(I)?(s?.trackChildChange(Ph(I.name,I.node)),q.updateImmediateChild(I.name,I.node)):q}}return i.isEmpty()?e:x&&l(_,p)>=0?(null!=s&&(s.trackChildChange(rm(_.name,_.node)),s.trackChildChange(Ph(t,i))),f.updateImmediateChild(t,i).updateImmediateChild(_.name,on.EMPTY_NODE)):e}}class Db{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ai}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:a4}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:dl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,F.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ai}copy(){const e=new Db;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function BA(n,e,t){const i=n.copy();return i.startSet_=!0,void 0===e&&(e=null),i.indexStartValue_=e,null!=t?(i.startNameSet_=!0,i.indexStartName_=t):(i.startNameSet_=!1,i.indexStartName_=""),i}function UA(n,e,t){const i=n.copy();return i.endSet_=!0,void 0===e&&(e=null),i.indexEndValue_=e,void 0!==t?(i.endNameSet_=!0,i.indexEndName_=t):(i.endNameSet_=!1,i.indexEndName_=""),i}function Tb(n,e){const t=n.copy();return t.index_=e,t}function wZ(n){const e={};if(n.isDefault())return e;let t;if(n.index_===ai?t="$priority":n.index_===OA?t="$value":n.index_===J1?t="$key":((0,F.hu)(n.index_ instanceof PA,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,F.Wl)(t),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";e[i]=(0,F.Wl)(n.indexStartValue_),n.startNameSet_&&(e[i]+=","+(0,F.Wl)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";e[i]=(0,F.Wl)(n.indexEndValue_),n.endNameSet_&&(e[i]+=","+(0,F.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function MZ(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==ai&&(e.i=n.index_.toString()),e}class Ib extends cZ{constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=K7("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,F.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,i,r){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const l=Ib.getListenId_(e,i),f={};this.listens_[l]=f;const p=wZ(e._queryParams);this.restRequest_(s+".json",p,(_,x)=>{let M=x;if(404===_&&(M=null,_=null),null===_&&this.onDataUpdate_(s,M,!1,i),(0,F.DV)(this.listens_,l)===f){let I;I=_?401===_?"permission_denied":"rest_error:"+_:"ok",r(I,null)}})}unlisten(e,t){const i=Ib.getListenId_(e,t);delete this.listens_[i]}get(e){const t=wZ(e._queryParams),i=e._path.toString(),r=new F.BH;return this.restRequest_(i+".json",t,(s,l)=>{let f=l;404===s&&(f=null,s=null),null===s?(this.onDataUpdate_(i,f,!1,null),r.resolve(f)):r.reject(new Error(f))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(t.auth=r.accessToken),s&&s.token&&(t.ac=s.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,F.xO)(t);this.log_("Sending REST request for "+l);const f=new XMLHttpRequest;f.onreadystatechange=()=>{if(i&&4===f.readyState){this.log_("REST Response for "+l+" received. status:",f.status,"response:",f.responseText);let p=null;if(f.status>=200&&f.status<300){try{p=(0,F.cI)(f.responseText)}catch{Rs("Failed to parse JSON response for "+l+": "+f.responseText)}i(null,p)}else 401!==f.status&&404!==f.status&&Rs("Got unsuccessful REST response for "+l+" Status: "+f.status),i(f.status);i=null}},f.open("GET",l,!0),f.send()})}}class bIe{constructor(){this.rootNode_=on.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function Ab(){return{value:null,children:new Map}}function Oh(n,e,t){if(pn(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const i=hn(e);n.children.has(i)||n.children.set(i,Ab()),Oh(n.children.get(i),e=ei(e),t)}}function jA(n,e){if(pn(e))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild(ai,(i,r)=>{Oh(n,new Nn(i),r)}),jA(n,e)}}if(n.children.size>0){const t=hn(e);return e=ei(e),n.children.has(t)&&jA(n.children.get(t),e)&&n.children.delete(t),0===n.children.size}return!0}function $A(n,e,t){null!==n.value?t(e,n.value):function CIe(n,e){n.children.forEach((t,i)=>{e(i,t)})}(n,(i,r)=>{$A(r,new Nn(e.toString()+"/"+i),t)})}class wIe{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&ls(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}}class EIe{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new wIe(e);const i=1e4+2e4*Math.random();X7(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;ls(e,(r,s)=>{s>0&&(0,F.r3)(this.statsToReport_,r)&&(t[r]=s,i=!0)}),i&&this.server_.reportStats(t),X7(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var o2=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(o2||(o2={})),o2))();function qA(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Vb{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=o2.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(pn(this.path)){if(null!=this.affectedTree.value)return(0,F.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Nn(e));return new Vb(Ln(),t,this.revert)}}return(0,F.hu)(hn(this.path)===e,"operationForChild called for unrelated child."),new Vb(ei(this.path),this.affectedTree,this.revert)}}class am{constructor(e,t){this.source=e,this.path=t,this.type=o2.LISTEN_COMPLETE}operationForChild(e){return pn(this.path)?new am(this.source,Ln()):new am(this.source,ei(this.path))}}class ff{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=o2.OVERWRITE}operationForChild(e){return pn(this.path)?new ff(this.source,Ln(),this.snap.getImmediateChild(e)):new ff(this.source,ei(this.path),this.snap)}}class Fh{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=o2.MERGE}operationForChild(e){if(pn(this.path)){const t=this.children.subtree(new Nn(e));return t.isEmpty()?null:t.value?new ff(this.source,Ln(),t.value):new Fh(this.source,Ln(),t)}return(0,F.hu)(hn(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Fh(this.source,ei(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class u4{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(pn(e))return this.isFullyInitialized()&&!this.filtered_;const t=hn(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class DIe{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function cm(n,e,t,i,r,s){const l=i.filter(f=>f.type===t);l.sort((f,p)=>function AIe(n,e,t){if(null==e.childName||null==t.childName)throw(0,F.g5)("Should only compare child_ events.");const i=new _n(e.childName,e.snapshotNode),r=new _n(t.childName,t.snapshotNode);return n.index_.compare(i,r)}(n,f,p)),l.forEach(f=>{const p=function IIe(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,f,s);r.forEach(_=>{_.respondsTo(f.type)&&e.push(_.createEvent(p,n.query_))})})}function Lb(n,e){return{eventCache:n,serverCache:e}}function lm(n,e,t,i){return Lb(new u4(e,t,i),n.serverCache)}function EZ(n,e,t,i){return Lb(n.eventCache,new u4(e,t,i))}function kb(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function df(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let YA;class ci{constructor(e,t=(()=>(YA||(YA=new Vo(pTe)),YA))()){this.value=e,this.children=t}static fromObject(e){let t=new ci(null);return ls(e,(i,r)=>{t=t.set(new Nn(i),r)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Ln(),value:this.value};if(pn(e))return null;{const i=hn(e),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(ei(e),t);return null!=s?{path:Di(new Nn(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(pn(e))return this;{const t=hn(e),i=this.children.get(t);return null!==i?i.subtree(ei(e)):new ci(null)}}set(e,t){if(pn(e))return new ci(t,this.children);{const i=hn(e),s=(this.children.get(i)||new ci(null)).set(ei(e),t),l=this.children.insert(i,s);return new ci(this.value,l)}}remove(e){if(pn(e))return this.children.isEmpty()?new ci(null):new ci(null,this.children);{const t=hn(e),i=this.children.get(t);if(i){const r=i.remove(ei(e));let s;return s=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&s.isEmpty()?new ci(null):new ci(this.value,s)}return this}}get(e){if(pn(e))return this.value;{const t=hn(e),i=this.children.get(t);return i?i.get(ei(e)):null}}setTree(e,t){if(pn(e))return t;{const i=hn(e),s=(this.children.get(i)||new ci(null)).setTree(ei(e),t);let l;return l=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new ci(this.value,l)}}fold(e){return this.fold_(Ln(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(Di(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,Ln(),t)}findOnPath_(e,t,i){const r=!!this.value&&i(t,this.value);if(r)return r;if(pn(e))return null;{const s=hn(e),l=this.children.get(s);return l?l.findOnPath_(ei(e),Di(t,s),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Ln(),t)}foreachOnPath_(e,t,i){if(pn(e))return this;{this.value&&i(t,this.value);const r=hn(e),s=this.children.get(r);return s?s.foreachOnPath_(ei(e),Di(t,r),i):new ci(null)}}foreach(e){this.foreach_(Ln(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_(Di(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}class W2{constructor(e){this.writeTree_=e}static empty(){return new W2(new ci(null))}}function um(n,e,t){if(pn(e))return new W2(new ci(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(null!=i){const r=i.path;let s=i.value;const l=co(r,e);return s=s.updateChild(l,t),new W2(n.writeTree_.set(r,s))}{const r=new ci(t),s=n.writeTree_.setTree(e,r);return new W2(s)}}}function ZA(n,e,t){let i=n;return ls(t,(r,s)=>{i=um(i,Di(e,r),s)}),i}function DZ(n,e){if(pn(e))return W2.empty();{const t=n.writeTree_.setTree(e,new ci(null));return new W2(t)}}function KA(n,e){return null!=hf(n,e)}function hf(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(co(t.path,e)):null}function TZ(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(ai,(i,r)=>{e.push(new _n(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&e.push(new _n(i,r.value))}),e}function f4(n,e){if(pn(e))return n;{const t=hf(n,e);return new W2(null!=t?new ci(t):n.writeTree_.subtree(e))}}function QA(n){return n.writeTree_.isEmpty()}function Bh(n,e){return IZ(Ln(),n.writeTree_,e)}function IZ(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,s)=>{".priority"===r?((0,F.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):t=IZ(Di(n,r),s,t)}),!t.getChild(n).isEmpty()&&null!==i&&(t=t.updateChild(Di(n,".priority"),i)),t}}function Hb(n,e){return HZ(e,n)}function NIe(n,e){if(n.snap)return s2(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&s2(Di(n.path,t),e))return!0;return!1}function PIe(n){return n.visible}function AZ(n,e,t){let i=W2.empty();for(let r=0;r<n.length;++r){const s=n[r];if(e(s)){const l=s.path;let f;if(s.snap)s2(t,l)?(f=co(t,l),i=um(i,f,s.snap)):s2(l,t)&&(f=co(l,t),i=um(i,Ln(),s.snap.getChild(f)));else{if(!s.children)throw(0,F.g5)("WriteRecord should have .snap or .children");if(s2(t,l))f=co(t,l),i=ZA(i,f,s.children);else if(s2(l,t))if(f=co(l,t),pn(f))i=ZA(i,Ln(),s.children);else{const p=(0,F.DV)(s.children,hn(f));if(p){const _=p.getChild(ei(f));i=um(i,Ln(),_)}}}}}return i}function VZ(n,e,t,i,r){if(i||r){const s=f4(n.visibleWrites,e);return!r&&QA(s)?t:r||null!=t||KA(s,Ln())?Bh(AZ(n.allWrites,function(_){return(_.visible||r)&&(!i||!~i.indexOf(_.writeId))&&(s2(_.path,e)||s2(e,_.path))},e),t||on.EMPTY_NODE):null}{const s=hf(n.visibleWrites,e);if(null!=s)return s;{const l=f4(n.visibleWrites,e);return QA(l)?t:null!=t||KA(l,Ln())?Bh(l,t||on.EMPTY_NODE):null}}}function zb(n,e,t,i){return VZ(n.writeTree,n.treePath,e,t,i)}function XA(n,e){return function OIe(n,e,t){let i=on.EMPTY_NODE;const r=hf(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(ai,(s,l)=>{i=i.updateImmediateChild(s,l)}),i;if(t){const s=f4(n.visibleWrites,e);return t.forEachChild(ai,(l,f)=>{const p=Bh(f4(s,new Nn(l)),f);i=i.updateImmediateChild(l,p)}),TZ(s).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}return TZ(f4(n.visibleWrites,e)).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}(n.writeTree,n.treePath,e)}function LZ(n,e,t,i){return function FIe(n,e,t,i,r){(0,F.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=Di(e,t);if(KA(n.visibleWrites,s))return null;{const l=f4(n.visibleWrites,s);return QA(l)?r.getChild(t):Bh(l,r.getChild(t))}}(n.writeTree,n.treePath,e,t,i)}function Nb(n,e){return function UIe(n,e){return hf(n.visibleWrites,e)}(n.writeTree,Di(n.treePath,e))}function JA(n,e,t){return function BIe(n,e,t,i){const r=Di(e,t),s=hf(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(t)?Bh(f4(n.visibleWrites,r),i.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function kZ(n,e){return HZ(Di(n.treePath,e),n.writeTree)}function HZ(n,e){return{treePath:n,writeTree:e}}class WIe{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;(0,F.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,F.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(i,sm(i,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(i,rm(i,r.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(i,Ph(i,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw(0,F.g5)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(i,sm(i,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}const zZ=new class qIe{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}};class eV{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=null!=this.optCompleteServerCache_?new u4(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return JA(this.writes_,e,i)}}getChildAfterChild(e,t,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:df(this.viewCache_),s=function GIe(n,e,t,i,r,s){return function jIe(n,e,t,i,r,s,l){let f;const p=f4(n.visibleWrites,e),_=hf(p,Ln());if(null!=_)f=_;else{if(null==t)return[];f=Bh(p,t)}if(f=f.withIndex(l),f.isEmpty()||f.isLeafNode())return[];{const x=[],M=l.getCompare(),I=s?f.getReverseIteratorFrom(i,l):f.getIteratorFrom(i,l);let H=I.getNext();for(;H&&x.length<r;)0!==M(H,i)&&x.push(H),H=I.getNext();return x}}(n.writeTree,n.treePath,e,t,i,r,s)}(this.writes_,r,t,1,i,e);return 0===s.length?null:s[0]}}function NZ(n,e,t,i,r,s){const l=e.eventCache;if(null!=Nb(i,t))return e;{let f,p;if(pn(t))if((0,F.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const _=df(e),M=XA(i,_ instanceof on?_:on.EMPTY_NODE);f=n.filter.updateFullNode(e.eventCache.getNode(),M,s)}else{const _=zb(i,df(e));f=n.filter.updateFullNode(e.eventCache.getNode(),_,s)}else{const _=hn(t);if(".priority"===_){(0,F.hu)(1===l4(t),"Can't have a priority with additional path components");const x=l.getNode();p=e.serverCache.getNode();const M=LZ(i,t,x,p);f=null!=M?n.filter.updatePriority(x,M):l.getNode()}else{const x=ei(t);let M;if(l.isCompleteForChild(_)){p=e.serverCache.getNode();const I=LZ(i,t,l.getNode(),p);M=null!=I?l.getNode().getImmediateChild(_).updateChild(x,I):l.getNode().getImmediateChild(_)}else M=JA(i,_,e.serverCache);f=null!=M?n.filter.updateChild(l.getNode(),_,M,x,r,s):l.getNode()}}return lm(e,f,l.isFullyInitialized()||pn(t),n.filter.filtersNodes())}}function Rb(n,e,t,i,r,s,l,f){const p=e.serverCache;let _;const x=l?n.filter:n.filter.getIndexedFilter();if(pn(t))_=x.updateFullNode(p.getNode(),i,null);else if(x.filtersNodes()&&!p.isFiltered()){const H=p.getNode().updateChild(t,i);_=x.updateFullNode(p.getNode(),H,null)}else{const H=hn(t);if(!p.isCompleteForPath(t)&&l4(t)>1)return e;const P=ei(t),se=p.getNode().getImmediateChild(H).updateChild(P,i);_=".priority"===H?x.updatePriority(p.getNode(),se):x.updateChild(p.getNode(),H,se,P,zZ,null)}const M=EZ(e,_,p.isFullyInitialized()||pn(t),x.filtersNodes());return NZ(n,M,t,r,new eV(r,M,s),f)}function tV(n,e,t,i,r,s,l){const f=e.eventCache;let p,_;const x=new eV(r,e,s);if(pn(t))_=n.filter.updateFullNode(e.eventCache.getNode(),i,l),p=lm(e,_,!0,n.filter.filtersNodes());else{const M=hn(t);if(".priority"===M)_=n.filter.updatePriority(e.eventCache.getNode(),i),p=lm(e,_,f.isFullyInitialized(),f.isFiltered());else{const I=ei(t),H=f.getNode().getImmediateChild(M);let P;if(pn(I))P=i;else{const q=x.getCompleteChild(M);P=null!=q?".priority"===LA(I)&&q.getChild(dZ(I)).isEmpty()?q:q.updateChild(I,i):on.EMPTY_NODE}p=H.equals(P)?e:lm(e,n.filter.updateChild(f.getNode(),M,P,I,x,l),f.isFullyInitialized(),n.filter.filtersNodes())}}return p}function RZ(n,e){return n.eventCache.isCompleteForChild(e)}function PZ(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function nV(n,e,t,i,r,s,l,f){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let _,p=e;_=pn(t)?i:new ci(null).setTree(t,i);const x=e.serverCache.getNode();return _.children.inorderTraversal((M,I)=>{if(x.hasChild(M)){const P=PZ(0,e.serverCache.getNode().getImmediateChild(M),I);p=Rb(n,p,new Nn(M),P,r,s,l,f)}}),_.children.inorderTraversal((M,I)=>{const H=!e.serverCache.isCompleteForChild(M)&&null===I.value;if(!x.hasChild(M)&&!H){const q=PZ(0,e.serverCache.getNode().getImmediateChild(M),I);p=Rb(n,p,new Nn(M),q,r,s,l,f)}}),p}class nAe{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new FA(i.getIndex()),s=function gIe(n){return n.loadsAllData()?new FA(n.getIndex()):n.hasLimit()?new mIe(n):new om(n)}(i);this.processor_=function YIe(n){return{filter:n}}(s);const l=t.serverCache,f=t.eventCache,p=r.updateFullNode(on.EMPTY_NODE,l.getNode(),null),_=s.updateFullNode(on.EMPTY_NODE,f.getNode(),null),x=new u4(p,l.isFullyInitialized(),r.filtersNodes()),M=new u4(_,f.isFullyInitialized(),s.filtersNodes());this.viewCache_=Lb(M,x),this.eventGenerator_=new DIe(this.query_)}get query(){return this.query_}}function sAe(n,e){const t=df(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!pn(e)&&!t.getImmediateChild(hn(e)).isEmpty())?t.getChild(e):null}function OZ(n){return 0===n.eventRegistrations_.length}function FZ(n,e,t){const i=[];if(t){(0,F.hu)(null==e,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const l=s.createCancelEvent(t,r);l&&i.push(l)})}if(e){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const l=n.eventRegistrations_[s];if(l.matches(e)){if(e.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}else r.push(l)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function BZ(n,e,t,i){e.type===o2.MERGE&&null!==e.source.queryId&&((0,F.hu)(df(n.viewCache_),"We should always have a full cache before handling merges"),(0,F.hu)(kb(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function KIe(n,e,t,i,r){const s=new WIe;let l,f;if(t.type===o2.OVERWRITE){const _=t;_.source.fromUser?l=tV(n,e,_.path,_.snap,i,r,s):((0,F.hu)(_.source.fromServer,"Unknown source."),f=_.source.tagged||e.serverCache.isFiltered()&&!pn(_.path),l=Rb(n,e,_.path,_.snap,i,r,f,s))}else if(t.type===o2.MERGE){const _=t;_.source.fromUser?l=function XIe(n,e,t,i,r,s,l){let f=e;return i.foreach((p,_)=>{const x=Di(t,p);RZ(e,hn(x))&&(f=tV(n,f,x,_,r,s,l))}),i.foreach((p,_)=>{const x=Di(t,p);RZ(e,hn(x))||(f=tV(n,f,x,_,r,s,l))}),f}(n,e,_.path,_.children,i,r,s):((0,F.hu)(_.source.fromServer,"Unknown source."),f=_.source.tagged||e.serverCache.isFiltered(),l=nV(n,e,_.path,_.children,i,r,f,s))}else if(t.type===o2.ACK_USER_WRITE){const _=t;l=_.revert?function tAe(n,e,t,i,r,s){let l;if(null!=Nb(i,t))return e;{const f=new eV(i,e,r),p=e.eventCache.getNode();let _;if(pn(t)||".priority"===hn(t)){let x;if(e.serverCache.isFullyInitialized())x=zb(i,df(e));else{const M=e.serverCache.getNode();(0,F.hu)(M instanceof on,"serverChildren would be complete if leaf node"),x=XA(i,M)}_=n.filter.updateFullNode(p,x,s)}else{const x=hn(t);let M=JA(i,x,e.serverCache);null==M&&e.serverCache.isCompleteForChild(x)&&(M=p.getImmediateChild(x)),_=null!=M?n.filter.updateChild(p,x,M,ei(t),f,s):e.eventCache.getNode().hasChild(x)?n.filter.updateChild(p,x,on.EMPTY_NODE,ei(t),f,s):p,_.isEmpty()&&e.serverCache.isFullyInitialized()&&(l=zb(i,df(e)),l.isLeafNode()&&(_=n.filter.updateFullNode(_,l,s)))}return l=e.serverCache.isFullyInitialized()||null!=Nb(i,Ln()),lm(e,_,l,n.filter.filtersNodes())}}(n,e,_.path,i,r,s):function JIe(n,e,t,i,r,s,l){if(null!=Nb(r,t))return e;const f=e.serverCache.isFiltered(),p=e.serverCache;if(null!=i.value){if(pn(t)&&p.isFullyInitialized()||p.isCompleteForPath(t))return Rb(n,e,t,p.getNode().getChild(t),r,s,f,l);if(pn(t)){let _=new ci(null);return p.getNode().forEachChild(J1,(x,M)=>{_=_.set(new Nn(x),M)}),nV(n,e,t,_,r,s,f,l)}return e}{let _=new ci(null);return i.foreach((x,M)=>{const I=Di(t,x);p.isCompleteForPath(I)&&(_=_.set(x,p.getNode().getChild(I)))}),nV(n,e,t,_,r,s,f,l)}}(n,e,_.path,_.affectedTree,i,r,s)}else{if(t.type!==o2.LISTEN_COMPLETE)throw(0,F.g5)("Unknown operation type: "+t.type);l=function eAe(n,e,t,i,r){const s=e.serverCache;return NZ(n,EZ(e,s.getNode(),s.isFullyInitialized()||pn(t),s.isFiltered()),t,i,zZ,r)}(n,e,t.path,i,s)}const p=s.getChanges();return function QIe(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=kb(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&t.push(CZ(kb(e)))}}(e,l,p),{viewCache:l,changes:p}}(n.processor_,r,e,t,i);return function ZIe(n,e){(0,F.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,F.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,F.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,UZ(n,s.changes,s.viewCache.eventCache.getNode(),null)}function UZ(n,e,t,i){return function TIe(n,e,t,i){const r=[],s=[];return e.forEach(l=>{"child_changed"===l.type&&n.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&s.push(function pIe(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(l.childName,l.snapshotNode))}),cm(n,r,"child_removed",e,i,t),cm(n,r,"child_added",e,i,t),cm(n,r,"child_moved",s,i,t),cm(n,r,"child_changed",e,i,t),cm(n,r,"value",e,i,t),r}(n.eventGenerator_,e,t,i?[i]:n.eventRegistrations_)}let Pb,Fb;class jZ{constructor(){this.views=new Map}}function iV(n,e,t,i){const r=e.source.queryId;if(null!==r){const s=n.views.get(r);return(0,F.hu)(null!=s,"SyncTree gave us an op for an invalid query."),BZ(s,e,t,i)}{let s=[];for(const l of n.views.values())s=s.concat(BZ(l,e,t,i));return s}}function $Z(n,e,t,i,r){const l=n.views.get(e._queryIdentifier);if(!l){let f=zb(t,r?i:null),p=!1;f?p=!0:i instanceof on?(f=XA(t,i),p=!1):(f=on.EMPTY_NODE,p=!1);const _=Lb(new u4(f,p,!1),new u4(i,r,!1));return new nAe(e,_)}return l}function GZ(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function d4(n,e){let t=null;for(const i of n.views.values())t=t||sAe(i,e);return t}function WZ(n,e){return e._queryParams.loadsAllData()?Ob(n):n.views.get(e._queryIdentifier)}function qZ(n,e){return null!=WZ(n,e)}function h4(n){return null!=Ob(n)}function Ob(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let mAe=1;class YZ{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ci(null),this.pendingWriteTree_=function $Ie(){return{visibleWrites:W2.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function rV(n,e,t,i,r){return function LIe(n,e,t,i,r){(0,F.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=um(n.visibleWrites,e,t)),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i,r),r?Uh(n,new ff({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function p4(n,e,t=!1){const i=function HIe(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}(n.pendingWriteTree_,e);if(function zIe(n,e){const t=n.allWrites.findIndex(f=>f.writeId===e);(0,F.hu)(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,s=!1,l=n.allWrites.length-1;for(;r&&l>=0;){const f=n.allWrites[l];f.visible&&(l>=t&&NIe(f,i.path)?r=!1:s2(i.path,f.path)&&(s=!0)),l--}return!!r&&(s?(function RIe(n){n.visibleWrites=AZ(n.allWrites,PIe,Ln()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=DZ(n.visibleWrites,i.path):ls(i.children,p=>{n.visibleWrites=DZ(n.visibleWrites,Di(i.path,p))}),!0))}(n.pendingWriteTree_,e)){let s=new ci(null);return null!=i.snap?s=s.set(Ln(),!0):ls(i.children,l=>{s=s.set(new Nn(l),!0)}),Uh(n,new Vb(i.path,s,t))}return[]}function fm(n,e,t){return Uh(n,new ff({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function Bb(n,e,t,i,r=!1){const s=e._path,l=n.syncPointTree_.get(s);let f=[];if(l&&("default"===e._queryIdentifier||qZ(l,e))){const p=function dAe(n,e,t,i){const r=e._queryIdentifier,s=[];let l=[];const f=h4(n);if("default"===r)for(const[p,_]of n.views.entries())l=l.concat(FZ(_,t,i)),OZ(_)&&(n.views.delete(p),_.query._queryParams.loadsAllData()||s.push(_.query));else{const p=n.views.get(r);p&&(l=l.concat(FZ(p,t,i)),OZ(p)&&(n.views.delete(r),p.query._queryParams.loadsAllData()||s.push(p.query)))}return f&&!h4(n)&&s.push(new(function lAe(){return(0,F.hu)(Pb,"Reference.ts has not been loaded"),Pb}())(e._repo,e._path)),{removed:s,events:l}}(l,e,t,i);(function uAe(n){return 0===n.views.size})(l)&&(n.syncPointTree_=n.syncPointTree_.remove(s));const _=p.removed;if(f=p.events,!r){const x=-1!==_.findIndex(I=>I._queryParams.loadsAllData()),M=n.syncPointTree_.findOnPath(s,(I,H)=>h4(H));if(x&&!M){const I=n.syncPointTree_.subtree(s);if(!I.isEmpty()){const H=function CAe(n){return n.fold((e,t,i)=>{if(t&&h4(t))return[Ob(t)];{let r=[];return t&&(r=GZ(t)),ls(i,(s,l)=>{r=r.concat(l)}),r}})}(I);for(let P=0;P<H.length;++P){const q=H[P],se=q.query,De=XZ(n,q);n.listenProvider_.startListening(hm(se),dm(n,se),De.hashFn,De.onComplete)}}}!M&&_.length>0&&!i&&(x?n.listenProvider_.stopListening(hm(e),null):_.forEach(I=>{const H=n.queryToTagMap.get(jb(I));n.listenProvider_.stopListening(hm(I),H)}))}!function wAe(n,e){for(let t=0;t<e.length;++t){const i=e[t];if(!i._queryParams.loadsAllData()){const r=jb(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}(n,_)}return f}function ZZ(n,e,t,i){const r=oV(n,i);if(null!=r){const s=aV(r),l=s.path,f=s.queryId,p=co(l,e);return cV(n,l,new ff(qA(f),p,t))}return[]}function sV(n,e,t,i=!1){const r=e._path;let s=null,l=!1;n.syncPointTree_.foreachOnPath(r,(I,H)=>{const P=co(I,r);s=s||d4(H,P),l=l||h4(H)});let p,f=n.syncPointTree_.get(r);f?(l=l||h4(f),s=s||d4(f,Ln())):(f=new jZ,n.syncPointTree_=n.syncPointTree_.set(r,f)),null!=s?p=!0:(p=!1,s=on.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((H,P)=>{const q=d4(P,Ln());q&&(s=s.updateImmediateChild(H,q))}));const _=qZ(f,e);if(!_&&!e._queryParams.loadsAllData()){const I=jb(e);(0,F.hu)(!n.queryToTagMap.has(I),"View does not exist, but we have a tag");const H=function MAe(){return mAe++}();n.queryToTagMap.set(I,H),n.tagToQueryMap.set(H,I)}let M=function fAe(n,e,t,i,r,s){const l=$Z(n,e,i,r,s);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,l),function oAe(n,e){n.eventRegistrations_.push(e)}(l,t),function aAe(n,e){const t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(ai,(s,l)=>{i.push(Ph(s,l))}),t.isFullyInitialized()&&i.push(CZ(t.getNode())),UZ(n,i,t.getNode(),e)}(l,t)}(f,e,t,Hb(n.pendingWriteTree_,r),s,p);if(!_&&!l&&!i){const I=WZ(f,e);M=M.concat(function SAe(n,e,t){const i=e._path,r=dm(n,e),s=XZ(n,t),l=n.listenProvider_.startListening(hm(e),r,s.hashFn,s.onComplete),f=n.syncPointTree_.subtree(i);if(r)(0,F.hu)(!h4(f.value),"If we're adding a query, it shouldn't be shadowed");else{const p=f.fold((_,x,M)=>{if(!pn(_)&&x&&h4(x))return[Ob(x).query];{let I=[];return x&&(I=I.concat(GZ(x).map(H=>H.query))),ls(M,(H,P)=>{I=I.concat(P)}),I}});for(let _=0;_<p.length;++_){const x=p[_];n.listenProvider_.stopListening(hm(x),dm(n,x))}}return l}(n,e,I))}return M}function Ub(n,e,t){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(l,f)=>{const _=d4(f,co(l,e));if(_)return _});return VZ(r,e,s,t,!0)}function Uh(n,e){return KZ(e,n.syncPointTree_,null,Hb(n.pendingWriteTree_,Ln()))}function KZ(n,e,t,i){if(pn(n.path))return QZ(n,e,t,i);{const r=e.get(Ln());null==t&&null!=r&&(t=d4(r,Ln()));let s=[];const l=hn(n.path),f=n.operationForChild(l),p=e.children.get(l);if(p&&f){const _=t?t.getImmediateChild(l):null,x=kZ(i,l);s=s.concat(KZ(f,p,_,x))}return r&&(s=s.concat(iV(r,n,i,t))),s}}function QZ(n,e,t,i){const r=e.get(Ln());null==t&&null!=r&&(t=d4(r,Ln()));let s=[];return e.children.inorderTraversal((l,f)=>{const p=t?t.getImmediateChild(l):null,_=kZ(i,l),x=n.operationForChild(l);x&&(s=s.concat(QZ(x,f,p,_)))}),r&&(s=s.concat(iV(r,n,i,t))),s}function XZ(n,e){const t=e.query,i=dm(n,t);return{hashFn:()=>(function iAe(n){return n.viewCache_.serverCache.getNode()}(e)||on.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function yAe(n,e,t){const i=oV(n,t);if(i){const r=aV(i),s=r.path,l=r.queryId,f=co(s,e);return cV(n,s,new am(qA(l),f))}return[]}(n,t._path,i):function vAe(n,e){return Uh(n,new am({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const s=function _Te(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}(r,t);return Bb(n,t,null,s)}}}}function dm(n,e){const t=jb(e);return n.queryToTagMap.get(t)}function jb(n){return n._path.toString()+"$"+n._queryIdentifier}function oV(n,e){return n.tagToQueryMap.get(e)}function aV(n){const e=n.indexOf("$");return(0,F.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Nn(n.substr(0,e))}}function cV(n,e,t){const i=n.syncPointTree_.get(e);return(0,F.hu)(i,"Missing sync point for query tag that we're tracking"),iV(i,t,Hb(n.pendingWriteTree_,e),null)}function hm(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function pAe(){return(0,F.hu)(Fb,"Reference.ts has not been loaded"),Fb}())(n._repo,n._path):n}class lV{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new lV(t)}node(){return this.node_}}class uV{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Di(this.path_,e);return new uV(this.syncTree_,t)}node(){return Ub(this.syncTree_,this.path_)}}const JZ=function(n,e,t){return n&&"object"==typeof n?((0,F.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?DAe(n[".sv"],e,t):"object"==typeof n[".sv"]?TAe(n[".sv"],e):void(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},DAe=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,F.hu)(!1,"Unexpected server value: "+n)},TAe=function(n,e,t){n.hasOwnProperty("increment")||(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,F.hu)(!1,"Unexpected increment value: "+i);const r=e.node();if((0,F.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const l=r.getValue();return"number"!=typeof l?i:l+i},eK=function(n,e,t,i){return dV(e,new uV(t,n),i)},fV=function(n,e,t){return dV(n,new lV(e),t)};function dV(n,e,t){const i=n.getPriority().val(),r=JZ(i,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const l=n,f=JZ(l.getValue(),e,t);return f!==l.getValue()||r!==l.getPriority().val()?new Nh(f,Fi(r)):n}{const l=n;return s=l,r!==l.getPriority().val()&&(s=s.updatePriority(new Nh(r))),l.forEachChild(ai,(f,p)=>{const _=dV(p,e.getImmediateChild(f),t);_!==p&&(s=s.updateImmediateChild(f,_))}),s}}class hV{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function $b(n,e){let t=e instanceof Nn?e:new Nn(e),i=n,r=hn(t);for(;null!==r;){const s=(0,F.DV)(i.node.children,r)||{children:{},childCount:0};i=new hV(r,i,s),t=ei(t),r=hn(t)}return i}function pf(n){return n.node.value}function pV(n,e){n.node.value=e,mV(n)}function tK(n){return n.node.childCount>0}function Gb(n,e){ls(n.node.children,(t,i)=>{e(new hV(t,n,i))})}function nK(n,e,t,i){t&&!i&&e(n),Gb(n,r=>{nK(r,e,!0,i)}),t&&i&&e(n)}function pm(n){return new Nn(null===n.parent?n.name:pm(n.parent)+"/"+n.name)}function mV(n){null!==n.parent&&function VAe(n,e,t){const i=function IAe(n){return void 0===pf(n)&&!tK(n)}(t),r=(0,F.r3)(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,mV(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,mV(n))}(n.parent,n.name,n)}const LAe=/[\[\].#$\/\u0000-\u001F\u007F]/,kAe=/[\[\].#$\u0000-\u001F\u007F]/,gV=10485760,Wb=function(n){return"string"==typeof n&&0!==n.length&&!LAe.test(n)},iK=function(n){return"string"==typeof n&&0!==n.length&&!kAe.test(n)},mm=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!yb(n)||n&&"object"==typeof n&&(0,F.r3)(n,".sv")},ec=function(n,e,t,i){i&&void 0===e||gm((0,F.gK)(n,"value"),e,t)},gm=function(n,e,t){const i=t instanceof Nn?new KTe(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+lf(i));if("function"==typeof e)throw new Error(n+"contains a function "+lf(i)+" with contents = "+e.toString());if(yb(e))throw new Error(n+"contains "+e.toString()+" "+lf(i));if("string"==typeof e&&e.length>gV/3&&(0,F.ug)(e)>gV)throw new Error(n+"contains a string greater than "+gV+" utf8 bytes "+lf(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let r=!1,s=!1;if(ls(e,(l,f)=>{if(".value"===l)r=!0;else if(".priority"!==l&&".sv"!==l&&(s=!0,!Wb(l)))throw new Error(n+" contains an invalid key ("+l+") "+lf(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function QTe(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,F.ug)(e),hZ(n)})(i,l),gm(n,f,i),function XTe(n){const e=n.parts_.pop();n.byteLength_-=(0,F.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+lf(i)+" in addition to actual children.")}},rK=function(n,e,t,i){if(i&&void 0===e)return;const r=(0,F.gK)(n,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const s=[];ls(e,(l,f)=>{const p=new Nn(l);if(gm(r,f,Di(t,p)),".priority"===LA(p)&&!mm(f))throw new Error(r+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(p)}),function(n,e){let t,i;for(t=0;t<e.length;t++){i=e[t];const s=em(i);for(let l=0;l<s.length;l++)if((".priority"!==s[l]||l!==s.length-1)&&!Wb(s[l]))throw new Error(n+"contains an invalid key ("+s[l]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(ZTe);let r=null;for(t=0;t<e.length;t++){if(i=e[t],null!==r&&s2(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},_V=function(n,e,t){if(!t||void 0!==e){if(yb(e))throw new Error((0,F.gK)(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!mm(e))throw new Error((0,F.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},_m=function(n,e,t,i){if(!(i&&void 0===t||Wb(t)))throw new Error((0,F.gK)(n,e)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},vm=function(n,e,t,i){if(!(i&&void 0===t||iK(t)))throw new Error((0,F.gK)(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},a2=function(n,e){if(".info"===hn(e))throw new Error(n+" failed = Can't modify data under /.info/")},sK=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!Wb(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),iK(n)}(t))throw new Error((0,F.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class RAe{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function qb(n,e){let t=null;for(let i=0;i<e.length;i++){const r=e[i],s=r.getPath();null!==t&&!kA(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(r)}t&&n.eventLists_.push(t)}function oK(n,e,t){qb(n,t),aK(n,i=>kA(i,e))}function ya(n,e,t){qb(n,t),aK(n,i=>s2(i,e)||s2(e,i))}function aK(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(e(r.path)?(PAe(n.eventLists_[i]),n.eventLists_[i]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function PAe(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const i=t.getEventRunner();af&&cs("event: "+t.toString()),Hh(i)}}}const cK="repo_interrupt";class FAe{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new RAe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ab(),this.transactionQueueTree_=new hV,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function lK(n){const t=n.infoData_.getNode(new Nn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function ym(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:lK(n)})}function uK(n,e,t,i,r){n.dataUpdateCount++;const s=new Nn(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let l=[];if(r)if(i){const p=(0,F.UI)(t,_=>Fi(_));l=function xAe(n,e,t,i){const r=oV(n,i);if(r){const s=aV(r),l=s.path,f=s.queryId,p=co(l,e),_=ci.fromObject(t);return cV(n,l,new Fh(qA(f),p,_))}return[]}(n.serverSyncTree_,s,p,r)}else{const p=Fi(t);l=ZZ(n.serverSyncTree_,s,p,r)}else if(i){const p=(0,F.UI)(t,_=>Fi(_));l=function _Ae(n,e,t){const i=ci.fromObject(t);return Uh(n,new Fh({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,s,p)}else{const p=Fi(t);l=fm(n.serverSyncTree_,s,p)}let f=s;l.length>0&&(f=$h(n,s)),ya(n.eventQueue_,f,l)}function fK(n,e){vV(n,"connected",e),!1===e&&function GAe(n){jh(n,"onDisconnectEvents");const e=ym(n),t=Ab();$A(n.onDisconnect_,Ln(),(r,s)=>{const l=eK(r,s,n.serverSyncTree_,e);Oh(t,r,l)});let i=[];$A(t,Ln(),(r,s)=>{i=i.concat(fm(n.serverSyncTree_,r,s));const l=CV(n,r);$h(n,l)}),n.onDisconnect_=Ab(),ya(n.eventQueue_,Ln(),i)}(n)}function vV(n,e,t){const i=new Nn("/.info/"+e),r=Fi(t);n.infoData_.updateSnapshot(i,r);const s=fm(n.infoSyncTree_,i,r);ya(n.eventQueue_,i,s)}function Yb(n){return n.nextWriteId_++}function yV(n,e,t,i,r){jh(n,"set",{path:e.toString(),value:t,priority:i});const s=ym(n),l=Fi(t,i),f=Ub(n.serverSyncTree_,e),p=fV(l,f,s),_=Yb(n),x=rV(n.serverSyncTree_,e,p,_,!0);qb(n.eventQueue_,x),n.server_.put(e.toString(),l.val(!0),(I,H)=>{const P="ok"===I;P||Rs("set at "+e+" failed: "+I);const q=p4(n.serverSyncTree_,_,!P);ya(n.eventQueue_,e,q),m4(0,r,I,H)});const M=CV(n,e);$h(n,M),ya(n.eventQueue_,M,[])}function WAe(n,e,t){n.server_.onDisconnectCancel(e.toString(),(i,r)=>{"ok"===i&&jA(n.onDisconnect_,e),m4(0,t,i,r)})}function dK(n,e,t,i){const r=Fi(t);n.server_.onDisconnectPut(e.toString(),r.val(!0),(s,l)=>{"ok"===s&&Oh(n.onDisconnect_,e,r),m4(0,i,s,l)})}function xV(n,e,t){let i;i=".info"===hn(e._path)?Bb(n.infoSyncTree_,e,t):Bb(n.serverSyncTree_,e,t),oK(n.eventQueue_,e._path,i)}function hK(n){n.persistentConnection_&&n.persistentConnection_.interrupt(cK)}function jh(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),cs(t,...e)}function m4(n,e,t,i){e&&Hh(()=>{if("ok"===t)e(null);else{const r=(t||"error").toUpperCase();let s=r;i&&(s+=": "+i);const l=new Error(s);l.code=r,e(l)}})}function bV(n,e,t){return Ub(n.serverSyncTree_,e,t)||on.EMPTY_NODE}function Zb(n,e=n.transactionQueueTree_){if(e||Kb(n,e),pf(e)){const t=mK(n,e);(0,F.hu)(t.length>0,"Sending zero length transaction queue"),t.every(r=>0===r.status)&&function XAe(n,e,t){const i=t.map(_=>_.currentWriteId),r=bV(n,e,i);let s=r;const l=r.hash();for(let _=0;_<t.length;_++){const x=t[_];(0,F.hu)(0===x.status,"tryToSendTransactionQueue_: items in queue should all be run."),x.status=1,x.retryCount++;const M=co(e,x.path);s=s.updateChild(M,x.currentOutputSnapshotRaw)}const f=s.val(!0),p=e;n.server_.put(p.toString(),f,_=>{jh(n,"transaction put response",{path:p.toString(),status:_});let x=[];if("ok"===_){const M=[];for(let I=0;I<t.length;I++)t[I].status=2,x=x.concat(p4(n.serverSyncTree_,t[I].currentWriteId)),t[I].onComplete&&M.push(()=>t[I].onComplete(null,!0,t[I].currentOutputSnapshotResolved)),t[I].unwatcher();Kb(n,$b(n.transactionQueueTree_,e)),Zb(n,n.transactionQueueTree_),ya(n.eventQueue_,e,x);for(let I=0;I<M.length;I++)Hh(M[I])}else{if("datastale"===_)for(let M=0;M<t.length;M++)t[M].status=3===t[M].status?4:0;else{Rs("transaction at "+p.toString()+" failed: "+_);for(let M=0;M<t.length;M++)t[M].status=4,t[M].abortReason=_}$h(n,e)}},l)}(n,pm(e),t)}else tK(e)&&Gb(e,t=>{Zb(n,t)})}function $h(n,e){const t=pK(n,e),i=pm(t);return function JAe(n,e,t){if(0===e.length)return;const i=[];let r=[];const l=e.filter(f=>0===f.status).map(f=>f.currentWriteId);for(let f=0;f<e.length;f++){const p=e[f],_=co(t,p.path);let M,x=!1;if((0,F.hu)(null!==_,"rerunTransactionsUnderNode_: relativePath should not be null."),4===p.status)x=!0,M=p.abortReason,r=r.concat(p4(n.serverSyncTree_,p.currentWriteId,!0));else if(0===p.status)if(p.retryCount>=25)x=!0,M="maxretry",r=r.concat(p4(n.serverSyncTree_,p.currentWriteId,!0));else{const I=bV(n,p.path,l);p.currentInputSnapshot=I;const H=e[f].update(I.val());if(void 0!==H){gm("transaction failed: Data returned ",H,p.path);let P=Fi(H);"object"==typeof H&&null!=H&&(0,F.r3)(H,".priority")||(P=P.updatePriority(I.getPriority()));const se=p.currentWriteId,De=ym(n),Fe=fV(P,I,De);p.currentOutputSnapshotRaw=P,p.currentOutputSnapshotResolved=Fe,p.currentWriteId=Yb(n),l.splice(l.indexOf(se),1),r=r.concat(rV(n.serverSyncTree_,p.path,Fe,p.currentWriteId,p.applyLocally)),r=r.concat(p4(n.serverSyncTree_,se,!0))}else x=!0,M="nodata",r=r.concat(p4(n.serverSyncTree_,p.currentWriteId,!0))}ya(n.eventQueue_,t,r),r=[],x&&(e[f].status=2,setTimeout(e[f].unwatcher,Math.floor(0)),e[f].onComplete&&i.push("nodata"===M?()=>e[f].onComplete(null,!1,e[f].currentInputSnapshot):()=>e[f].onComplete(new Error(M),!1,null)))}Kb(n,n.transactionQueueTree_);for(let f=0;f<i.length;f++)Hh(i[f]);Zb(n,n.transactionQueueTree_)}(n,mK(n,t),i),i}function pK(n,e){let t,i=n.transactionQueueTree_;for(t=hn(e);null!==t&&void 0===pf(i);)i=$b(i,t),t=hn(e=ei(e));return i}function mK(n,e){const t=[];return gK(n,e,t),t.sort((i,r)=>i.order-r.order),t}function gK(n,e,t){const i=pf(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);Gb(e,r=>{gK(n,r,t)})}function Kb(n,e){const t=pf(e);if(t){let i=0;for(let r=0;r<t.length;r++)2!==t[r].status&&(t[i]=t[r],i++);t.length=i,pV(e,t.length>0?t:void 0)}Gb(e,i=>{Kb(n,i)})}function CV(n,e){const t=pm(pK(n,e)),i=$b(n.transactionQueueTree_,e);return function AAe(n,e,t){let i=t?n:n.parent;for(;null!==i;){if(e(i))return!0;i=i.parent}}(i,r=>{wV(n,r)}),wV(n,i),nK(i,r=>{wV(n,r)}),t}function wV(n,e){const t=pf(e);if(t){const i=[];let r=[],s=-1;for(let l=0;l<t.length;l++)3===t[l].status||(1===t[l].status?((0,F.hu)(s===l-1,"All SENT items should be at beginning of queue."),s=l,t[l].status=3,t[l].abortReason="set"):((0,F.hu)(0===t[l].status,"Unexpected transaction status in abort"),t[l].unwatcher(),r=r.concat(p4(n.serverSyncTree_,t[l].currentWriteId,!0)),t[l].onComplete&&i.push(t[l].onComplete.bind(null,new Error("set"),!1,null))));-1===s?pV(e,void 0):t.length=s+1,ya(n.eventQueue_,pm(e),r);for(let l=0;l<i.length;l++)Hh(i[l])}}const MV=function(n,e){const t=nVe(n),i=t.namespace;return"firebase.com"===t.domain&&X1(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==t.domain&&X1("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Rs("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new EA(t.host,t.secure,i,"ws"===t.scheme||"wss"===t.scheme,e,"",i!==t.subdomain),path:new Nn(t.pathString)}},nVe=function(n){let e="",t="",i="",r="",s="",l=!0,f="https",p=443;if("string"==typeof n){let _=n.indexOf("//");_>=0&&(f=n.substring(0,_-1),n=n.substring(_+2));let x=n.indexOf("/");-1===x&&(x=n.length);let M=n.indexOf("?");-1===M&&(M=n.length),e=n.substring(0,Math.min(x,M)),x<M&&(r=function eVe(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}(n.substring(x,M)));const I=function tVe(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const i=t.split("=");2===i.length?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Rs(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,M)));_=e.indexOf(":"),_>=0?(l="https"===f||"wss"===f,p=parseInt(e.substring(_+1),10)):_=e.length;const H=e.slice(0,_);if("localhost"===H.toLowerCase())t="localhost";else if(H.split(".").length<=2)t=H;else{const P=e.indexOf(".");i=e.substring(0,P).toLowerCase(),t=e.substring(P+1),s=i}"ns"in I&&(s=I.ns)}return{host:e,port:p,domain:t,subdomain:i,secure:l,scheme:f,pathString:r,namespace:s}},_K="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",iVe=function(){let n=0;const e=[];return function(t){const i=t===n;let r;n=t;const s=new Array(8);for(r=7;r>=0;r--)s[r]=_K.charAt(t%64),t=Math.floor(t/64);(0,F.hu)(0===t,"Cannot push at time == 0");let l=s.join("");if(i){for(r=11;r>=0&&63===e[r];r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)l+=_K.charAt(e[r]);return(0,F.hu)(20===l.length,"nextPushId: Length should be 20."),l}}();class vK{constructor(e,t,i,r){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,F.Wl)(this.snapshot.exportVal())}}class yK{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class SV{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,F.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class xK{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new F.BH;return WAe(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){a2("OnDisconnect.remove",this._path);const e=new F.BH;return dK(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){a2("OnDisconnect.set",this._path),ec("OnDisconnect.set",e,this._path,!1);const t=new F.BH;return dK(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){a2("OnDisconnect.setWithPriority",this._path),ec("OnDisconnect.setWithPriority",e,this._path,!1),_V("OnDisconnect.setWithPriority",t,!1);const i=new F.BH;return function qAe(n,e,t,i,r){const s=Fi(t,i);n.server_.onDisconnectPut(e.toString(),s.val(!0),(l,f)=>{"ok"===l&&Oh(n.onDisconnect_,e,s),m4(0,r,l,f)})}(this._repo,this._path,e,t,i.wrapCallback(()=>{})),i.promise}update(e){a2("OnDisconnect.update",this._path),rK("OnDisconnect.update",e,this._path,!1);const t=new F.BH;return function YAe(n,e,t,i){if((0,F.xb)(t))return cs("onDisconnect().update() called with empty data.  Don't do anything."),void m4(0,i,"ok",void 0);n.server_.onDisconnectMerge(e.toString(),t,(r,s)=>{"ok"===r&&ls(t,(l,f)=>{const p=Fi(f);Oh(n.onDisconnect_,Di(e,l),p)}),m4(0,i,r,s)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class Lo{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return pn(this._path)?null:LA(this._path)}get ref(){return new c2(this._repo,this._path)}get _queryIdentifier(){const e=MZ(this._queryParams),t=MA(e);return"{}"===t?"default":t}get _queryObject(){return MZ(this._queryParams)}isEqual(e){if(!((e=(0,F.m9)(e))instanceof Lo))return!1;const t=this._repo===e._repo,i=kA(this._path,e._path);return t&&i&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function YTe(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}function Qb(n,e){if(!0===n._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function g4(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===J1){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==a4)throw new Error(i);if("string"!=typeof e)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==dl)throw new Error(i);if("string"!=typeof t)throw new Error(r)}}else if(n.getIndex()===ai){if(null!=e&&!mm(e)||null!=t&&!mm(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,F.hu)(n.getIndex()instanceof PA||n.getIndex()===OA,"unknown index type."),null!=e&&"object"==typeof e||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Xb(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class c2 extends Lo{constructor(e,t){super(e,t,new Db,!1)}get parent(){const e=dZ(this._path);return null===e?null:new c2(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class mf{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Nn(e),i=gf(this.ref,e);return new mf(this._node.getChild(t),i,ai)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>e(new mf(r,gf(this.ref,i),ai)))}hasChild(e){const t=new Nn(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function bK(n,e){return(n=(0,F.m9)(n))._checkNotDeleted("ref"),void 0!==e?gf(n._root,e):n._root}function CK(n,e){(n=(0,F.m9)(n))._checkNotDeleted("refFromURL");const t=MV(e,n._repo.repoInfo_.nodeAdmin);sK("refFromURL",t);const i=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&X1("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),bK(n,t.path.toString())}function gf(n,e){return null===hn((n=(0,F.m9)(n))._path)?(t=e,t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),vm("child","path",t,!1)):vm("child","path",e,!1),new c2(n._repo,Di(n._path,e));var t}function EV(n,e){n=(0,F.m9)(n),a2("set",n._path),ec("set",e,n._path,!1);const t=new F.BH;return yV(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function cVe(n,e){rK("update",e,n._path,!1);const t=new F.BH;return function $Ae(n,e,t,i){jh(n,"update",{path:e.toString(),value:t});let r=!0;const s=ym(n),l={};if(ls(t,(f,p)=>{r=!1,l[f]=eK(Di(e,f),Fi(p),n.serverSyncTree_,s)}),r)cs("update() called with empty data.  Don't do anything."),m4(0,i,"ok",void 0);else{const f=Yb(n),p=function gAe(n,e,t,i){!function kIe(n,e,t,i){(0,F.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:i,visible:!0}),n.visibleWrites=ZA(n.visibleWrites,e,t),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i);const r=ci.fromObject(t);return Uh(n,new Fh({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,e,l,f);qb(n.eventQueue_,p),n.server_.merge(e.toString(),t,(_,x)=>{const M="ok"===_;M||Rs("update at "+e+" failed: "+_);const I=p4(n.serverSyncTree_,f,!M),H=I.length>0?$h(n,e):e;ya(n.eventQueue_,H,I),m4(0,i,_,x)}),ls(t,_=>{const x=CV(n,Di(e,_));$h(n,x)}),ya(n.eventQueue_,e,[])}}(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}function lVe(n){n=(0,F.m9)(n);const e=new SV(()=>{}),t=new xm(e);return function jAe(n,e,t){const i=function bAe(n,e){const t=e._path;let i=null;n.syncPointTree_.foreachOnPath(t,(_,x)=>{const M=co(_,t);i=i||d4(x,M)});let r=n.syncPointTree_.get(t);r?i=i||d4(r,Ln()):(r=new jZ,n.syncPointTree_=n.syncPointTree_.set(t,r));const s=null!=i,l=s?new u4(i,!0,!1):null;return function rAe(n){return kb(n.viewCache_)}($Z(r,e,Hb(n.pendingWriteTree_,e._path),s?l.getNode():on.EMPTY_NODE,s))}(n.serverSyncTree_,e);return null!=i?Promise.resolve(i):n.server_.get(e).then(r=>{const s=Fi(r).withIndex(e._queryParams.getIndex());let l;if(sV(n.serverSyncTree_,e,t,!0),e._queryParams.loadsAllData())l=fm(n.serverSyncTree_,e._path,s);else{const f=dm(n.serverSyncTree_,e);l=ZZ(n.serverSyncTree_,e._path,s,f)}return ya(n.eventQueue_,e._path,l),Bb(n.serverSyncTree_,e,t,null,!0),s},r=>(jh(n,"get for query "+(0,F.Wl)(e)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,t).then(i=>new mf(i,new c2(n._repo,n._path),n._queryParams.getIndex()))}class xm{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const i=t._queryParams.getIndex();return new vK("value",this,new mf(e.snapshotNode,new c2(t._repo,t._path),i))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new yK(this,e,t):null}matches(e){return e instanceof xm&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Jb{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new yK(this,e,t):null}createEvent(e,t){(0,F.hu)(null!=e.childName,"Child events should have a childName.");const i=gf(new c2(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new vK(e.type,this,new mf(e.snapshotNode,i,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Jb&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function bm(n,e,t,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const p=t,_=(x,M)=>{xV(n._repo,n,f),p(x,M)};_.userCallback=t.userCallback,_.context=t.context,t=_}const l=new SV(t,s||void 0),f="value"===e?new xm(l):new Jb(e,l);return function ZAe(n,e,t){let i;i=".info"===hn(e._path)?sV(n.infoSyncTree_,e,t):sV(n.serverSyncTree_,e,t),oK(n.eventQueue_,e._path,i)}(n._repo,n,f),()=>xV(n._repo,n,f)}function DV(n,e,t,i){return bm(n,"value",e,t,i)}function wK(n,e,t,i){return bm(n,"child_added",e,t,i)}function MK(n,e,t,i){return bm(n,"child_changed",e,t,i)}function SK(n,e,t,i){return bm(n,"child_moved",e,t,i)}function EK(n,e,t,i){return bm(n,"child_removed",e,t,i)}function DK(n,e,t){let i=null;const r=t?new SV(t):null;"value"===e?i=new xm(r):e&&(i=new Jb(e,r)),xV(n._repo,n,i)}class q2{}class TK extends q2{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){ec("endAt",this._value,e._path,!0);const t=UA(e._queryParams,this._value,this._key);if(Xb(t),g4(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Lo(e._repo,e._path,t,e._orderByCalled)}}class fVe extends q2{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){ec("endBefore",this._value,e._path,!1);const t=function xIe(n,e,t){let i;return i=UA(n,e,n.index_===J1||t?t:a4),i.endBeforeSet_=!0,i}(e._queryParams,this._value,this._key);if(Xb(t),g4(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Lo(e._repo,e._path,t,e._orderByCalled)}}class IK extends q2{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){ec("startAt",this._value,e._path,!0);const t=BA(e._queryParams,this._value,this._key);if(Xb(t),g4(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Lo(e._repo,e._path,t,e._orderByCalled)}}class pVe extends q2{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){ec("startAfter",this._value,e._path,!1);const t=function yIe(n,e,t){let i;return i=BA(n,e,n.index_===J1||t?t:dl),i.startAfterSet_=!0,i}(e._queryParams,this._value,this._key);if(Xb(t),g4(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Lo(e._repo,e._path,t,e._orderByCalled)}}class gVe extends q2{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Lo(e._repo,e._path,function _Ie(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}(e._queryParams,this._limit),e._orderByCalled)}}class vVe extends q2{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Lo(e._repo,e._path,function vIe(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}(e._queryParams,this._limit),e._orderByCalled)}}class xVe extends q2{constructor(e){super(),this._path=e}_apply(e){Qb(e,"orderByChild");const t=new Nn(this._path);if(pn(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new PA(t),r=Tb(e._queryParams,i);return g4(r),new Lo(e._repo,e._path,r,!0)}}class CVe extends q2{_apply(e){Qb(e,"orderByKey");const t=Tb(e._queryParams,J1);return g4(t),new Lo(e._repo,e._path,t,!0)}}class MVe extends q2{_apply(e){Qb(e,"orderByPriority");const t=Tb(e._queryParams,ai);return g4(t),new Lo(e._repo,e._path,t,!0)}}class EVe extends q2{_apply(e){Qb(e,"orderByValue");const t=Tb(e._queryParams,OA);return g4(t),new Lo(e._repo,e._path,t,!0)}}class TVe extends q2{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(ec("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new TK(this._value,this._key)._apply(new IK(this._value,this._key)._apply(e))}}function Y2(n,...e){let t=(0,F.m9)(n);for(const i of e)t=i._apply(t);return t}(function cAe(n){(0,F.hu)(!Pb,"__referenceConstructor has already been defined"),Pb=n})(c2),function hAe(n){(0,F.hu)(!Fb,"__referenceConstructor has already been defined"),Fb=n}(c2);const TV={};function VK(n,e,t,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||X1("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),cs("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let p,_,l=MV(s,r),f=l.repoInfo;typeof process<"u"&&process.env&&(_=process.env.FIREBASE_DATABASE_EMULATOR_HOST),_?(p=!0,s=`http://${_}?ns=${f.namespace}`,l=MV(s,r),f=l.repoInfo):p=!l.repoInfo.secure;const x=r&&p?new J7(J7.OWNER):new wTe(n.name,n.options,e);sK("Invalid Firebase Database URL",l),pn(l.path)||X1("Database URL must point to the root of a Firebase Database (not including a child path).");const M=function kVe(n,e,t,i){let r=TV[e.name];r||(r={},TV[e.name]=r);let s=r[n.toURLString()];return s&&X1("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new FAe(n,false,t,i),r[n.toURLString()]=s,s}(f,n,x,new CTe(n.name,t));return new zVe(M,n)}class zVe{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function BAe(n,e,t){if(n.stats_=IA(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new Ib(n.repoInfo_,(i,r,s,l)=>{uK(n,i,r,s,l)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>fK(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,F.Wl)(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new uf(n.repoInfo_,e,(i,r,s,l)=>{uK(n,i,r,s,l)},i=>{fK(n,i)},i=>{!function UAe(n,e){ls(e,(t,i)=>{vV(n,t,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function ETe(n,e){const t=n.toString();return TA[t]||(TA[t]=e()),TA[t]}(n.repoInfo_,()=>new EIe(n.stats_,n.server_)),n.infoData_=new bIe,n.infoSyncTree_=new YZ({startListening:(i,r,s,l)=>{let f=[];const p=n.infoData_.getNode(i._path);return p.isEmpty()||(f=fm(n.infoSyncTree_,i._path,p),setTimeout(()=>{l("ok")},0)),f},stopListening:()=>{}}),vV(n,"connected",!1),n.serverSyncTree_=new YZ({startListening:(i,r,s,l)=>(n.server_.listen(i,s,r,(f,p)=>{const _=l(f,p);ya(n.eventQueue_,i._path,_)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new c2(this._repo,Ln())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function LVe(n,e){const t=TV[e];(!t||t[n.key]!==n)&&X1(`Database ${e}(${n.repoInfo_}) has already been deleted.`),hK(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&X1("Cannot call "+e+" on a deleted database.")}}function LK(){eZ.IS_TRANSPORT_INITIALIZED&&Rs("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function NVe(){LK(),c4.forceDisallow()}function RVe(){LK(),zh.forceDisallow(),c4.forceAllow()}function FVe(n,e){HY(n,e)}const UVe={".sv":"timestamp"};class GVe{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}uf.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},uf.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function BVe(n){IY(Si.SDK_VERSION),(0,Si._registerComponent)(new Wa.wA("database",(e,{instanceIdentifier:t})=>VK(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,Si.registerVersion)(DY,"0.14.0",n),(0,Si.registerVersion)(DY,"0.14.0","esm2017")}();const ZVe=new Ja.Yd("@firebase/database-compat"),HK=function(n){ZVe.warn("FIREBASE WARNING: "+n)};class XVe{constructor(e){this._delegate=e}cancel(e){(0,F.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,F.Wj)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),i=>e(i)),t}remove(e){(0,F.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,F.Wj)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),i=>e(i)),t}set(e,t){(0,F.Dv)("OnDisconnect.set",1,2,arguments.length),(0,F.Wj)("OnDisconnect.set","onComplete",t,!0);const i=this._delegate.set(e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,F.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,F.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(e,t);return i&&r.then(()=>i(null),s=>i(s)),r}update(e,t){if((0,F.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let s=0;s<e.length;++s)r[""+s]=e[s];e=r,HK("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,F.Wj)("OnDisconnect.update","onComplete",t,!0);const i=this._delegate.update(e);return t&&i.then(()=>t(null),r=>t(r)),i}}class JVe{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,F.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class _4{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,F.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,F.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,F.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,F.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,F.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),vm("DataSnapshot.child","path",e,!1),new _4(this._database,this._delegate.child(e))}hasChild(e){return(0,F.Dv)("DataSnapshot.hasChild",1,1,arguments.length),vm("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,F.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,F.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,F.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new _4(this._database,t)))}hasChildren(){return(0,F.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,F.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,F.Dv)("DataSnapshot.ref",0,0,arguments.length),new xa(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class ws{constructor(e,t){this.database=e,this._delegate=t}on(e,t,i,r){var s;(0,F.Dv)("Query.on",2,4,arguments.length),(0,F.Wj)("Query.on","callback",t,!1);const l=ws.getCancelAndContextArgs_("Query.on",i,r),f=(_,x)=>{t.call(l.context,new _4(this.database,_),x)};f.userCallback=t,f.context=l.context;const p=null===(s=l.cancel)||void 0===s?void 0:s.bind(l.context);switch(e){case"value":return DV(this._delegate,f,p),t;case"child_added":return wK(this._delegate,f,p),t;case"child_removed":return EK(this._delegate,f,p),t;case"child_changed":return MK(this._delegate,f,p),t;case"child_moved":return SK(this._delegate,f,p),t;default:throw new Error((0,F.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,i){if((0,F.Dv)("Query.off",0,3,arguments.length),function(n,e,t){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,F.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,F.Wj)("Query.off","callback",t,!0),(0,F.lb)("Query.off","context",i,!0),t){const r=()=>{};r.userCallback=t,r.context=i,DK(this._delegate,e,r)}else DK(this._delegate,e)}get(){return lVe(this._delegate).then(e=>new _4(this.database,e))}once(e,t,i,r){(0,F.Dv)("Query.once",1,4,arguments.length),(0,F.Wj)("Query.once","callback",t,!0);const s=ws.getCancelAndContextArgs_("Query.once",i,r),l=new F.BH,f=(_,x)=>{const M=new _4(this.database,_);t&&t.call(s.context,M,x),l.resolve(M)};f.userCallback=t,f.context=s.context;const p=_=>{s.cancel&&s.cancel.call(s.context,_),l.reject(_)};switch(e){case"value":DV(this._delegate,f,p,{onlyOnce:!0});break;case"child_added":wK(this._delegate,f,p,{onlyOnce:!0});break;case"child_removed":EK(this._delegate,f,p,{onlyOnce:!0});break;case"child_changed":MK(this._delegate,f,p,{onlyOnce:!0});break;case"child_moved":SK(this._delegate,f,p,{onlyOnce:!0});break;default:throw new Error((0,F.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return l.promise}limitToFirst(e){return(0,F.Dv)("Query.limitToFirst",1,1,arguments.length),new ws(this.database,Y2(this._delegate,function _Ve(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new gVe(n)}(e)))}limitToLast(e){return(0,F.Dv)("Query.limitToLast",1,1,arguments.length),new ws(this.database,Y2(this._delegate,function yVe(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new vVe(n)}(e)))}orderByChild(e){return(0,F.Dv)("Query.orderByChild",1,1,arguments.length),new ws(this.database,Y2(this._delegate,function bVe(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return vm("orderByChild","path",n,!1),new xVe(n)}(e)))}orderByKey(){return(0,F.Dv)("Query.orderByKey",0,0,arguments.length),new ws(this.database,Y2(this._delegate,function wVe(){return new CVe}()))}orderByPriority(){return(0,F.Dv)("Query.orderByPriority",0,0,arguments.length),new ws(this.database,Y2(this._delegate,function SVe(){return new MVe}()))}orderByValue(){return(0,F.Dv)("Query.orderByValue",0,0,arguments.length),new ws(this.database,Y2(this._delegate,function DVe(){return new EVe}()))}startAt(e=null,t){return(0,F.Dv)("Query.startAt",0,2,arguments.length),new ws(this.database,Y2(this._delegate,function hVe(n=null,e){return _m("startAt","key",e,!0),new IK(n,e)}(e,t)))}startAfter(e=null,t){return(0,F.Dv)("Query.startAfter",0,2,arguments.length),new ws(this.database,Y2(this._delegate,function mVe(n,e){return _m("startAfter","key",e,!0),new pVe(n,e)}(e,t)))}endAt(e=null,t){return(0,F.Dv)("Query.endAt",0,2,arguments.length),new ws(this.database,Y2(this._delegate,function uVe(n,e){return _m("endAt","key",e,!0),new TK(n,e)}(e,t)))}endBefore(e=null,t){return(0,F.Dv)("Query.endBefore",0,2,arguments.length),new ws(this.database,Y2(this._delegate,function dVe(n,e){return _m("endBefore","key",e,!0),new fVe(n,e)}(e,t)))}equalTo(e,t){return(0,F.Dv)("Query.equalTo",1,2,arguments.length),new ws(this.database,Y2(this._delegate,function IVe(n,e){return _m("equalTo","key",e,!0),new TVe(n,e)}(e,t)))}toString(){return(0,F.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,F.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,F.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof ws))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,i){const r={cancel:void 0,context:void 0};if(t&&i)r.cancel=t,(0,F.Wj)(e,"cancel",r.cancel,!0),r.context=i,(0,F.lb)(e,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error((0,F.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}get ref(){return new xa(this.database,new c2(this._delegate._repo,this._delegate._path))}}class xa extends ws{constructor(e,t){super(e,new Lo(t._repo,t._path,new Db,!1)),this.database=e,this._delegate=t}getKey(){return(0,F.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,F.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new xa(this.database,gf(this._delegate,e))}getParent(){(0,F.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new xa(this.database,e):null}getRoot(){return(0,F.Dv)("Reference.root",0,0,arguments.length),new xa(this.database,this._delegate.root)}set(e,t){(0,F.Dv)("Reference.set",1,2,arguments.length),(0,F.Wj)("Reference.set","onComplete",t,!0);const i=EV(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}update(e,t){if((0,F.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let s=0;s<e.length;++s)r[""+s]=e[s];e=r,HK("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}a2("Reference.update",this._delegate._path),(0,F.Wj)("Reference.update","onComplete",t,!0);const i=cVe(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,F.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,F.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function aVe(n,e,t){if(a2("setWithPriority",n._path),ec("setWithPriority",e,n._path,!1),_V("setWithPriority",t,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new F.BH;return yV(n._repo,n._path,e,t,i.wrapCallback(()=>{})),i.promise}(this._delegate,e,t);return i&&r.then(()=>i(null),s=>i(s)),r}remove(e){(0,F.Dv)("Reference.remove",0,1,arguments.length),(0,F.Wj)("Reference.remove","onComplete",e,!0);const t=function sVe(n){return a2("remove",n._path),EV(n,null)}(this._delegate);return e&&t.then(()=>e(null),i=>e(i)),t}transaction(e,t,i){(0,F.Dv)("Reference.transaction",1,3,arguments.length),(0,F.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,F.Wj)("Reference.transaction","onComplete",t,!0),function(n,e,t,i){if(void 0!==t&&"boolean"!=typeof t)throw new Error((0,F.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function WVe(n,e,t){var i;if(n=(0,F.m9)(n),a2("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=t?.applyLocally)||void 0===i||i,s=new F.BH,f=DV(n,()=>{});return function QAe(n,e,t,i,r,s){jh(n,"transaction on "+e);const l={path:e,update:t,onComplete:i,status:null,order:VY(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},f=bV(n,e,void 0);l.currentInputSnapshot=f;const p=l.update(f.val());if(void 0===p)l.unwatcher(),l.currentOutputSnapshotRaw=null,l.currentOutputSnapshotResolved=null,l.onComplete&&l.onComplete(null,!1,l.currentInputSnapshot);else{gm("transaction failed: Data returned ",p,l.path),l.status=0;const _=$b(n.transactionQueueTree_,e),x=pf(_)||[];let M;x.push(l),pV(_,x),"object"==typeof p&&null!==p&&(0,F.r3)(p,".priority")?(M=(0,F.DV)(p,".priority"),(0,F.hu)(mm(M),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):M=(Ub(n.serverSyncTree_,e)||on.EMPTY_NODE).getPriority().val();const I=ym(n),H=Fi(p,M),P=fV(H,f,I);l.currentOutputSnapshotRaw=H,l.currentOutputSnapshotResolved=P,l.currentWriteId=Yb(n);const q=rV(n.serverSyncTree_,e,P,l.currentWriteId,l.applyLocally);ya(n.eventQueue_,e,q),Zb(n,n.transactionQueueTree_)}}(n._repo,n._path,e,(p,_,x)=>{let M=null;p?s.reject(p):(M=new mf(x,new c2(n._repo,n._path),ai),s.resolve(new GVe(_,M)))},f,r),s.promise}(this._delegate,e,{applyLocally:i}).then(s=>new JVe(s.committed,new _4(this.database,s.snapshot)));return t&&r.then(s=>t(null,s.committed,s.snapshot),s=>t(s,!1,null)),r}setPriority(e,t){(0,F.Dv)("Reference.setPriority",1,2,arguments.length),(0,F.Wj)("Reference.setPriority","onComplete",t,!0);const i=function oVe(n,e){n=(0,F.m9)(n),a2("setPriority",n._path),_V("setPriority",e,!1);const t=new F.BH;return yV(n._repo,Di(n._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}push(e,t){(0,F.Dv)("Reference.push",0,2,arguments.length),(0,F.Wj)("Reference.push","onComplete",t,!0);const i=function rVe(n,e){n=(0,F.m9)(n),a2("push",n._path),ec("push",e,n._path,!0);const t=lK(n._repo),i=iVe(t),r=gf(n,i),s=gf(n,i);let l;return l=null!=e?EV(s,e).then(()=>s):Promise.resolve(s),r.then=l.then.bind(l),r.catch=l.then.bind(l,void 0),r}(this._delegate,e),r=i.then(l=>new xa(this.database,l));t&&r.then(()=>t(null),l=>t(l));const s=new xa(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return a2("Reference.onDisconnect",this._delegate._path),new XVe(new xK(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Cm{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:NVe,forceLongPolling:RVe}}useEmulator(e,t,i={}){!function kK(n,e,t,i={}){(n=(0,F.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&X1("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&X1('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new J7(J7.OWNER);else if(i.mockUserToken){const l="string"==typeof i.mockUserToken?i.mockUserToken:(0,F.Sg)(i.mockUserToken,n.app.options.projectId);s=new J7(l)}!function VVe(n,e,t,i){n.repoInfo_=new EA(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(r,e,t,s)}(this._delegate,e,t,i)}ref(e){if((0,F.Dv)("database.ref",0,1,arguments.length),e instanceof xa){const t=CK(this._delegate,e.toString());return new xa(this,t)}{const t=bK(this._delegate,e);return new xa(this,t)}}refFromURL(e){(0,F.Dv)("database.refFromURL",1,1,arguments.length);const i=CK(this._delegate,e);return new xa(this,i)}goOffline(){return(0,F.Dv)("database.goOffline",0,0,arguments.length),function PVe(n){(n=(0,F.m9)(n))._checkNotDeleted("goOffline"),hK(n._repo)}(this._delegate)}goOnline(){return(0,F.Dv)("database.goOnline",0,0,arguments.length),function OVe(n){(n=(0,F.m9)(n))._checkNotDeleted("goOnline"),function KAe(n){n.persistentConnection_&&n.persistentConnection_.resume(cK)}(n._repo)}(this._delegate)}}Cm.ServerValue={TIMESTAMP:function jVe(){return UVe}(),increment:n=>function $Ve(n){return{".sv":{increment:n}}}(n)};var tLe=Object.freeze({__proto__:null,initStandalone:function eLe({app:n,url:e,version:t,customAuthImpl:i,namespace:r,nodeAdmin:s=!1}){IY(t);const l=new Wa.zt("auth-internal",new Wa.H0("database-standalone"));return l.setComponent(new Wa.wA("auth-internal",()=>i,"PRIVATE")),{instance:new Cm(VK(n,l,void 0,e,s),n),namespace:r}}});const nLe=Cm.ServerValue;function zK(n){return null==n}function NK(n){return"function"==typeof n.set}function RK(n,e){return NK(e)?e:n.ref(e)}function PK(n,e){if(function rLe(n){return"string"==typeof n}(n))return e.stringCase();if(NK(n))return e.firebaseCase();if(function sLe(n){return"function"==typeof n.exportVal}(n))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function wm(n,e,t="on",i=Py.z){return new hi.y(r=>{let s=null;return s=n[t](e,(l,f)=>{i.schedule(()=>{r.next({snapshot:l,prevKey:f})}),"once"===t&&i.schedule(()=>r.complete())},l=>{i.schedule(()=>r.error(l))}),"on"===t?{unsubscribe(){null!=s&&n.off(e,s)}}:{unsubscribe(){}}}).pipe((0,ut.U)(r=>{const{snapshot:s,prevKey:l}=r;let f=null;return s.exists()&&(f=s.key),{type:e,payload:s,prevKey:l,key:f}}),(0,qD.B)())}function OK(n,e){const t=n.length;for(let i=0;i<t;i++)if(n[i].payload.key===e)return i;return-1}function cLe(n,e){const{payload:t,prevKey:i,key:r}=e,s=OK(n,r),l=function aLe(n,e){if(zK(e))return 0;{const t=OK(n,e);return-1===t?n.length:t+1}}(n,i);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let f=null;e.payload.forEach(p=>{const _={payload:p,type:"value",prevKey:f,key:p.key};return f=p.key,n=[...n,_],!1})}return n;case"child_added":if(s>-1){const f=n[s-1];(f&&f.key||null)!==i&&(n=n.filter(p=>p.payload.key!==t.key)).splice(l,0,e)}else{if(null==i)return[e,...n];(n=n.slice()).splice(l,0,e)}return n;case"child_removed":return n.filter(f=>f.payload.key!==t.key);case"child_changed":return n.map(f=>f.payload.key===r?e:f);case"child_moved":if(s>-1){const f=n.splice(s,1)[0];return(n=n.slice()).splice(l,0,f),n}return n;default:return n}}function FK(n){return(zK(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function BK(n,e,t){return function oLe(n,e,t){return wm(n,"value","once",t).pipe(Xn(i=>{const r=[Qe(i)];return e.forEach(s=>r.push(wm(n,s,"on",t))),(0,il.T)(...r).pipe(F4(cLe,[]))}),_R())}(n,e=FK(e),t)}function UK(n,e,t){const i=(e=FK(e)).map(r=>wm(n,r,"on",t));return(0,il.T)(...i)}function jK(n,e){return function(i,r){return PK(i,{stringCase:()=>n.child(i)[e](r),firebaseCase:()=>i[e](r),snapshotCase:()=>i.ref[e](r)})}}function dLe(n){return function(t){return t?PK(t,{stringCase:()=>n.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):n.remove()}}function $K(n,e){return function(){return wm(n,"value","on",e)}}!function iLe(n){n.INTERNAL.registerComponent(new Wa.wA("database-compat",(e,{instanceIdentifier:t})=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("database").getImmediate({identifier:t});return new Cm(r,i)},"PUBLIC").setServiceProps({Reference:xa,Query:ws,Database:Cm,DataSnapshot:_4,enableLogging:FVe,INTERNAL:tLe,ServerValue:nLe}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.0")}(lTe.Z);const mLe=new a.OlP("angularfire2.realtimeDatabaseURL"),gLe=new a.OlP("angularfire2.database.use-emulator");let _Le=(()=>{class n{constructor(t,i,r,s,l,f,p,_,x,M,I,H,P,q,se){this.schedulers=f;const De=p,Fe=(0,j2.on)(t,l,i);_&&dR(Fe,l,x,I,H,P,M,q),this.database=(0,j2.cc)(`${Fe.name}.database.${r}`,"AngularFireDatabase",Fe.name,()=>{const Ge=l.runOutsideAngular(()=>Fe.database(r||void 0));return De&&Ge.useEmulator(...De),Ge},[De])}list(t,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>RK(this.database,t));let s=r;return i&&(s=i(r)),function hLe(n,e){const t=e.schedulers.outsideAngular,i=e.schedulers.ngZone.run(()=>n.ref);return{query:n,update:jK(i,"update"),set:jK(i,"set"),push:r=>i.push(r),remove:dLe(i),snapshotChanges:r=>BK(n,r,t).pipe(sn.iC),stateChanges:r=>UK(n,r,t).pipe(sn.iC),auditTrail:r=>function lLe(n,e,t){return function fLe(n,e,t){return function uLe(n,e){return wm(n,"value","on",e).pipe((0,ut.U)(t=>{let i;return t.payload.forEach(r=>(i=r.key,!1)),{data:t,lastKeyToLoad:i}}))}(n,t).pipe(function aTe(...n){const e=(0,xo.jO)(n);return(0,vn.e)((t,i)=>{const r=n.length,s=new Array(r);let l=n.map(()=>!1),f=!1;for(let p=0;p<r;p++)(0,Ut.Xf)(n[p]).subscribe((0,V.x)(i,_=>{s[p]=_,!f&&!l[p]&&(l[p]=!0,(f=l.every(Qs.y))&&(l=null))},vR.Z));t.subscribe((0,V.x)(i,p=>{if(f){const _=[p,...s];i.next(e?e(..._):_)}}))})}(e),(0,ut.U)(([r,s])=>{const l=r.lastKeyToLoad,f=s.map(p=>p.key);return{actions:s,lastKeyToLoad:l,loadedKeys:f}}),function cTe(n){return(0,vn.e)((e,t)=>{let i=!1,r=0;e.subscribe((0,V.x)(t,s=>(i||(i=!n(s,r++)))&&t.next(s)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,ut.U)(r=>r.actions))}(n,UK(n,e).pipe(F4((r,s)=>[...r,s],[])),t)}(n,r,t).pipe(sn.iC),valueChanges:(r,s)=>BK(n,r,t).pipe((0,ut.U)(f=>f.map(p=>s&&s.idField?Object.assign(Object.assign({},p.payload.val()),{[s.idField]:p.key}):p.payload.val())),sn.iC)}}(s,this)}object(t){return function pLe(n,e){return{query:n,snapshotChanges:()=>$K(n,e.schedulers.outsideAngular)().pipe(sn.iC),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>$K(n,e.schedulers.outsideAngular)().pipe(sn.iC,(0,ut.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>RK(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(j2.Dh),a.LFG(j2.xv,8),a.LFG(mLe,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(sn.HU),a.LFG(gLe,8),a.LFG(Iy,8),a.LFG(oR,8),a.LFG(aR,8),a.LFG(cR,8),a.LFG(lR,8),a.LFG(uR,8),a.LFG(fR,8),a.LFG(o6,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),vLe=(()=>{class n{constructor(){sR.Z.registerVersion("angularfire",sn.q4.full,"rtdb-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[_Le]}),n})();class eC{static#e=this.\u0275fac=function(t){return new(t||eC)};static#t=this.\u0275mod=a.oAB({type:eC,bootstrap:[nb]});static#n=this.\u0275inj=a.cJS({imports:[Vl,Hx,Lse,_3,Qre,iie,mT,v3,oTe,sre,Gse,aoe,QSe,dg(()=>Vd(EY_firebaseConfig)),ote(()=>ute()),pte,j2.hO.initializeApp(EY_firebaseConfig),vLe]})}Al().bootstrapModule(eC).catch(n=>console.error(n))},9751:(vt,Ee,O)=>{O.d(Ee,{y:()=>me});var a=O(930),$=O(727),N=O(8822),le=O(9635),de=O(2416),ye=O(576),ce=O(2806);let me=(()=>{class ne{constructor(Ae){Ae&&(this._subscribe=Ae)}lift(Ae){const Je=new ne;return Je.source=this,Je.operator=Ae,Je}subscribe(Ae,Je,at){const xe=function Y(ne){return ne&&ne instanceof a.Lv||function Q(ne){return ne&&(0,ye.m)(ne.next)&&(0,ye.m)(ne.error)&&(0,ye.m)(ne.complete)}(ne)&&(0,$.Nn)(ne)}(Ae)?Ae:new a.Hp(Ae,Je,at);return(0,ce.x)(()=>{const{operator:Te,source:Se}=this;xe.add(Te?Te.call(xe,Se):Se?this._subscribe(xe):this._trySubscribe(xe))}),xe}_trySubscribe(Ae){try{return this._subscribe(Ae)}catch(Je){Ae.error(Je)}}forEach(Ae,Je){return new(Je=be(Je))((at,xe)=>{const Te=new a.Hp({next:Se=>{try{Ae(Se)}catch(Pe){xe(Pe),Te.unsubscribe()}},error:xe,complete:at});this.subscribe(Te)})}_subscribe(Ae){var Je;return null===(Je=this.source)||void 0===Je?void 0:Je.subscribe(Ae)}[N.L](){return this}pipe(...Ae){return(0,le.U)(Ae)(this)}toPromise(Ae){return new(Ae=be(Ae))((Je,at)=>{let xe;this.subscribe(Te=>xe=Te,Te=>at(Te),()=>Je(xe))})}}return ne.create=$e=>new ne($e),ne})();function be(ne){var $e;return null!==($e=ne??de.v.Promise)&&void 0!==$e?$e:Promise}},7579:(vt,Ee,O)=>{O.d(Ee,{x:()=>ce});var a=O(9751),$=O(727);const le=(0,O(3888).d)(be=>function(){be(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var de=O(8737),ye=O(2806);let ce=(()=>{class be extends a.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Y){const ne=new me(this,this);return ne.operator=Y,ne}_throwIfClosed(){if(this.closed)throw new le}next(Y){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ne of this.currentObservers)ne.next(Y)}})}error(Y){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Y;const{observers:ne}=this;for(;ne.length;)ne.shift().error(Y)}})}complete(){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Y}=this;for(;Y.length;)Y.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Y;return(null===(Y=this.observers)||void 0===Y?void 0:Y.length)>0}_trySubscribe(Y){return this._throwIfClosed(),super._trySubscribe(Y)}_subscribe(Y){return this._throwIfClosed(),this._checkFinalizedStatuses(Y),this._innerSubscribe(Y)}_innerSubscribe(Y){const{hasError:ne,isStopped:$e,observers:Ae}=this;return ne||$e?$.Lc:(this.currentObservers=null,Ae.push(Y),new $.w0(()=>{this.currentObservers=null,(0,de.P)(Ae,Y)}))}_checkFinalizedStatuses(Y){const{hasError:ne,thrownError:$e,isStopped:Ae}=this;ne?Y.error($e):Ae&&Y.complete()}asObservable(){const Y=new a.y;return Y.source=this,Y}}return be.create=(Q,Y)=>new me(Q,Y),be})();class me extends ce{constructor(Q,Y){super(),this.destination=Q,this.source=Y}next(Q){var Y,ne;null===(ne=null===(Y=this.destination)||void 0===Y?void 0:Y.next)||void 0===ne||ne.call(Y,Q)}error(Q){var Y,ne;null===(ne=null===(Y=this.destination)||void 0===Y?void 0:Y.error)||void 0===ne||ne.call(Y,Q)}complete(){var Q,Y;null===(Y=null===(Q=this.destination)||void 0===Q?void 0:Q.complete)||void 0===Y||Y.call(Q)}_subscribe(Q){var Y,ne;return null!==(ne=null===(Y=this.source)||void 0===Y?void 0:Y.subscribe(Q))&&void 0!==ne?ne:$.Lc}}},930:(vt,Ee,O)=>{O.d(Ee,{Hp:()=>at,Lv:()=>ne});var a=O(576),$=O(727),N=O(2416),le=O(7849),de=O(5032);const ye=be("C",void 0,void 0);function be(ze,Ne,Ve){return{kind:ze,value:Ne,error:Ve}}var Q=O(3410),Y=O(2806);class ne extends $.w0{constructor(Ne){super(),this.isStopped=!1,Ne?(this.destination=Ne,(0,$.Nn)(Ne)&&Ne.add(this)):this.destination=Pe}static create(Ne,Ve,Ye){return new at(Ne,Ve,Ye)}next(Ne){this.isStopped?Se(function me(ze){return be("N",ze,void 0)}(Ne),this):this._next(Ne)}error(Ne){this.isStopped?Se(function ce(ze){return be("E",void 0,ze)}(Ne),this):(this.isStopped=!0,this._error(Ne))}complete(){this.isStopped?Se(ye,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ne){this.destination.next(Ne)}_error(Ne){try{this.destination.error(Ne)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const $e=Function.prototype.bind;function Ae(ze,Ne){return $e.call(ze,Ne)}class Je{constructor(Ne){this.partialObserver=Ne}next(Ne){const{partialObserver:Ve}=this;if(Ve.next)try{Ve.next(Ne)}catch(Ye){xe(Ye)}}error(Ne){const{partialObserver:Ve}=this;if(Ve.error)try{Ve.error(Ne)}catch(Ye){xe(Ye)}else xe(Ne)}complete(){const{partialObserver:Ne}=this;if(Ne.complete)try{Ne.complete()}catch(Ve){xe(Ve)}}}class at extends ne{constructor(Ne,Ve,Ye){let re;if(super(),(0,a.m)(Ne)||!Ne)re={next:Ne??void 0,error:Ve??void 0,complete:Ye??void 0};else{let pe;this&&N.v.useDeprecatedNextContext?(pe=Object.create(Ne),pe.unsubscribe=()=>this.unsubscribe(),re={next:Ne.next&&Ae(Ne.next,pe),error:Ne.error&&Ae(Ne.error,pe),complete:Ne.complete&&Ae(Ne.complete,pe)}):re=Ne}this.destination=new Je(re)}}function xe(ze){N.v.useDeprecatedSynchronousErrorHandling?(0,Y.O)(ze):(0,le.h)(ze)}function Se(ze,Ne){const{onStoppedNotification:Ve}=N.v;Ve&&Q.z.setTimeout(()=>Ve(ze,Ne))}const Pe={closed:!0,next:de.Z,error:function Te(ze){throw ze},complete:de.Z}},727:(vt,Ee,O)=>{O.d(Ee,{Lc:()=>ye,w0:()=>de,Nn:()=>ce});var a=O(576);const N=(0,O(3888).d)(be=>function(Y){be(this),this.message=Y?`${Y.length} errors occurred during unsubscription:\n${Y.map((ne,$e)=>`${$e+1}) ${ne.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Y});var le=O(8737);class de{constructor(Q){this.initialTeardown=Q,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Q;if(!this.closed){this.closed=!0;const{_parentage:Y}=this;if(Y)if(this._parentage=null,Array.isArray(Y))for(const Ae of Y)Ae.remove(this);else Y.remove(this);const{initialTeardown:ne}=this;if((0,a.m)(ne))try{ne()}catch(Ae){Q=Ae instanceof N?Ae.errors:[Ae]}const{_finalizers:$e}=this;if($e){this._finalizers=null;for(const Ae of $e)try{me(Ae)}catch(Je){Q=Q??[],Je instanceof N?Q=[...Q,...Je.errors]:Q.push(Je)}}if(Q)throw new N(Q)}}add(Q){var Y;if(Q&&Q!==this)if(this.closed)me(Q);else{if(Q instanceof de){if(Q.closed||Q._hasParent(this))return;Q._addParent(this)}(this._finalizers=null!==(Y=this._finalizers)&&void 0!==Y?Y:[]).push(Q)}}_hasParent(Q){const{_parentage:Y}=this;return Y===Q||Array.isArray(Y)&&Y.includes(Q)}_addParent(Q){const{_parentage:Y}=this;this._parentage=Array.isArray(Y)?(Y.push(Q),Y):Y?[Y,Q]:Q}_removeParent(Q){const{_parentage:Y}=this;Y===Q?this._parentage=null:Array.isArray(Y)&&(0,le.P)(Y,Q)}remove(Q){const{_finalizers:Y}=this;Y&&(0,le.P)(Y,Q),Q instanceof de&&Q._removeParent(this)}}de.EMPTY=(()=>{const be=new de;return be.closed=!0,be})();const ye=de.EMPTY;function ce(be){return be instanceof de||be&&"closed"in be&&(0,a.m)(be.remove)&&(0,a.m)(be.add)&&(0,a.m)(be.unsubscribe)}function me(be){(0,a.m)(be)?be():be.unsubscribe()}},2416:(vt,Ee,O)=>{O.d(Ee,{v:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(vt,Ee,O)=>{O.d(Ee,{E:()=>$});const $=new(O(9751).y)(de=>de.complete())},8996:(vt,Ee,O)=>{O.d(Ee,{D:()=>Ne});var a=O(8421),$=O(5363),N=O(9468),ye=O(9751),me=O(2202),be=O(576),Q=O(9672);function ne(Ve,Ye){if(!Ve)throw new Error("Iterable cannot be null");return new ye.y(re=>{(0,Q.f)(re,Ye,()=>{const pe=Ve[Symbol.asyncIterator]();(0,Q.f)(re,Ye,()=>{pe.next().then(we=>{we.done?re.complete():re.next(we.value)})},0,!0)})})}var $e=O(3670),Ae=O(8239),Je=O(1144),at=O(6495),xe=O(2206),Te=O(4532),Se=O(3260);function Ne(Ve,Ye){return Ye?function ze(Ve,Ye){if(null!=Ve){if((0,$e.c)(Ve))return function le(Ve,Ye){return(0,a.Xf)(Ve).pipe((0,N.R)(Ye),(0,$.Q)(Ye))}(Ve,Ye);if((0,Je.z)(Ve))return function ce(Ve,Ye){return new ye.y(re=>{let pe=0;return Ye.schedule(function(){pe===Ve.length?re.complete():(re.next(Ve[pe++]),re.closed||this.schedule())})})}(Ve,Ye);if((0,Ae.t)(Ve))return function de(Ve,Ye){return(0,a.Xf)(Ve).pipe((0,N.R)(Ye),(0,$.Q)(Ye))}(Ve,Ye);if((0,xe.D)(Ve))return ne(Ve,Ye);if((0,at.T)(Ve))return function Y(Ve,Ye){return new ye.y(re=>{let pe;return(0,Q.f)(re,Ye,()=>{pe=Ve[me.h](),(0,Q.f)(re,Ye,()=>{let we,te;try{({value:we,done:te}=pe.next())}catch(ee){return void re.error(ee)}te?re.complete():re.next(we)},0,!0)}),()=>(0,be.m)(pe?.return)&&pe.return()})}(Ve,Ye);if((0,Se.L)(Ve))return function Pe(Ve,Ye){return ne((0,Se.Q)(Ve),Ye)}(Ve,Ye)}throw(0,Te.z)(Ve)}(Ve,Ye):(0,a.Xf)(Ve)}},8421:(vt,Ee,O)=>{O.d(Ee,{Xf:()=>$e});var a=O(655),$=O(1144),N=O(8239),le=O(9751),de=O(3670),ye=O(2206),ce=O(4532),me=O(6495),be=O(3260),Q=O(576),Y=O(7849),ne=O(8822);function $e(ze){if(ze instanceof le.y)return ze;if(null!=ze){if((0,de.c)(ze))return function Ae(ze){return new le.y(Ne=>{const Ve=ze[ne.L]();if((0,Q.m)(Ve.subscribe))return Ve.subscribe(Ne);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ze);if((0,$.z)(ze))return function Je(ze){return new le.y(Ne=>{for(let Ve=0;Ve<ze.length&&!Ne.closed;Ve++)Ne.next(ze[Ve]);Ne.complete()})}(ze);if((0,N.t)(ze))return function at(ze){return new le.y(Ne=>{ze.then(Ve=>{Ne.closed||(Ne.next(Ve),Ne.complete())},Ve=>Ne.error(Ve)).then(null,Y.h)})}(ze);if((0,ye.D)(ze))return Te(ze);if((0,me.T)(ze))return function xe(ze){return new le.y(Ne=>{for(const Ve of ze)if(Ne.next(Ve),Ne.closed)return;Ne.complete()})}(ze);if((0,be.L)(ze))return function Se(ze){return Te((0,be.Q)(ze))}(ze)}throw(0,ce.z)(ze)}function Te(ze){return new le.y(Ne=>{(function Pe(ze,Ne){var Ve,Ye,re,pe;return(0,a.mG)(this,void 0,void 0,function*(){try{for(Ve=(0,a.KL)(ze);!(Ye=yield Ve.next()).done;)if(Ne.next(Ye.value),Ne.closed)return}catch(we){re={error:we}}finally{try{Ye&&!Ye.done&&(pe=Ve.return)&&(yield pe.call(Ve))}finally{if(re)throw re.error}}Ne.complete()})})(ze,Ne).catch(Ve=>Ne.error(Ve))})}},6451:(vt,Ee,O)=>{O.d(Ee,{T:()=>ye});var a=O(8189),$=O(8421),N=O(515),le=O(3269),de=O(8996);function ye(...ce){const me=(0,le.yG)(ce),be=(0,le._6)(ce,1/0),Q=ce;return Q.length?1===Q.length?(0,$.Xf)(Q[0]):(0,a.J)(be)((0,de.D)(Q,me)):N.E}},5403:(vt,Ee,O)=>{O.d(Ee,{x:()=>$});var a=O(930);function $(le,de,ye,ce,me){return new N(le,de,ye,ce,me)}class N extends a.Lv{constructor(de,ye,ce,me,be,Q){super(de),this.onFinalize=be,this.shouldUnsubscribe=Q,this._next=ye?function(Y){try{ye(Y)}catch(ne){de.error(ne)}}:super._next,this._error=me?function(Y){try{me(Y)}catch(ne){de.error(ne)}finally{this.unsubscribe()}}:super._error,this._complete=ce?function(){try{ce()}catch(Y){de.error(Y)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var de;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ye}=this;super.unsubscribe(),!ye&&(null===(de=this.onFinalize)||void 0===de||de.call(this))}}}},4004:(vt,Ee,O)=>{O.d(Ee,{U:()=>N});var a=O(4482),$=O(5403);function N(le,de){return(0,a.e)((ye,ce)=>{let me=0;ye.subscribe((0,$.x)(ce,be=>{ce.next(le.call(de,be,me++))}))})}},8189:(vt,Ee,O)=>{O.d(Ee,{J:()=>N});var a=O(5577),$=O(4671);function N(le=1/0){return(0,a.z)($.y,le)}},5577:(vt,Ee,O)=>{O.d(Ee,{z:()=>me});var a=O(4004),$=O(8421),N=O(4482),le=O(9672),de=O(5403),ce=O(576);function me(be,Q,Y=1/0){return(0,ce.m)(Q)?me((ne,$e)=>(0,a.U)((Ae,Je)=>Q(ne,Ae,$e,Je))((0,$.Xf)(be(ne,$e))),Y):("number"==typeof Q&&(Y=Q),(0,N.e)((ne,$e)=>function ye(be,Q,Y,ne,$e,Ae,Je,at){const xe=[];let Te=0,Se=0,Pe=!1;const ze=()=>{Pe&&!xe.length&&!Te&&Q.complete()},Ne=Ye=>Te<ne?Ve(Ye):xe.push(Ye),Ve=Ye=>{Ae&&Q.next(Ye),Te++;let re=!1;(0,$.Xf)(Y(Ye,Se++)).subscribe((0,de.x)(Q,pe=>{$e?.(pe),Ae?Ne(pe):Q.next(pe)},()=>{re=!0},void 0,()=>{if(re)try{for(Te--;xe.length&&Te<ne;){const pe=xe.shift();Je?(0,le.f)(Q,Je,()=>Ve(pe)):Ve(pe)}ze()}catch(pe){Q.error(pe)}}))};return be.subscribe((0,de.x)(Q,Ne,()=>{Pe=!0,ze()})),()=>{at?.()}}(ne,$e,be,Y)))}},5363:(vt,Ee,O)=>{O.d(Ee,{Q:()=>le});var a=O(9672),$=O(4482),N=O(5403);function le(de,ye=0){return(0,$.e)((ce,me)=>{ce.subscribe((0,N.x)(me,be=>(0,a.f)(me,de,()=>me.next(be),ye),()=>(0,a.f)(me,de,()=>me.complete(),ye),be=>(0,a.f)(me,de,()=>me.error(be),ye)))})}},3099:(vt,Ee,O)=>{O.d(Ee,{B:()=>de});var a=O(8421),$=O(7579),N=O(930),le=O(4482);function de(ce={}){const{connector:me=(()=>new $.x),resetOnError:be=!0,resetOnComplete:Q=!0,resetOnRefCountZero:Y=!0}=ce;return ne=>{let $e,Ae,Je,at=0,xe=!1,Te=!1;const Se=()=>{Ae?.unsubscribe(),Ae=void 0},Pe=()=>{Se(),$e=Je=void 0,xe=Te=!1},ze=()=>{const Ne=$e;Pe(),Ne?.unsubscribe()};return(0,le.e)((Ne,Ve)=>{at++,!Te&&!xe&&Se();const Ye=Je=Je??me();Ve.add(()=>{at--,0===at&&!Te&&!xe&&(Ae=ye(ze,Y))}),Ye.subscribe(Ve),!$e&&at>0&&($e=new N.Hp({next:re=>Ye.next(re),error:re=>{Te=!0,Se(),Ae=ye(Pe,be,re),Ye.error(re)},complete:()=>{xe=!0,Se(),Ae=ye(Pe,Q),Ye.complete()}}),(0,a.Xf)(Ne).subscribe($e))})(ne)}}function ye(ce,me,...be){if(!0===me)return void ce();if(!1===me)return;const Q=new N.Hp({next:()=>{Q.unsubscribe(),ce()}});return me(...be).subscribe(Q)}},9468:(vt,Ee,O)=>{O.d(Ee,{R:()=>$});var a=O(4482);function $(N,le=0){return(0,a.e)((de,ye)=>{ye.add(N.schedule(()=>de.subscribe(ye),le))})}},8505:(vt,Ee,O)=>{O.d(Ee,{b:()=>de});var a=O(576),$=O(4482),N=O(5403),le=O(4671);function de(ye,ce,me){const be=(0,a.m)(ye)||ce||me?{next:ye,error:ce,complete:me}:ye;return be?(0,$.e)((Q,Y)=>{var ne;null===(ne=be.subscribe)||void 0===ne||ne.call(be);let $e=!0;Q.subscribe((0,N.x)(Y,Ae=>{var Je;null===(Je=be.next)||void 0===Je||Je.call(be,Ae),Y.next(Ae)},()=>{var Ae;$e=!1,null===(Ae=be.complete)||void 0===Ae||Ae.call(be),Y.complete()},Ae=>{var Je;$e=!1,null===(Je=be.error)||void 0===Je||Je.call(be,Ae),Y.error(Ae)},()=>{var Ae,Je;$e&&(null===(Ae=be.unsubscribe)||void 0===Ae||Ae.call(be)),null===(Je=be.finalize)||void 0===Je||Je.call(be)}))}):le.y}},4408:(vt,Ee,O)=>{O.d(Ee,{o:()=>de});var a=O(727);class $ extends a.w0{constructor(ce,me){super()}schedule(ce,me=0){return this}}const N={setInterval(ye,ce,...me){const{delegate:be}=N;return be?.setInterval?be.setInterval(ye,ce,...me):setInterval(ye,ce,...me)},clearInterval(ye){const{delegate:ce}=N;return(ce?.clearInterval||clearInterval)(ye)},delegate:void 0};var le=O(8737);class de extends ${constructor(ce,me){super(ce,me),this.scheduler=ce,this.work=me,this.pending=!1}schedule(ce,me=0){var be;if(this.closed)return this;this.state=ce;const Q=this.id,Y=this.scheduler;return null!=Q&&(this.id=this.recycleAsyncId(Y,Q,me)),this.pending=!0,this.delay=me,this.id=null!==(be=this.id)&&void 0!==be?be:this.requestAsyncId(Y,this.id,me),this}requestAsyncId(ce,me,be=0){return N.setInterval(ce.flush.bind(ce,this),be)}recycleAsyncId(ce,me,be=0){if(null!=be&&this.delay===be&&!1===this.pending)return me;null!=me&&N.clearInterval(me)}execute(ce,me){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const be=this._execute(ce,me);if(be)return be;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ce,me){let Q,be=!1;try{this.work(ce)}catch(Y){be=!0,Q=Y||new Error("Scheduled action threw falsy error")}if(be)return this.unsubscribe(),Q}unsubscribe(){if(!this.closed){const{id:ce,scheduler:me}=this,{actions:be}=me;this.work=this.state=this.scheduler=null,this.pending=!1,(0,le.P)(be,this),null!=ce&&(this.id=this.recycleAsyncId(me,ce,null)),this.delay=null,super.unsubscribe()}}}},7565:(vt,Ee,O)=>{O.d(Ee,{v:()=>N});var a=O(6063);class ${constructor(de,ye=$.now){this.schedulerActionCtor=de,this.now=ye}schedule(de,ye=0,ce){return new this.schedulerActionCtor(this,de).schedule(ce,ye)}}$.now=a.l.now;class N extends ${constructor(de,ye=$.now){super(de,ye),this.actions=[],this._active=!1}flush(de){const{actions:ye}=this;if(this._active)return void ye.push(de);let ce;this._active=!0;do{if(ce=de.execute(de.state,de.delay))break}while(de=ye.shift());if(this._active=!1,ce){for(;de=ye.shift();)de.unsubscribe();throw ce}}}},4986:(vt,Ee,O)=>{O.d(Ee,{P:()=>le,z:()=>N});var a=O(4408);const N=new(O(7565).v)(a.o),le=N},6063:(vt,Ee,O)=>{O.d(Ee,{l:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},3410:(vt,Ee,O)=>{O.d(Ee,{z:()=>a});const a={setTimeout($,N,...le){const{delegate:de}=a;return de?.setTimeout?de.setTimeout($,N,...le):setTimeout($,N,...le)},clearTimeout($){const{delegate:N}=a;return(N?.clearTimeout||clearTimeout)($)},delegate:void 0}},2202:(vt,Ee,O)=>{O.d(Ee,{h:()=>$});const $=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(vt,Ee,O)=>{O.d(Ee,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(vt,Ee,O)=>{O.d(Ee,{_6:()=>ye,jO:()=>le,yG:()=>de});var a=O(576),$=O(3532);function N(ce){return ce[ce.length-1]}function le(ce){return(0,a.m)(N(ce))?ce.pop():void 0}function de(ce){return(0,$.K)(N(ce))?ce.pop():void 0}function ye(ce,me){return"number"==typeof N(ce)?ce.pop():me}},8737:(vt,Ee,O)=>{function a($,N){if($){const le=$.indexOf(N);0<=le&&$.splice(le,1)}}O.d(Ee,{P:()=>a})},3888:(vt,Ee,O)=>{function a($){const le=$(de=>{Error.call(de),de.stack=(new Error).stack});return le.prototype=Object.create(Error.prototype),le.prototype.constructor=le,le}O.d(Ee,{d:()=>a})},2806:(vt,Ee,O)=>{O.d(Ee,{O:()=>le,x:()=>N});var a=O(2416);let $=null;function N(de){if(a.v.useDeprecatedSynchronousErrorHandling){const ye=!$;if(ye&&($={errorThrown:!1,error:null}),de(),ye){const{errorThrown:ce,error:me}=$;if($=null,ce)throw me}}else de()}function le(de){a.v.useDeprecatedSynchronousErrorHandling&&$&&($.errorThrown=!0,$.error=de)}},9672:(vt,Ee,O)=>{function a($,N,le,de=0,ye=!1){const ce=N.schedule(function(){le(),ye?$.add(this.schedule(null,de)):this.unsubscribe()},de);if($.add(ce),!ye)return ce}O.d(Ee,{f:()=>a})},4671:(vt,Ee,O)=>{function a($){return $}O.d(Ee,{y:()=>a})},1144:(vt,Ee,O)=>{O.d(Ee,{z:()=>a});const a=$=>$&&"number"==typeof $.length&&"function"!=typeof $},2206:(vt,Ee,O)=>{O.d(Ee,{D:()=>$});var a=O(576);function $(N){return Symbol.asyncIterator&&(0,a.m)(N?.[Symbol.asyncIterator])}},576:(vt,Ee,O)=>{function a($){return"function"==typeof $}O.d(Ee,{m:()=>a})},3670:(vt,Ee,O)=>{O.d(Ee,{c:()=>N});var a=O(8822),$=O(576);function N(le){return(0,$.m)(le[a.L])}},6495:(vt,Ee,O)=>{O.d(Ee,{T:()=>N});var a=O(2202),$=O(576);function N(le){return(0,$.m)(le?.[a.h])}},8239:(vt,Ee,O)=>{O.d(Ee,{t:()=>$});var a=O(576);function $(N){return(0,a.m)(N?.then)}},3260:(vt,Ee,O)=>{O.d(Ee,{L:()=>le,Q:()=>N});var a=O(655),$=O(576);function N(de){return(0,a.FC)(this,arguments,function*(){const ce=de.getReader();try{for(;;){const{value:me,done:be}=yield(0,a.qq)(ce.read());if(be)return yield(0,a.qq)(void 0);yield yield(0,a.qq)(me)}}finally{ce.releaseLock()}})}function le(de){return(0,$.m)(de?.getReader)}},3532:(vt,Ee,O)=>{O.d(Ee,{K:()=>$});var a=O(576);function $(N){return N&&(0,a.m)(N.schedule)}},4482:(vt,Ee,O)=>{O.d(Ee,{A:()=>$,e:()=>N});var a=O(576);function $(le){return(0,a.m)(le?.lift)}function N(le){return de=>{if($(de))return de.lift(function(ye){try{return le(ye,this)}catch(ce){this.error(ce)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(vt,Ee,O)=>{function a(){}O.d(Ee,{Z:()=>a})},9635:(vt,Ee,O)=>{O.d(Ee,{U:()=>N,z:()=>$});var a=O(4671);function $(...le){return N(le)}function N(le){return 0===le.length?a.y:1===le.length?le[0]:function(ye){return le.reduce((ce,me)=>me(ce),ye)}}},7849:(vt,Ee,O)=>{O.d(Ee,{h:()=>N});var a=O(2416),$=O(3410);function N(le){$.z.setTimeout(()=>{const{onUnhandledError:de}=a.v;if(!de)throw le;de(le)})}},4532:(vt,Ee,O)=>{function a($){return new TypeError(`You provided ${null!==$&&"object"==typeof $?"an invalid object":`'${$}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(Ee,{z:()=>a})},655:(vt,Ee,O)=>{function le(te,ee){var _e={};for(var ue in te)Object.prototype.hasOwnProperty.call(te,ue)&&ee.indexOf(ue)<0&&(_e[ue]=te[ue]);if(null!=te&&"function"==typeof Object.getOwnPropertySymbols){var Be=0;for(ue=Object.getOwnPropertySymbols(te);Be<ue.length;Be++)ee.indexOf(ue[Be])<0&&Object.prototype.propertyIsEnumerable.call(te,ue[Be])&&(_e[ue[Be]]=te[ue[Be]])}return _e}function me(te,ee,_e,ue){return new(_e||(_e=Promise))(function(Ue,bt){function mn(Kt){try{zt(ue.next(Kt))}catch(Mt){bt(Mt)}}function bn(Kt){try{zt(ue.throw(Kt))}catch(Mt){bt(Mt)}}function zt(Kt){Kt.done?Ue(Kt.value):function Be(Ue){return Ue instanceof _e?Ue:new _e(function(bt){bt(Ue)})}(Kt.value).then(mn,bn)}zt((ue=ue.apply(te,ee||[])).next())})}function xe(te){return this instanceof xe?(this.v=te,this):new xe(te)}function Te(te,ee,_e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Be,ue=_e.apply(te,ee||[]),Ue=[];return Be={},bt("next"),bt("throw"),bt("return"),Be[Symbol.asyncIterator]=function(){return this},Be;function bt(fn){ue[fn]&&(Be[fn]=function(Ti){return new Promise(function(nn,St){Ue.push([fn,Ti,nn,St])>1||mn(fn,Ti)})})}function mn(fn,Ti){try{!function bn(fn){fn.value instanceof xe?Promise.resolve(fn.value.v).then(zt,Kt):Mt(Ue[0][2],fn)}(ue[fn](Ti))}catch(nn){Mt(Ue[0][3],nn)}}function zt(fn){mn("next",fn)}function Kt(fn){mn("throw",fn)}function Mt(fn,Ti){fn(Ti),Ue.shift(),Ue.length&&mn(Ue[0][0],Ue[0][1])}}function Pe(te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _e,ee=te[Symbol.asyncIterator];return ee?ee.call(te):(te=function ne(te){var ee="function"==typeof Symbol&&Symbol.iterator,_e=ee&&te[ee],ue=0;if(_e)return _e.call(te);if(te&&"number"==typeof te.length)return{next:function(){return te&&ue>=te.length&&(te=void 0),{value:te&&te[ue++],done:!te}}};throw new TypeError(ee?"Object is not iterable.":"Symbol.iterator is not defined.")}(te),_e={},ue("next"),ue("throw"),ue("return"),_e[Symbol.asyncIterator]=function(){return this},_e);function ue(Ue){_e[Ue]=te[Ue]&&function(bt){return new Promise(function(mn,bn){!function Be(Ue,bt,mn,bn){Promise.resolve(bn).then(function(zt){Ue({value:zt,done:mn})},bt)}(mn,bn,(bt=te[Ue](bt)).done,bt.value)})}}}O.d(Ee,{FC:()=>Te,KL:()=>Pe,_T:()=>le,mG:()=>me,qq:()=>xe})},4650:(vt,Ee,O)=>{O.d(Ee,{$8M:()=>Ll,$Z:()=>pi,AFp:()=>Ur,ALo:()=>T_,AaK:()=>me,BQk:()=>F,CHM:()=>mc,CRH:()=>O_,CZH:()=>a0,CqO:()=>_g,D6c:()=>y6,EJc:()=>J5,EiD:()=>Zm,EpF:()=>c5,F$t:()=>bg,F4k:()=>gg,FYo:()=>h9,FiY:()=>gt,Gf:()=>R_,GfV:()=>ed,Gpc:()=>Y,Hsn:()=>f5,Ikx:()=>$u,JOm:()=>Co,JVY:()=>Wf,JZr:()=>at,KtG:()=>La,L6k:()=>qf,LAX:()=>fC,LFG:()=>qe,LSH:()=>Qm,Lbi:()=>iv,Lck:()=>FL,MAs:()=>dg,MMx:()=>w_,MR2:()=>i9,NdJ:()=>l5,O4$:()=>b2,OlP:()=>Tn,Oqu:()=>Br,P3R:()=>Jm,PXZ:()=>uv,Q6J:()=>hg,QGY:()=>Ld,QP$:()=>ri,QbO:()=>rs,Qsj:()=>TC,R0b:()=>To,RDi:()=>Um,Rgc:()=>e6,SBq:()=>lu,Sil:()=>uS,Suo:()=>P_,TTD:()=>Ro,TgZ:()=>Vd,Udp:()=>_5,VKq:()=>zM,W1O:()=>F_,WFA:()=>Jn,WLB:()=>NM,X6Q:()=>_S,XFs:()=>ct,Xpm:()=>Ca,Xts:()=>v8,Y36:()=>s3,YKP:()=>EM,YNc:()=>fg,Yjl:()=>Ma,Yz7:()=>St,Z0I:()=>$n,ZZ4:()=>v6,_Bn:()=>SM,_UZ:()=>mg,_Vd:()=>Jf,_c5:()=>Mv,_uU:()=>Ng,aQg:()=>T0,c2e:()=>cS,cJS:()=>Sr,cg1:()=>E5,d8E:()=>S5,dDg:()=>av,dqk:()=>Pt,eBb:()=>uC,eFA:()=>h0,ekj:()=>v5,eoX:()=>ap,f3M:()=>st,g9A:()=>nv,h0i:()=>Zu,hGG:()=>A0,hij:()=>qc,iGM:()=>e0,ifc:()=>Le,ip1:()=>tv,jDz:()=>TM,kL8:()=>Zg,kcU:()=>Tl,lG2:()=>K2,lcZ:()=>I_,lqb:()=>Oc,lri:()=>f6,mCW:()=>Zl,n5z:()=>Df,oAB:()=>wa,oJD:()=>Km,oxw:()=>xg,pB0:()=>d8,q3G:()=>Pi,q4F:()=>E8,qLn:()=>uu,qOj:()=>Ed,qZA:()=>a5,qzn:()=>Yl,rWj:()=>f0,s9C:()=>Hd,sBO:()=>pp,sIi:()=>Vu,s_b:()=>F1,soG:()=>c6,tb:()=>c0,tp0:()=>Ht,uIk:()=>Id,vHH:()=>xe,vpe:()=>ro,wAp:()=>It,xi3:()=>A_,xp6:()=>rd,ynx:()=>Si,z2F:()=>g0,z3N:()=>$a,zSh:()=>Jl,zs3:()=>ta});var a=O(7579),$=O(727),N=O(9751),le=O(6451),de=O(3099);function ye(o){for(let c in o)if(o[c]===ye)return c;throw Error("Could not find renamed property on target object.")}function ce(o,c){for(const u in c)c.hasOwnProperty(u)&&!o.hasOwnProperty(u)&&(o[u]=c[u])}function me(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(me).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const c=o.toString();if(null==c)return""+c;const u=c.indexOf("\n");return-1===u?c:c.substring(0,u)}function be(o,c){return null==o||""===o?null===c?"":c:null==c||""===c?o:o+" "+c}const Q=ye({__forward_ref__:ye});function Y(o){return o.__forward_ref__=Y,o.toString=function(){return me(this())},o}function ne(o){return $e(o)?o():o}function $e(o){return"function"==typeof o&&o.hasOwnProperty(Q)&&o.__forward_ref__===Y}function Ae(o){return o&&!!o.\u0275providers}const at="https://g.co/ng/security#xss";class xe extends Error{constructor(c,u){super(function Te(o,c){return`NG0${Math.abs(o)}${c?": "+c.trim():""}`}(c,u)),this.code=c}}function Se(o){return"string"==typeof o?o:null==o?"":String(o)}function Ye(o,c){throw new xe(-201,!1)}function Kt(o,c){null==o&&function Mt(o,c,u,d){throw new Error(`ASSERTION ERROR: ${o}`+(null==d?"":` [Expected=> ${u} ${d} ${c} <=Actual]`))}(c,o,null,"!=")}function St(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function Sr(o){return{providers:o.providers||[],imports:o.imports||[]}}function Ui(o){return fs(o,Er)||fs(o,En)}function $n(o){return null!==Ui(o)}function fs(o,c){return o.hasOwnProperty(c)?o[c]:null}function ti(o){return o&&(o.hasOwnProperty(Zr)||o.hasOwnProperty(Ii))?o[Zr]:null}const Er=ye({\u0275prov:ye}),Zr=ye({\u0275inj:ye}),En=ye({ngInjectableDef:ye}),Ii=ye({ngInjectorDef:ye});var ct=(()=>((ct=ct||{})[ct.Default=0]="Default",ct[ct.Host=1]="Host",ct[ct.Self=2]="Self",ct[ct.SkipSelf=4]="SkipSelf",ct[ct.Optional=8]="Optional",ct))();let Ai;function li(o){const c=Ai;return Ai=o,c}function ni(o,c,u){const d=Ui(o);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:u&ct.Optional?null:void 0!==c?c:void Ye(me(o))}const Pt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ui={},Rn="__NG_DI_FLAG__",Dr="ngTempTokenPath",Kr=/\n/gm,Qr="__source";let Jt;function Ji(o){const c=Jt;return Jt=o,c}function ii(o,c=ct.Default){if(void 0===Jt)throw new xe(-203,!1);return null===Jt?ni(o,void 0,c):Jt.get(o,c&ct.Optional?null:void 0,c)}function qe(o,c=ct.Default){return(function ji(){return Ai}()||ii)(ne(o),c)}function st(o,c=ct.Default){return qe(o,Vt(c))}function Vt(o){return typeof o>"u"||"number"==typeof o?o:0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function Nt(o){const c=[];for(let u=0;u<o.length;u++){const d=ne(o[u]);if(Array.isArray(d)){if(0===d.length)throw new xe(900,!1);let h,m=ct.Default;for(let y=0;y<d.length;y++){const C=d[y],S=K(C);"number"==typeof S?-1===S?h=C.token:m|=S:h=C}c.push(qe(h,m))}else c.push(qe(d))}return c}function an(o,c){return o[Rn]=c,o.prototype[Rn]=c,o}function K(o){return o[Rn]}function j(o){return{toString:o}.toString()}var z=(()=>((z=z||{})[z.OnPush=0]="OnPush",z[z.Default=1]="Default",z))(),Le=(()=>{return(o=Le||(Le={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",Le;var o})();const dt={},Ke=[],Gt=ye({\u0275cmp:ye}),yt=ye({\u0275dir:ye}),kn=ye({\u0275pipe:ye}),Vi=ye({\u0275mod:ye}),Ft=ye({\u0275fac:ye}),er=ye({__NG_ELEMENT_ID__:ye});let nc=0;function Ca(o){return j(()=>{const u=!0===o.standalone,d={},h={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===z.OnPush,directiveDefs:null,pipeDefs:null,standalone:u,dependencies:u&&o.dependencies||null,getStandaloneInjector:null,selectors:o.selectors||Ke,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||Le.Emulated,id:"c"+nc++,styles:o.styles||Ke,_:null,setInput:null,schemas:o.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},m=o.dependencies,y=o.features;return h.inputs=sc(o.inputs,d),h.outputs=sc(o.outputs),y&&y.forEach(C=>C(h)),h.directiveDefs=m?()=>("function"==typeof m?m():m).map(rc).filter(Li):null,h.pipeDefs=m?()=>("function"==typeof m?m():m).map($i).filter(Li):null,h})}function rc(o){return gn(o)||Pn(o)}function Li(o){return null!==o}function wa(o){return j(()=>({type:o.type,bootstrap:o.bootstrap||Ke,declarations:o.declarations||Ke,imports:o.imports||Ke,exports:o.exports||Ke,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function sc(o,c){if(null==o)return dt;const u={};for(const d in o)if(o.hasOwnProperty(d)){let h=o[d],m=h;Array.isArray(h)&&(m=h[1],h=h[0]),u[h]=d,c&&(c[h]=m)}return u}const K2=Ca;function Ma(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function gn(o){return o[Gt]||null}function Pn(o){return o[yt]||null}function $i(o){return o[kn]||null}function ri(o){const c=gn(o)||Pn(o)||$i(o);return null!==c&&c.standalone}function tr(o,c){const u=o[Vi]||null;if(!u&&!0===c)throw new Error(`Type ${me(o)} does not have '\u0275mod' property.`);return u}function Wi(o){return Array.isArray(o)&&"object"==typeof o[1]}function zi(o){return Array.isArray(o)&&!0===o[1]}function d2(o){return 0!=(4&o.flags)}function ac(o){return o.componentOffset>-1}function Ts(o){return 1==(1&o.flags)}function Is(o){return null!==o.template}function h2(o){return 0!=(256&o[2])}function Xr(o,c){return o.hasOwnProperty(Ft)?o[Ft]:null}class r1{constructor(c,u,d){this.previousValue=c,this.currentValue=u,this.firstChange=d}isFirstChange(){return this.firstChange}}function Ro(){return Po}function Po(o){return o.type.prototype.ngOnChanges&&(o.setInput=p2),lc}function lc(){const o=Ta(this),c=o?.current;if(c){const u=o.previous;if(u===dt)o.previous=c;else for(let d in c)u[d]=c[d];o.current=null,this.ngOnChanges(c)}}function p2(o,c,u,d){const h=this.declaredInputs[u],m=Ta(o)||function o1(o,c){return o[s1]=c}(o,{previous:dt,current:null}),y=m.current||(m.current={}),C=m.previous,S=C[h];y[h]=new r1(S&&S.currentValue,c,C===dt),o[d]=c}Ro.ngInherit=!0;const s1="__ngSimpleChanges__";function Ta(o){return o[s1]||null}function On(o){for(;Array.isArray(o);)o=o[0];return o}function Aa(o,c){return On(c[o])}function Ar(o,c){return On(c[o.index])}function l1(o,c){return o.data[c]}function As(o,c){return o[c]}function Jr(o,c){const u=c[o];return Wi(u)?u:u[0]}function Va(o){return 64==(64&o[2])}function uo(o,c){return null==c?null:o[c]}function y2(o){o[18]=0}function dc(o,c){o[5]+=c;let u=o,d=o[3];for(;null!==d&&(1===c&&1===u[5]||-1===c&&0===u[5]);)d[5]+=c,u=d,d=d[3]}const lt={lFrame:Fo(null),bindingsEnabled:!0};function hc(){return lt.bindingsEnabled}function ke(){return lt.lFrame.lView}function rn(){return lt.lFrame.tView}function mc(o){return lt.lFrame.contextLView=o,o[8]}function La(o){return lt.lFrame.contextLView=null,o}function Ni(){let o=fo();for(;null!==o&&64===o.type;)o=o.parent;return o}function fo(){return lt.lFrame.currentTNode}function Vr(o,c){const u=lt.lFrame;u.currentTNode=o,u.isParent=c}function bl(){return lt.lFrame.isParent}function ho(){lt.lFrame.isParent=!1}function nr(){const o=lt.lFrame;let c=o.bindingRootIndex;return-1===c&&(c=o.bindingRootIndex=o.tView.bindingStartIndex),c}function x2(){return lt.lFrame.bindingIndex++}function Ml(o,c){const u=lt.lFrame;u.bindingIndex=u.bindingRootIndex=o,Sl(c)}function Sl(o){lt.lFrame.currentDirectiveIndex=o}function D4(o){const c=lt.lFrame.currentDirectiveIndex;return-1===c?null:o[c]}function d1(){return lt.lFrame.currentQueryIndex}function T4(o){lt.lFrame.currentQueryIndex=o}function Sm(o){const c=o[1];return 2===c.type?c.declTNode:1===c.type?o[6]:null}function h1(o,c,u){if(u&ct.SkipSelf){let h=c,m=o;for(;!(h=h.parent,null!==h||u&ct.Host||(h=Sm(m),null===h||(m=m[15],10&h.type))););if(null===h)return!1;c=h,o=m}const d=lt.lFrame=gc();return d.currentTNode=c,d.lView=o,!0}function I4(o){const c=gc(),u=o[1];lt.lFrame=c,c.currentTNode=u.firstChild,c.lView=o,c.tView=u,c.contextLView=o,c.bindingIndex=u.bindingStartIndex,c.inI18n=!1}function gc(){const o=lt.lFrame,c=null===o?null:o.child;return null===c?Fo(o):c}function Fo(o){const c={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=c),c}function _c(){const o=lt.lFrame;return lt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const El=_c;function wi(){const o=_c();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function Kn(){return lt.lFrame.selectedIndex}function Gs(o){lt.lFrame.selectedIndex=o}function Cn(){const o=lt.lFrame;return l1(o.tView,o.selectedIndex)}function b2(){lt.lFrame.currentNamespace="svg"}function Tl(){!function A4(){lt.lFrame.currentNamespace=null}()}function si(o,c){for(let u=c.directiveStart,d=c.directiveEnd;u<d;u++){const m=o.data[u].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:C,ngAfterViewInit:S,ngAfterViewChecked:T,ngOnDestroy:k}=m;y&&(o.contentHooks||(o.contentHooks=[])).push(-u,y),C&&((o.contentHooks||(o.contentHooks=[])).push(u,C),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(u,C)),S&&(o.viewHooks||(o.viewHooks=[])).push(-u,S),T&&((o.viewHooks||(o.viewHooks=[])).push(u,T),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(u,T)),null!=k&&(o.destroyHooks||(o.destroyHooks=[])).push(u,k)}}function ka(o,c,u){Uo(o,c,3,u)}function Bo(o,c,u,d){(3&o[2])===u&&Uo(o,c,u,d)}function p1(o,c){let u=o[2];(3&u)===c&&(u&=2047,u+=1,o[2]=u)}function Uo(o,c,u,d){const m=d??-1,y=c.length-1;let C=0;for(let S=void 0!==d?65535&o[18]:0;S<y;S++)if("number"==typeof c[S+1]){if(C=c[S],null!=d&&C>=d)break}else c[S]<0&&(o[18]+=65536),(C<m||-1==m)&&(Ha(o,u,c,S),o[18]=(4294901760&o[18])+S+2),S++}function Ha(o,c,u,d){const h=u[d]<0,m=u[d+1],C=o[h?-u[d]:u[d]];if(h){if(o[2]>>11<o[18]>>16&&(3&o[2])===c){o[2]+=2048;try{m.call(C)}finally{}}}else try{m.call(C)}finally{}}class Dn{constructor(c,u,d){this.factory=c,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=d}}function w2(o,c,u){let d=0;for(;d<u.length;){const h=u[d];if("number"==typeof h){if(0!==h)break;d++;const m=u[d++],y=u[d++],C=u[d++];o.setAttribute(c,y,C,m)}else{const m=h,y=u[++d];mo(m)?o.setProperty(c,m,y):o.setAttribute(c,m,y),d++}}return d}function po(o){return 3===o||4===o||6===o}function mo(o){return 64===o.charCodeAt(0)}function ks(o,c){if(null!==c&&0!==c.length)if(null===o||0===o.length)o=c.slice();else{let u=-1;for(let d=0;d<c.length;d++){const h=c[d];"number"==typeof h?u=h:0===u||xc(o,u,h,null,-1===u||2===u?c[++d]:null)}}return o}function xc(o,c,u,d,h){let m=0,y=o.length;if(-1===c)y=-1;else for(;m<o.length;){const C=o[m++];if("number"==typeof C){if(C===c){y=-1;break}if(C>c){y=m-1;break}}}for(;m<o.length;){const C=o[m];if("number"==typeof C)break;if(C===u){if(null===d)return void(null!==h&&(o[m+1]=h));if(d===o[m+1])return void(o[m+2]=h)}m++,null!==d&&m++,null!==h&&m++}-1!==y&&(o.splice(y,0,c),m=y+1),o.splice(m++,0,u),null!==d&&o.splice(m++,0,d),null!==h&&o.splice(m++,0,h)}function $o(o){return-1!==o}function Go(o){return 32767&o}function Ra(o,c){let u=function M2(o){return o>>16}(o),d=c;for(;u>0;)d=d[15],u--;return d}let go=!0;function Wo(o){const c=go;return go=o,c}let wc=0;const Ws={};function Mc(o,c){const u=_1(o,c);if(-1!==u)return u;const d=c[1];d.firstCreatePass&&(o.injectorIndex=c.length,kr(d.data,o),kr(c,null),kr(d.blueprint,null));const h=Pa(o,c),m=o.injectorIndex;if($o(h)){const y=Go(h),C=Ra(h,c),S=C[1].data;for(let T=0;T<8;T++)c[m+T]=C[y+T]|S[y+T]}return c[m+8]=h,m}function kr(o,c){o.push(0,0,0,0,0,0,0,0,c)}function _1(o,c){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===c[o.injectorIndex+8]?-1:o.injectorIndex}function Pa(o,c){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let u=0,d=null,h=c;for(;null!==h;){if(d=b1(h),null===d)return-1;if(u++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|u<<16}return-1}function _o(o,c,u){!function g1(o,c,u){let d;"string"==typeof u?d=u.charCodeAt(0)||0:u.hasOwnProperty(er)&&(d=u[er]),null==d&&(d=u[er]=wc++);const h=255&d;c.data[o+(h>>5)]|=1<<h}(o,c,u)}function v1(o,c,u){if(u&ct.Optional||void 0!==o)return o;Ye()}function gr(o,c,u,d){if(u&ct.Optional&&void 0===d&&(d=null),0==(u&(ct.Self|ct.Host))){const h=o[9],m=li(void 0);try{return h?h.get(c,d,u&ct.Optional):ni(c,d,u&ct.Optional)}finally{li(m)}}return v1(d,0,u)}function S2(o,c,u,d=ct.Default,h){if(null!==o){if(1024&c[2]){const y=function qo(o,c,u,d,h){let m=o,y=c;for(;null!==m&&null!==y&&1024&y[2]&&!(256&y[2]);){const C=Vl(m,y,u,d|ct.Self,Ws);if(C!==Ws)return C;let S=m.parent;if(!S){const T=y[21];if(T){const k=T.get(u,Ws,d);if(k!==Ws)return k}S=b1(y),y=y[15]}m=S}return h}(o,c,u,d,Ws);if(y!==Ws)return y}const m=Vl(o,c,u,d,Ws);if(m!==Ws)return m}return gr(c,u,d,h)}function Vl(o,c,u,d,h){const m=function z4(o){if("string"==typeof o)return o.charCodeAt(0)||0;const c=o.hasOwnProperty(er)?o[er]:void 0;return"number"==typeof c?c>=0?255&c:Ef:c}(u);if("function"==typeof m){if(!h1(c,o,d))return d&ct.Host?v1(h,0,d):gr(c,u,d,h);try{const y=m(d);if(null!=y||d&ct.Optional)return y;Ye()}finally{El()}}else if("number"==typeof m){let y=null,C=_1(o,c),S=-1,T=d&ct.Host?c[16][6]:null;for((-1===C||d&ct.SkipSelf)&&(S=-1===C?Pa(o,c):c[C+8],-1!==S&&x1(d,!1)?(y=c[1],C=Go(S),c=Ra(S,c)):C=-1);-1!==C;){const k=c[1];if(Sc(m,C,k.data)){const B=Sf(C,c,u,y,d,T);if(B!==Ws)return B}S=c[C+8],-1!==S&&x1(d,c[1].data[C+8]===T)&&Sc(m,C,c)?(y=k,C=Go(S),c=Ra(S,c)):C=-1}}return h}function Sf(o,c,u,d,h,m){const y=c[1],C=y.data[o+8],k=Oa(C,y,u,null==d?ac(C)&&go:d!=y&&0!=(3&C.type),h&ct.Host&&m===C);return null!==k?y1(c,y,k,C):Ws}function Oa(o,c,u,d,h){const m=o.providerIndexes,y=c.data,C=1048575&m,S=o.directiveStart,k=m>>20,X=h?C+k:o.directiveEnd;for(let ae=d?C:C+k;ae<X;ae++){const Ce=y[ae];if(ae<S&&u===Ce||ae>=S&&Ce.type===u)return ae}if(h){const ae=y[S];if(ae&&Is(ae)&&ae.type===u)return S}return null}function y1(o,c,u,d){let h=o[u];const m=c.data;if(function Il(o){return o instanceof Dn}(h)){const y=h;y.resolving&&function ze(o,c){const u=c?`. Dependency path: ${c.join(" > ")} > ${o}`:"";throw new xe(-200,`Circular dependency in DI detected for ${o}${u}`)}(function Pe(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():Se(o)}(m[u]));const C=Wo(y.canSeeViewProviders);y.resolving=!0;const S=y.injectImpl?li(y.injectImpl):null;h1(o,d,ct.Default);try{h=o[u]=y.factory(void 0,m,o,d),c.firstCreatePass&&u>=d.directiveStart&&function Mf(o,c,u){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:m}=c.type.prototype;if(d){const y=Po(c);(u.preOrderHooks||(u.preOrderHooks=[])).push(o,y),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,y)}h&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-o,h),m&&((u.preOrderHooks||(u.preOrderHooks=[])).push(o,m),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,m))}(u,m[u],c)}finally{null!==S&&li(S),Wo(C),y.resolving=!1,El()}}return h}function Sc(o,c,u){return!!(u[c+(o>>5)]&1<<o)}function x1(o,c){return!(o&ct.Self||o&ct.Host&&c)}class E2{constructor(c,u){this._tNode=c,this._lView=u}get(c,u,d){return S2(this._tNode,this._lView,c,Vt(d),u)}}function Ef(){return new E2(Ni(),ke())}function Df(o){return j(()=>{const c=o.prototype.constructor,u=c[Ft]||Ec(c),d=Object.prototype;let h=Object.getPrototypeOf(o.prototype).constructor;for(;h&&h!==d;){const m=h[Ft]||Ec(h);if(m&&m!==u)return m;h=Object.getPrototypeOf(h)}return m=>new m})}function Ec(o){return $e(o)?()=>{const c=Ec(ne(o));return c&&c()}:Xr(o)}function b1(o){const c=o[1],u=c.type;return 2===u?c.declTNode:1===u?o[6]:null}function Ll(o){return function Al(o,c){if("class"===c)return o.classes;if("style"===c)return o.styles;const u=o.attrs;if(u){const d=u.length;let h=0;for(;h<d;){const m=u[h];if(po(m))break;if(0===m)h+=2;else if("number"==typeof m)for(h++;h<d&&"string"==typeof u[h];)h++;else{if(m===c)return u[h+1];h+=2}}}return null}(Ni(),o)}const vo="__parameters__";function qs(o,c,u){return j(()=>{const d=function C1(o){return function(...u){if(o){const d=o(...u);for(const h in d)this[h]=d[h]}}}(c);function h(...m){if(this instanceof h)return d.apply(this,m),this;const y=new h(...m);return C.annotation=y,C;function C(S,T,k){const B=S.hasOwnProperty(vo)?S[vo]:Object.defineProperty(S,vo,{value:[]})[vo];for(;B.length<=k;)B.push(null);return(B[k]=B[k]||[]).push(y),S}}return u&&(h.prototype=Object.create(u.prototype)),h.prototype.ngMetadataName=o,h.annotationCls=h,h})}class Tn{constructor(c,u){this._desc=c,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=St({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Qe(o,c){void 0===c&&(c=o);for(let u=0;u<o.length;u++){let d=o[u];Array.isArray(d)?(c===o&&(c=o.slice(0,u)),Qe(d,c)):c!==o&&c.push(d)}return c}function Qt(o,c){o.forEach(u=>Array.isArray(u)?Qt(u,c):c(u))}function Qn(o,c,u){c>=o.length?o.push(u):o.splice(c,0,u)}function Ys(o,c){return c>=o.length-1?o.pop():o.splice(c,1)[0]}function Zs(o,c){const u=[];for(let d=0;d<o;d++)u.push(c);return u}function Hr(o,c,u){let d=ut(o,c);return d>=0?o[1|d]=u:(d=~d,function Ks(o,c,u,d){let h=o.length;if(h==c)o.push(u,d);else if(1===h)o.push(d,o[0]),o[0]=u;else{for(h--,o.push(o[h-1],o[h]);h>c;)o[h]=o[h-2],h--;o[c]=u,o[c+1]=d}}(o,d,c,u)),d}function Qs(o,c){const u=ut(o,c);if(u>=0)return o[1|u]}function ut(o,c){return function zl(o,c,u){let d=0,h=o.length>>u;for(;h!==d;){const m=d+(h-d>>1),y=o[m<<u];if(c===y)return m<<u;y>c?h=m:d=m+1}return~(h<<u)}(o,c,1)}const gt=an(qs("Optional"),8),Ht=an(qs("SkipSelf"),4);var Co=(()=>((Co=Co||{})[Co.Important=1]="Important",Co[Co.DashCase=2]="DashCase",Co))();const W4=new Map;let zf=0;const L="__ngContext__";function R(o,c){Wi(c)?(o[L]=c[20],function kc(o){W4.set(o[20],o)}(c)):o[L]=c}function Bl(o,c){return undefined(o,c)}function I2(o){const c=o[3];return zi(c)?c[3]:c}function A2(o){return Tm(o[13])}function E1(o){return Tm(o[4])}function Tm(o){for(;null!==o&&!zi(o);)o=o[4];return o}function D1(o,c,u,d,h){if(null!=d){let m,y=!1;zi(d)?m=d:Wi(d)&&(y=!0,d=d[0]);const C=On(d);0===o&&null!==u?null==h?Nm(c,u,C):V2(c,u,C,h||null,!0):1===o&&null!==u?V2(c,u,C,h||null,!0):2===o?function a8(o,c,u){const d=Gl(o,c);d&&function Rm(o,c,u,d){o.removeChild(c,u,d)}(o,d,c,u)}(c,C,y):3===o&&c.destroyNode(C),null!=m&&function sC(o,c,u,d,h){const m=u[7];m!==On(u)&&D1(c,o,d,m,h);for(let C=10;C<u.length;C++){const S=u[C];J4(S[1],S,o,c,d,m)}}(c,o,m,u,h)}}function e8(o,c,u){return o.createElement(c,u)}function Hc(o,c){const u=o[9],d=u.indexOf(c),h=c[3];512&c[2]&&(c[2]&=-513,dc(h,-1)),u.splice(d,1)}function t8(o,c){if(o.length<=10)return;const u=10+c,d=o[u];if(d){const h=d[17];null!==h&&h!==o&&Hc(h,d),c>0&&(o[u-1][4]=d[4]);const m=Ys(o,10+c);!function K4(o,c){J4(o,c,c[11],2,null,null),c[0]=null,c[6]=null}(d[1],d);const y=m[19];null!==y&&y.detachView(m[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function Hm(o,c){if(!(128&c[2])){const u=c[11];u.destroyNode&&J4(o,c,u,3,null,null),function Vm(o){let c=o[13];if(!c)return Of(o[1],o);for(;c;){let u=null;if(Wi(c))u=c[13];else{const d=c[10];d&&(u=d)}if(!u){for(;c&&!c[4]&&c!==o;)Wi(c)&&Of(c[1],c),c=c[3];null===c&&(c=o),Wi(c)&&Of(c[1],c),u=c&&c[4]}c=u}}(c)}}function Of(o,c){if(!(128&c[2])){c[2]&=-65,c[2]|=128,function n8(o,c){let u;if(null!=o&&null!=(u=o.destroyHooks))for(let d=0;d<u.length;d+=2){const h=c[u[d]];if(!(h instanceof Dn)){const m=u[d+1];if(Array.isArray(m))for(let y=0;y<m.length;y+=2){const C=h[m[y]],S=m[y+1];try{S.call(C)}finally{}}else try{m.call(h)}finally{}}}}(o,c),function iC(o,c){const u=o.cleanup,d=c[7];let h=-1;if(null!==u)for(let m=0;m<u.length-1;m+=2)if("string"==typeof u[m]){const y=u[m+3];y>=0?d[h=y]():d[h=-y].unsubscribe(),m+=2}else{const y=d[h=u[m+1]];u[m].call(y)}if(null!==d){for(let m=h+1;m<d.length;m++)(0,d[m])();c[7]=null}}(o,c),1===c[1].type&&c[11].destroy();const u=c[17];if(null!==u&&zi(c[3])){u!==c[3]&&Hc(u,c);const d=c[19];null!==d&&d.detachView(o)}!function ln(o){W4.delete(o[20])}(c)}}function $l(o,c,u){return function zm(o,c,u){let d=c;for(;null!==d&&40&d.type;)d=(c=d).parent;if(null===d)return u[0];{const{componentOffset:h}=d;if(h>-1){const{encapsulation:m}=o.data[d.directiveStart+h];if(m===Le.None||m===Le.Emulated)return null}return Ar(d,u)}}(o,c.parent,u)}function V2(o,c,u,d,h){o.insertBefore(c,u,d,h)}function Nm(o,c,u){o.appendChild(c,u)}function i8(o,c,u,d,h){null!==d?V2(o,c,u,d,h):Nm(o,c,u)}function Gl(o,c){return o.parentNode(c)}function X4(o,c,u){return Pm(o,c,u)}let L2,Wl,eu,Pm=function r8(o,c,u){return 40&o.type?Ar(o,u):null};function Ff(o,c,u,d){const h=$l(o,d,c),m=c[11],C=X4(d.parent||c[6],d,c);if(null!=h)if(Array.isArray(u))for(let S=0;S<u.length;S++)i8(m,h,u[S],C,!1);else i8(m,h,u,C,!1)}function Bf(o,c){if(null!==c){const u=c.type;if(3&u)return Ar(c,o);if(4&u)return o8(-1,o[c.index]);if(8&u){const d=c.child;if(null!==d)return Bf(o,d);{const h=o[c.index];return zi(h)?o8(-1,h):On(h)}}if(32&u)return Bl(c,o)()||On(o[c.index]);{const d=Fm(o,c);return null!==d?Array.isArray(d)?d[0]:Bf(I2(o[16]),d):Bf(o,c.next)}}return null}function Fm(o,c){return null!==c?o[16][6].projection[c.projection]:null}function o8(o,c){const u=10+o+1;if(u<c.length){const d=c[u],h=d[1].firstChild;if(null!==h)return Bf(d,h)}return c[7]}function c8(o,c,u,d,h,m,y){for(;null!=u;){const C=d[u.index],S=u.type;if(y&&0===c&&(C&&R(On(C),d),u.flags|=2),32!=(32&u.flags))if(8&S)c8(o,c,u.child,d,h,m,!1),D1(c,o,h,C,m);else if(32&S){const T=Bl(u,d);let k;for(;k=T();)D1(c,o,h,k,m);D1(c,o,h,C,m)}else 16&S?l8(o,c,d,u,h,m):D1(c,o,h,C,m);u=y?u.projectionNext:u.next}}function J4(o,c,u,d,h,m){c8(u,d,o.firstChild,c,h,m,!1)}function l8(o,c,u,d,h,m){const y=u[16],S=y[6].projection[d.projection];if(Array.isArray(S))for(let T=0;T<S.length;T++)D1(c,o,h,S[T],m);else c8(o,c,S,y[3],h,m,!0)}function Uf(o,c,u){""===u?o.removeAttribute(c,"class"):o.setAttribute(c,"class",u)}function ja(o,c,u){const{mergedAttrs:d,classes:h,styles:m}=u;null!==d&&w2(o,c,d),null!==h&&Uf(o,c,h),null!==m&&function u8(o,c,u){o.setAttribute(c,"style",u)}(o,c,m)}function I1(o){return function jf(){if(void 0===L2&&(L2=null,Pt.trustedTypes))try{L2=Pt.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return L2}()?.createHTML(o)||o}function Um(o){Wl=o}function tu(){if(void 0===eu&&(eu=null,Pt.trustedTypes))try{eu=Pt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return eu}function Gf(o){return tu()?.createHTML(o)||o}function ql(o){return tu()?.createScriptURL(o)||o}class Nc{constructor(c){this.changingThisBreaksApplicationSecurity=c}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${at})`}}class lC extends Nc{getTypeName(){return"HTML"}}class f8 extends Nc{getTypeName(){return"Style"}}class $m extends Nc{getTypeName(){return"Script"}}class Gm extends Nc{getTypeName(){return"URL"}}class Wm extends Nc{getTypeName(){return"ResourceURL"}}function $a(o){return o instanceof Nc?o.changingThisBreaksApplicationSecurity:o}function Yl(o,c){const u=function nu(o){return o instanceof Nc&&o.getTypeName()||null}(o);if(null!=u&&u!==c){if("ResourceURL"===u&&"URL"===c)return!0;throw new Error(`Required a safe ${c}, got a ${u} (see ${at})`)}return u===c}function Wf(o){return new lC(o)}function qf(o){return new f8(o)}function uC(o){return new $m(o)}function fC(o){return new Gm(o)}function d8(o){return new Wm(o)}class AV{constructor(c){this.inertDocumentHelper=c}getInertBodyElement(c){c="<body><remove></remove>"+c;try{const u=(new window.DOMParser).parseFromString(I1(c),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(c):(u.removeChild(u.firstChild),u)}catch{return null}}}class VV{constructor(c){if(this.defaultDoc=c,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const d=this.inertDocument.createElement("body");u.appendChild(d)}}getInertBodyElement(c){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=I1(c),u;const d=this.inertDocument.createElement("body");return d.innerHTML=I1(c),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(c){const u=c.attributes;for(let h=u.length-1;0<h;h--){const y=u.item(h).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&c.removeAttribute(y)}let d=c.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const kV=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Zl(o){return(o=String(o)).match(kV)?o:"unsafe:"+o}function k2(o){const c={};for(const u of o.split(","))c[u]=!0;return c}function iu(...o){const c={};for(const u of o)for(const d in u)u.hasOwnProperty(d)&&(c[d]=!0);return c}const qm=k2("area,br,col,hr,img,wbr"),Yf=k2("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),eo=k2("rp,rt"),p8=iu(qm,iu(Yf,k2("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),iu(eo,k2("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),iu(eo,Yf)),Kf=k2("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ym=iu(Kf,k2("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),k2("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Kl=k2("script,style,template");class ru{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(c){let u=c.firstChild,d=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?d=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,d&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let h=this.checkClobberedElement(u,u.nextSibling);if(h){u=h;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(c){const u=c.nodeName.toLowerCase();if(!p8.hasOwnProperty(u))return this.sanitizedSomething=!0,!Kl.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const d=c.attributes;for(let h=0;h<d.length;h++){const m=d.item(h),y=m.name,C=y.toLowerCase();if(!Ym.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let S=m.value;Kf[C]&&(S=Zl(S)),this.buf.push(" ",y,'="',Ql(S),'"')}return this.buf.push(">"),!0}endElement(c){const u=c.nodeName.toLowerCase();p8.hasOwnProperty(u)&&!qm.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(c){this.buf.push(Ql(c))}checkClobberedElement(c,u){if(u&&(c.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${c.outerHTML}`);return u}}const hC=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,pC=/([^\#-~ |!])/g;function Ql(o){return o.replace(/&/g,"&amp;").replace(hC,function(c){return"&#"+(1024*(c.charCodeAt(0)-55296)+(c.charCodeAt(1)-56320)+65536)+";"}).replace(pC,function(c){return"&#"+c.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let V1;function Zm(o,c){let u=null;try{V1=V1||function h8(o){const c=new VV(o);return function LV(){try{return!!(new window.DOMParser).parseFromString(I1(""),"text/html")}catch{return!1}}()?new AV(c):c}(o);let d=c?String(c):"";u=V1.getInertBodyElement(d);let h=5,m=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=m,m=u.innerHTML,u=V1.getInertBodyElement(d)}while(d!==m);return I1((new ru).sanitizeChildren(g8(u)||u))}finally{if(u){const d=g8(u)||u;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function g8(o){return"content"in o&&function mC(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var Pi=(()=>((Pi=Pi||{})[Pi.NONE=0]="NONE",Pi[Pi.HTML=1]="HTML",Pi[Pi.STYLE=2]="STYLE",Pi[Pi.SCRIPT=3]="SCRIPT",Pi[Pi.URL=4]="URL",Pi[Pi.RESOURCE_URL=5]="RESOURCE_URL",Pi))();function Km(o){const c=su();return c?Gf(c.sanitize(Pi.HTML,o)||""):Yl(o,"HTML")?Gf($a(o)):Zm(function $f(){return void 0!==Wl?Wl:typeof document<"u"?document:void 0}(),Se(o))}function Qm(o){const c=su();return c?c.sanitize(Pi.URL,o)||"":Yl(o,"URL")?$a(o):Zl(Se(o))}function Xm(o){const c=su();if(c)return ql(c.sanitize(Pi.RESOURCE_URL,o)||"");if(Yl(o,"ResourceURL"))return ql($a(o));throw new xe(904,!1)}function Jm(o,c,u){return function _C(o,c){return"src"===c&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===c&&("base"===o||"link"===o)?Xm:Qm}(c,u)(o)}function su(){const o=ke();return o&&o[12]}const v8=new Tn("ENVIRONMENT_INITIALIZER"),e9=new Tn("INJECTOR",-1),t9=new Tn("INJECTOR_DEF_TYPES");class n9{get(c,u=ui){if(u===ui){const d=new Error(`NullInjectorError: No provider for ${me(c)}!`);throw d.name="NullInjectorError",d}return u}}function i9(o){return{\u0275providers:o}}function vC(...o){return{\u0275providers:Xf(0,o),\u0275fromNgModule:!0}}function Xf(o,...c){const u=[],d=new Set;let h;return Qt(c,m=>{const y=m;ou(y,u,[],d)&&(h||(h=[]),h.push(y))}),void 0!==h&&y8(h,u),u}function y8(o,c){for(let u=0;u<o.length;u++){const{providers:h}=o[u];b8(h,m=>{c.push(m)})}}function ou(o,c,u,d){if(!(o=ne(o)))return!1;let h=null,m=ti(o);const y=!m&&gn(o);if(m||y){if(y&&!y.standalone)return!1;h=o}else{const S=o.ngModule;if(m=ti(S),!m)return!1;h=S}const C=d.has(h);if(y){if(C)return!1;if(d.add(h),y.dependencies){const S="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const T of S)ou(T,c,u,d)}}else{if(!m)return!1;{if(null!=m.imports&&!C){let T;d.add(h);try{Qt(m.imports,k=>{ou(k,c,u,d)&&(T||(T=[]),T.push(k))})}finally{}void 0!==T&&y8(T,c)}if(!C){const T=Xr(h)||(()=>new h);c.push({provide:h,useFactory:T,deps:Ke},{provide:t9,useValue:h,multi:!0},{provide:v8,useValue:()=>qe(h),multi:!0})}const S=m.providers;null==S||C||b8(S,k=>{c.push(k)})}}return h!==o&&void 0!==o.providers}function b8(o,c){for(let u of o)Ae(u)&&(u=u.\u0275providers),Array.isArray(u)?b8(u,c):c(u)}const yC=ye({provide:String,useValue:ye});function C8(o){return null!==o&&"object"==typeof o&&yC in o}function L1(o){return"function"==typeof o}const Jl=new Tn("Set Injector scope."),Rc={},o9={};let Pc;function cu(){return void 0===Pc&&(Pc=new n9),Pc}class Oc{}class a9 extends Oc{constructor(c,u,d,h){super(),this.parent=u,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,S8(c,y=>this.processProvider(y)),this.records.set(e9,e3(void 0,this)),h.has("environment")&&this.records.set(Oc,e3(void 0,this));const m=this.records.get(Jl);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(t9.multi,Ke,ct.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();for(const c of this._onDestroyHooks)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(c){this._onDestroyHooks.push(c)}runInContext(c){this.assertNotDestroyed();const u=Ji(this),d=li(void 0);try{return c()}finally{Ji(u),li(d)}}get(c,u=ui,d=ct.Default){this.assertNotDestroyed(),d=Vt(d);const h=Ji(this),m=li(void 0);try{if(!(d&ct.SkipSelf)){let C=this.records.get(c);if(void 0===C){const S=function MC(o){return"function"==typeof o||"object"==typeof o&&o instanceof Tn}(c)&&Ui(c);C=S&&this.injectableDefInScope(S)?e3(w8(c),Rc):null,this.records.set(c,C)}if(null!=C)return this.hydrate(c,C)}return(d&ct.Self?cu():this.parent).get(c,u=d&ct.Optional&&u===ui?null:u)}catch(y){if("NullInjectorError"===y.name){if((y[Dr]=y[Dr]||[]).unshift(me(c)),h)throw y;return function W(o,c,u,d){const h=o[Dr];throw c[Qr]&&h.unshift(c[Qr]),o.message=function J(o,c,u,d=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let h=me(c);if(Array.isArray(c))h=c.map(me).join(" -> ");else if("object"==typeof c){let m=[];for(let y in c)if(c.hasOwnProperty(y)){let C=c[y];m.push(y+":"+("string"==typeof C?JSON.stringify(C):me(C)))}h=`{${m.join(", ")}}`}return`${u}${d?"("+d+")":""}[${h}]: ${o.replace(Kr,"\n  ")}`}("\n"+o.message,h,u,d),o.ngTokenPath=h,o[Dr]=null,o}(y,c,"R3InjectorError",this.source)}throw y}finally{li(m),Ji(h)}}resolveInjectorInitializers(){const c=Ji(this),u=li(void 0);try{const d=this.get(v8.multi,Ke,ct.Self);for(const h of d)h()}finally{Ji(c),li(u)}}toString(){const c=[],u=this.records;for(const d of u.keys())c.push(me(d));return`R3Injector[${c.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new xe(205,!1)}processProvider(c){let u=L1(c=ne(c))?c:ne(c&&c.provide);const d=function bC(o){return C8(o)?e3(void 0,o.useValue):e3(M8(o),Rc)}(c);if(L1(c)||!0!==c.multi)this.records.get(u);else{let h=this.records.get(u);h||(h=e3(void 0,Rc,!0),h.factory=()=>Nt(h.multi),this.records.set(u,h)),u=c,h.multi.push(c)}this.records.set(u,d)}hydrate(c,u){return u.value===Rc&&(u.value=o9,u.value=u.factory()),"object"==typeof u.value&&u.value&&function wC(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(c){if(!c.providedIn)return!1;const u=ne(c.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function w8(o){const c=Ui(o),u=null!==c?c.factory:Xr(o);if(null!==u)return u;if(o instanceof Tn)throw new xe(204,!1);if(o instanceof Function)return function xC(o){const c=o.length;if(c>0)throw Zs(c,"?"),new xe(204,!1);const u=function Os(o){const c=o&&(o[Er]||o[En]);if(c){const u=function ds(o){if(o.hasOwnProperty("name"))return o.name;const c=(""+o).match(/^function\s*([^\s(]+)/);return null===c?"":c[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),c}return null}(o);return null!==u?()=>u.factory(o):()=>new o}(o);throw new xe(204,!1)}function M8(o,c,u){let d;if(L1(o)){const h=ne(o);return Xr(h)||w8(h)}if(C8(o))d=()=>ne(o.useValue);else if(function au(o){return!(!o||!o.useFactory)}(o))d=()=>o.useFactory(...Nt(o.deps||[]));else if(function r9(o){return!(!o||!o.useExisting)}(o))d=()=>qe(ne(o.useExisting));else{const h=ne(o&&(o.useClass||o.provide));if(!function CC(o){return!!o.deps}(o))return Xr(h)||w8(h);d=()=>new h(...Nt(o.deps))}return d}function e3(o,c,u=!1){return{factory:o,value:c,multi:u?[]:void 0}}function S8(o,c){for(const u of o)Array.isArray(u)?S8(u,c):u&&Ae(u)?S8(u.\u0275providers,c):c(u)}class SC{}class c9{}class f9{resolveComponentFactory(c){throw function l9(o){const c=Error(`No component factory found for ${me(o)}. Did you add it to @NgModule.entryComponents?`);return c.ngComponent=o,c}(c)}}let Jf=(()=>{class o{}return o.NULL=new f9,o})();function d9(){return Fc(Ni(),ke())}function Fc(o,c){return new lu(Ar(o,c))}let lu=(()=>{class o{constructor(u){this.nativeElement=u}}return o.__NG_ELEMENT_ID__=d9,o})();function DC(o){return o instanceof lu?o.nativeElement:o}class h9{}let TC=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function IC(){const o=ke(),u=Jr(Ni().index,o);return(Wi(u)?u:o)[11]}(),o})(),p9=(()=>{class o{}return o.\u0275prov=St({token:o,providedIn:"root",factory:()=>null}),o})();class ed{constructor(c){this.full=c,this.major=c.split(".")[0],this.minor=c.split(".")[1],this.patch=c.split(".").slice(2).join(".")}}const E8=new ed("15.0.1"),D8={};function T8(o){return o.ngOriginalError}class uu{constructor(){this._console=console}handleError(c){const u=this._findOriginalError(c);this._console.error("ERROR",c),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(c){let u=c&&T8(c);for(;u&&T8(u);)u=T8(u);return u||null}}function H2(o){return o instanceof Function?o():o}function y9(o,c,u){let d=o.length;for(;;){const h=o.indexOf(c,u);if(-1===h)return h;if(0===h||o.charCodeAt(h-1)<=32){const m=c.length;if(h+m===d||o.charCodeAt(h+m)<=32)return h}u=h+1}}const x9="ng-template";function b9(o,c,u){let d=0;for(;d<o.length;){let h=o[d++];if(u&&"class"===h){if(h=o[d],-1!==y9(h.toLowerCase(),c,0))return!0}else if(1===h){for(;d<o.length&&"string"==typeof(h=o[d++]);)if(h.toLowerCase()===c)return!0;return!1}}return!1}function Bn(o){return 4===o.type&&o.value!==x9}function NC(o,c,u){return c===(4!==o.type||u?o.value:x9)}function id(o,c,u){let d=4;const h=o.attrs||[],m=function jV(o){for(let c=0;c<o.length;c++)if(po(o[c]))return c;return o.length}(h);let y=!1;for(let C=0;C<c.length;C++){const S=c[C];if("number"!=typeof S){if(!y)if(4&d){if(d=2|1&d,""!==S&&!NC(o,S,u)||""===S&&1===c.length){if(wo(d))return!1;y=!0}}else{const T=8&d?S:c[++C];if(8&d&&null!==o.attrs){if(!b9(o.attrs,T,u)){if(wo(d))return!1;y=!0}continue}const B=RC(8&d?"class":S,h,Bn(o),u);if(-1===B){if(wo(d))return!1;y=!0;continue}if(""!==T){let X;X=B>m?"":h[B+1].toLowerCase();const ae=8&d?X:null;if(ae&&-1!==y9(ae,T,0)||2&d&&T!==X){if(wo(d))return!1;y=!0}}}}else{if(!y&&!wo(d)&&!wo(S))return!1;if(y&&wo(S))continue;y=!1,d=S|1&d}}return wo(d)||y}function wo(o){return 0==(1&o)}function RC(o,c,u,d){if(null===c)return-1;let h=0;if(d||!u){let m=!1;for(;h<c.length;){const y=c[h];if(y===o)return h;if(3===y||6===y)m=!0;else{if(1===y||2===y){let C=c[++h];for(;"string"==typeof C;)C=c[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=m?1:2}return-1}return function PC(o,c){let u=o.indexOf(4);if(u>-1)for(u++;u<o.length;){const d=o[u];if("number"==typeof d)return-1;if(d===c)return u;u++}return-1}(c,o)}function I8(o,c,u=!1){for(let d=0;d<c.length;d++)if(id(o,c[d],u))return!0;return!1}function A8(o,c){e:for(let u=0;u<c.length;u++){const d=c[u];if(o.length===d.length){for(let h=0;h<o.length;h++)if(o[h]!==d[h])continue e;return!0}}return!1}function V8(o,c){return o?":not("+c.trim()+")":c}function n3(o){let c=o[0],u=1,d=2,h="",m=!1;for(;u<o.length;){let y=o[u];if("string"==typeof y)if(2&d){const C=o[++u];h+="["+y+(C.length>0?'="'+C+'"':"")+"]"}else 8&d?h+="."+y:4&d&&(h+=" "+y);else""!==h&&!wo(y)&&(c+=V8(m,h),h=""),d=y,m=m||!wo(d);u++}return""!==h&&(c+=V8(m,h)),c}const $t={};function rd(o){w9(rn(),ke(),Kn()+o,!1)}function w9(o,c,u,d){if(!d)if(3==(3&c[2])){const m=o.preOrderCheckHooks;null!==m&&ka(c,m,u)}else{const m=o.preOrderHooks;null!==m&&Bo(c,m,0,u)}Gs(u)}function E9(o,c=null,u=null,d){const h=jC(o,c,u,d);return h.resolveInjectorInitializers(),h}function jC(o,c=null,u=null,d,h=new Set){const m=[u||Ke,vC(o)];return d=d||("object"==typeof o?void 0:me(o)),new a9(m,c||cu(),d||null,h)}let ta=(()=>{class o{static create(u,d){if(Array.isArray(u))return E9({name:""},d,u,"");{const h=u.name??"";return E9({name:h},u.parent,u.providers,h)}}}return o.THROW_IF_NOT_FOUND=ui,o.NULL=new n9,o.\u0275prov=St({token:o,providedIn:"any",factory:()=>qe(e9)}),o.__NG_ELEMENT_ID__=-1,o})();function s3(o,c=ct.Default){const u=ke();return null===u?qe(o,c):S2(Ni(),u,ne(o),c)}function pi(){throw new Error("invalid")}function fu(o,c){return o<<17|c<<2}function So(o){return o>>17&32767}function ld(o){return 2|o}function Ga(o){return(131068&o)>>2}function ud(o,c){return-131069&o|c<<2}function fd(o){return 1|o}function _u(o,c){const u=o.contentQueries;if(null!==u)for(let d=0;d<u.length;d+=2){const h=u[d],m=u[d+1];if(-1!==m){const y=o.data[m];T4(h),y.contentQueries(2,c[m],m)}}}function c3(o,c,u,d,h,m,y,C,S,T,k){const B=c.blueprint.slice();return B[0]=h,B[2]=76|d,(null!==k||o&&1024&o[2])&&(B[2]|=1024),y2(B),B[3]=B[15]=o,B[8]=u,B[10]=y||o&&o[10],B[11]=C||o&&o[11],B[12]=S||o&&o[12]||null,B[9]=T||o&&o[9]||null,B[6]=m,B[20]=function Nf(){return zf++}(),B[21]=k,B[16]=2==c.type?o[16]:B,B}function l3(o,c,u,d,h){let m=o.data[c];if(null===m)m=function yu(o,c,u,d,h){const m=fo(),y=bl(),S=o.data[c]=function vd(o,c,u,d,h,m){return{type:u,index:d,insertBeforeIndex:null,injectorIndex:c?c.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:c,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?m:m&&m.parent,u,c,d,h);return null===o.firstChild&&(o.firstChild=S),null!==m&&(y?null==m.child&&null!==S.parent&&(m.child=S):null===m.next&&(m.next=S)),S}(o,c,u,d,h),function wl(){return lt.lFrame.inI18n}()&&(m.flags|=32);else if(64&m.type){m.type=u,m.value=d,m.attrs=h;const y=function Vs(){const o=lt.lFrame,c=o.currentTNode;return o.isParent?c:c.parent}();m.injectorIndex=null===y?-1:y.injectorIndex}return Vr(m,!0),m}function xu(o,c,u,d){if(0===u)return-1;const h=c.length;for(let m=0;m<u;m++)c.push(d),o.blueprint.push(d),o.data.push(null);return h}function u3(o,c,u){I4(c);try{const d=o.viewQuery;null!==d&&X8(1,d,u);const h=o.template;null!==h&&$8(o,c,h,1,u),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&_u(o,c),o.staticViewQueries&&X8(2,o.viewQuery,u);const m=o.components;null!==m&&function vu(o,c){for(let u=0;u<c.length;u++)sL(o,c[u])}(c,m)}catch(d){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),d}finally{c[2]&=-5,wi()}}function bu(o,c,u,d){const h=c[2];if(128!=(128&h)){I4(c);try{y2(c),function Cl(o){return lt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==u&&$8(o,c,u,2,d);const y=3==(3&h);if(y){const T=o.preOrderCheckHooks;null!==T&&ka(c,T,null)}else{const T=o.preOrderHooks;null!==T&&Bo(c,T,0,null),p1(c,0)}if(function rL(o){for(let c=A2(o);null!==c;c=E1(c)){if(!c[2])continue;const u=c[9];for(let d=0;d<u.length;d++){const h=u[d],m=h[3];0==(512&h[2])&&dc(m,1),h[2]|=512}}}(c),function Or(o){for(let c=A2(o);null!==c;c=E1(c))for(let u=10;u<c.length;u++){const d=c[u],h=d[1];Va(d)&&bu(h,d,h.template,d[8])}}(c),null!==o.contentQueries&&_u(o,c),y){const T=o.contentCheckHooks;null!==T&&ka(c,T)}else{const T=o.contentHooks;null!==T&&Bo(c,T,1),p1(c,1)}!function gu(o,c){const u=o.hostBindingOpCodes;if(null!==u)try{for(let d=0;d<u.length;d++){const h=u[d];if(h<0)Gs(~h);else{const m=h,y=u[++d],C=u[++d];Ml(y,m),C(2,c[m])}}}finally{Gs(-1)}}(o,c);const C=o.components;null!==C&&function a3(o,c){for(let u=0;u<c.length;u++)cw(o,c[u])}(c,C);const S=o.viewQuery;if(null!==S&&X8(2,S,d),y){const T=o.viewCheckHooks;null!==T&&ka(c,T)}else{const T=o.viewHooks;null!==T&&Bo(c,T,2),p1(c,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),c[2]&=-41,512&c[2]&&(c[2]&=-513,dc(c[3],-1))}finally{wi()}}}function $8(o,c,u,d,h){const m=Kn(),y=2&d;try{Gs(-1),y&&c.length>22&&w9(o,c,22,!1),u(d,h)}finally{Gs(m)}}function _d(o,c,u){if(d2(c)){const h=c.directiveEnd;for(let m=c.directiveStart;m<h;m++){const y=o.data[m];y.contentQueries&&y.contentQueries(1,u[m],m)}}}function N2(o,c,u){!hc()||(function nL(o,c,u,d){const h=u.directiveStart,m=u.directiveEnd;o.firstCreatePass||Mc(u,c),R(d,c);const y=u.initialInputs;for(let C=h;C<m;C++){const S=o.data[C],T=Is(S);T&&ow(c,u,S);const k=y1(c,o,C,u);R(k,c),null!==y&&Su(0,C-h,k,S,0,y),T&&(Jr(u.index,c)[8]=k)}}(o,c,u,Ar(u,c)),64==(64&u.flags)&&Z9(o,c,u))}function W9(o,c,u=Ar){const d=c.localNames;if(null!==d){let h=c.index+1;for(let m=0;m<d.length;m+=2){const y=d[m+1],C=-1===y?u(c,o):o[y];o[h++]=C}}}function tw(o){const c=o.tView;return null===c||c.incompleteFirstPass?o.tView=G8(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):c}function G8(o,c,u,d,h,m,y,C,S,T){const k=22+d,B=k+h,X=function eL(o,c){const u=[];for(let d=0;d<c;d++)u.push(d<o?null:$t);return u}(k,B),ae="function"==typeof T?T():T;return X[1]={type:o,blueprint:X,template:u,queries:null,viewQuery:C,declTNode:c,data:X.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:B,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:S,consts:ae,incompleteFirstPass:!1}}function Cu(o,c,u,d){const h=Eu(c);null===u?h.push(d):(h.push(u),o.firstCreatePass&&h3(o).push(d,h.length-1))}function d3(o,c,u,d){for(let h in o)if(o.hasOwnProperty(h)){u=null===u?{}:u;const m=o[h];null===d?wu(u,c,h,m):d.hasOwnProperty(h)&&wu(u,c,d[h],m)}return u}function wu(o,c,u,d){o.hasOwnProperty(u)?o[u].push(c,d):o[u]=[c,d]}function _s(o,c,u,d,h,m,y,C){const S=Ar(c,u);let k,T=c.inputs;!C&&null!=T&&(k=T[d])?(J8(o,u,k,d,h),ac(c)&&Mu(u,c.index)):3&c.type&&(d=function nw(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(d),h=null!=y?y(h,c.value||"",d):h,m.setProperty(S,d,h))}function Mu(o,c){const u=Jr(c,o);16&u[2]||(u[2]|=32)}function xd(o,c,u,d){let h=!1;if(hc()){const m=null===d?null:{"":-1},y=function iL(o,c){const u=o.directiveRegistry;let d=null,h=null;if(u)for(let m=0;m<u.length;m++){const y=u[m];if(I8(c,y.selectors,!1))if(d||(d=[]),Is(y))if(null!==y.findHostDirectiveDefs){const C=[];h=h||new Map,y.findHostDirectiveDefs(y,C,h),d.unshift(...C,y),K9(o,c,C.length)}else d.unshift(y),K9(o,c,0);else h=h||new Map,y.findHostDirectiveDefs?.(y,d,h),d.push(y)}return null===d?null:[d,h]}(o,u);let C,S;null===y?C=S=null:[C,S]=y,null!==C&&(h=!0,q9(o,c,u,C,m,S)),m&&function q8(o,c,u){if(c){const d=o.localNames=[];for(let h=0;h<c.length;h+=2){const m=u[c[h+1]];if(null==m)throw new xe(-301,!1);d.push(c[h],m)}}}(u,d,m)}return u.mergedAttrs=ks(u.mergedAttrs,u.attrs),h}function q9(o,c,u,d,h,m){for(let T=0;T<d.length;T++)_o(Mc(u,c),o,d[T].type);!function Q9(o,c,u){o.flags|=1,o.directiveStart=c,o.directiveEnd=c+u,o.providerIndexes=c}(u,o.data.length,d.length);for(let T=0;T<d.length;T++){const k=d[T];k.providersResolver&&k.providersResolver(k)}let y=!1,C=!1,S=xu(o,c,d.length,null);for(let T=0;T<d.length;T++){const k=d[T];u.mergedAttrs=ks(u.mergedAttrs,k.hostAttrs),Y8(o,u,c,S,k),sw(S,k,h),null!==k.contentQueries&&(u.flags|=4),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(u.flags|=64);const B=k.type.prototype;!y&&(B.ngOnChanges||B.ngOnInit||B.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(u.index),y=!0),!C&&(B.ngOnChanges||B.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(u.index),C=!0),S++}!function yd(o,c,u){const h=c.directiveEnd,m=o.data,y=c.attrs,C=[];let S=null,T=null;for(let k=c.directiveStart;k<h;k++){const B=m[k],X=u?u.get(B):null,Ce=X?X.outputs:null;S=d3(B.inputs,k,S,X?X.inputs:null),T=d3(B.outputs,k,T,Ce);const Oe=null===S||null===y||Bn(c)?null:Gc(S,k,y);C.push(Oe)}null!==S&&(S.hasOwnProperty("class")&&(c.flags|=8),S.hasOwnProperty("style")&&(c.flags|=16)),c.initialInputs=C,c.inputs=S,c.outputs=T}(o,u,m)}function Z9(o,c,u){const d=u.directiveStart,h=u.directiveEnd,m=u.index,y=function wf(){return lt.lFrame.currentDirectiveIndex}();try{Gs(m);for(let C=d;C<h;C++){const S=o.data[C],T=c[C];Sl(C),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&W8(S,T)}}finally{Gs(-1),Sl(y)}}function W8(o,c){null!==o.hostBindings&&o.hostBindings(1,c)}function K9(o,c,u){c.componentOffset=u,(o.components||(o.components=[])).push(c.index)}function sw(o,c,u){if(u){if(c.exportAs)for(let d=0;d<c.exportAs.length;d++)u[c.exportAs[d]]=o;Is(c)&&(u[""]=o)}}function Y8(o,c,u,d,h){o.data[d]=h;const m=h.factory||(h.factory=Xr(h.type)),y=new Dn(m,Is(h),s3);o.blueprint[d]=y,u[d]=y,function Y9(o,c,u,d,h){const m=h.hostBindings;if(m){let y=o.hostBindingOpCodes;null===y&&(y=o.hostBindingOpCodes=[]);const C=~c.index;(function rw(o){let c=o.length;for(;c>0;){const u=o[--c];if("number"==typeof u&&u<0)return u}return 0})(y)!=C&&y.push(C),y.push(u,d,m)}}(o,c,d,xu(o,u,h.hostVars,$t),h)}function ow(o,c,u){const d=Ar(c,o),h=tw(u),m=o[10],y=Q8(o,c3(o,h,null,u.onPush?32:16,d,c,m,m.createRenderer(d,u),null,null,null));o[c.index]=y}function R2(o,c,u,d,h,m){const y=Ar(o,c);!function Z8(o,c,u,d,h,m,y){if(null==m)o.removeAttribute(c,h,u);else{const C=null==y?Se(m):y(m,d||"",h);o.setAttribute(c,h,C,u)}}(c[11],y,m,o.value,u,d,h)}function Su(o,c,u,d,h,m){const y=m[c];if(null!==y){const C=d.setInput;for(let S=0;S<y.length;){const T=y[S++],k=y[S++],B=y[S++];null!==C?d.setInput(u,B,T,k):u[k]=B}}}function Gc(o,c,u){let d=null,h=0;for(;h<u.length;){const m=u[h];if(0!==m)if(5!==m){if("number"==typeof m)break;if(o.hasOwnProperty(m)){null===d&&(d=[]);const y=o[m];for(let C=0;C<y.length;C+=2)if(y[C]===c){d.push(m,y[C+1],u[h+1]);break}}h+=2}else h+=2;else h+=4}return d}function K8(o,c,u,d){return new Array(o,!0,!1,c,null,0,d,u,null,null)}function cw(o,c){const u=Jr(c,o);if(Va(u)){const d=u[1];48&u[2]?bu(d,u,d.template,u[8]):u[5]>0&&bd(u)}}function bd(o){for(let d=A2(o);null!==d;d=E1(d))for(let h=10;h<d.length;h++){const m=d[h];if(Va(m))if(512&m[2]){const y=m[1];bu(y,m,y.template,m[8])}else m[5]>0&&bd(m)}const u=o[1].components;if(null!==u)for(let d=0;d<u.length;d++){const h=Jr(u[d],o);Va(h)&&h[5]>0&&bd(h)}}function sL(o,c){const u=Jr(c,o),d=u[1];(function oL(o,c){for(let u=c.length;u<o.blueprint.length;u++)c.push(o.blueprint[u])})(d,u),u3(d,u,u[8])}function Q8(o,c){return o[13]?o[14][4]=c:o[13]=c,o[14]=c,c}function X9(o){for(;o;){o[2]|=32;const c=I2(o);if(h2(o)&&!c)return o;o=c}return null}function Cd(o,c,u,d=!0){const h=c[10];h.begin&&h.begin();try{bu(o,c,o.template,u)}catch(y){throw d&&Du(c,y),y}finally{h.end&&h.end()}}function X8(o,c,u){T4(0),c(o,u)}function Eu(o){return o[7]||(o[7]=[])}function h3(o){return o.cleanup||(o.cleanup=[])}function J9(o,c,u){return(null===o||Is(o))&&(u=function Ia(o){for(;Array.isArray(o);){if("object"==typeof o[1])return o;o=o[0]}return null}(u[c.index])),u[11]}function Du(o,c){const u=o[9],d=u?u.get(uu,null):null;d&&d.handleError(c)}function J8(o,c,u,d,h){for(let m=0;m<u.length;){const y=u[m++],C=u[m++],S=c[y],T=o.data[y];null!==T.setInput?T.setInput(S,h,d,C):S[C]=h}}function Tu(o,c,u){let d=u?o.styles:null,h=u?o.classes:null,m=0;if(null!==c)for(let y=0;y<c.length;y++){const C=c[y];"number"==typeof C?m=C:1==m?h=be(h,C):2==m&&(d=be(d,C+": "+c[++y]+";"))}u?o.styles=d:o.stylesWithoutHost=d,u?o.classes=h:o.classesWithoutHost=h}function wd(o,c,u,d,h=!1){for(;null!==u;){const m=c[u.index];if(null!==m&&d.push(On(m)),zi(m))for(let C=10;C<m.length;C++){const S=m[C],T=S[1].firstChild;null!==T&&wd(S[1],S,T,d)}const y=u.type;if(8&y)wd(o,c,u.child,d);else if(32&y){const C=Bl(u,c);let S;for(;S=C();)d.push(S)}else if(16&y){const C=Fm(c,u);if(Array.isArray(C))d.push(...C);else{const S=I2(c[16]);wd(S[1],S,C,d,!0)}}u=h?u.projectionNext:u.next}return d}class p3{constructor(c,u){this._lView=c,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const c=this._lView,u=c[1];return wd(u,c,u.firstChild,[])}get context(){return this._lView[8]}set context(c){this._lView[8]=c}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const c=this._lView[3];if(zi(c)){const u=c[8],d=u?u.indexOf(this):-1;d>-1&&(t8(c,d),Ys(u,d))}this._attachedToViewContainer=!1}Hm(this._lView[1],this._lView)}onDestroy(c){Cu(this._lView[1],this._lView,null,c)}markForCheck(){X9(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Cd(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new xe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function jl(o,c){J4(o,c,c[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(c){if(this._attachedToViewContainer)throw new xe(902,!1);this._appRef=c}}class fw extends p3{constructor(c){super(c),this._view=c}detectChanges(){const c=this._view;Cd(c[1],c,c[8],!1)}checkNoChanges(){}get context(){return null}}class Md extends Jf{constructor(c){super(),this.ngModule=c}resolveComponentFactory(c){const u=gn(c);return new Iu(u,this.ngModule)}}function Sd(o){const c=[];for(let u in o)o.hasOwnProperty(u)&&c.push({propName:o[u],templateName:u});return c}class eg{constructor(c,u){this.injector=c,this.parentInjector=u}get(c,u,d){d=Vt(d);const h=this.injector.get(c,D8,d);return h!==D8||u===D8?h:this.parentInjector.get(c,u,d)}}class Iu extends c9{constructor(c,u){super(),this.componentDef=c,this.ngModule=u,this.componentType=c.type,this.selector=function $V(o){return o.map(n3).join(",")}(c.selectors),this.ngContentSelectors=c.ngContentSelectors?c.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return Sd(this.componentDef.inputs)}get outputs(){return Sd(this.componentDef.outputs)}create(c,u,d,h){let m=(h=h||this.ngModule)instanceof Oc?h:h?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const y=m?new eg(c,m):c,C=y.get(h9,null);if(null===C)throw new xe(407,!1);const S=y.get(p9,null),T=C.createRenderer(null,this.componentDef),k=this.componentDef.selectors[0][0]||"div",B=d?function f3(o,c,u){return o.selectRootElement(c,u===Le.ShadowDom)}(T,d,this.componentDef.encapsulation):e8(T,k,function dw(o){const c=o.toLowerCase();return"svg"===c?"svg":"math"===c?"math":null}(k)),X=this.componentDef.onPush?288:272,ae=G8(0,null,null,1,0,null,null,null,null,null),Ce=c3(null,ae,null,X,null,null,C,T,S,y,null);let Oe,Xe;I4(Ce);try{const ft=this.componentDef;let Lt,Re=null;ft.findHostDirectiveDefs?(Lt=[],Re=new Map,ft.findHostDirectiveDefs(ft,Lt,Re),Lt.push(ft)):Lt=[ft];const jt=function t5(o,c){const u=o[1];return o[22]=c,l3(u,22,2,"#host",null)}(Ce,B),zn=function tg(o,c,u,d,h,m,y,C){const S=h[1];!function hw(o,c,u,d){for(const h of o)c.mergedAttrs=ks(c.mergedAttrs,h.hostAttrs);null!==c.mergedAttrs&&(Tu(c,c.mergedAttrs,!0),null!==u&&ja(d,u,c))}(d,o,c,y);const T=m.createRenderer(c,u),k=c3(h,tw(u),null,u.onPush?32:16,h[o.index],o,m,T,C||null,null,null);return S.firstCreatePass&&K9(S,o,d.length-1),Q8(h,k),h[o.index]=k}(jt,B,ft,Lt,Ce,C,T);Xe=l1(ae,22),B&&function pw(o,c,u,d){if(d)w2(o,u,["ng-version",E8.full]);else{const{attrs:h,classes:m}=function C9(o){const c=[],u=[];let d=1,h=2;for(;d<o.length;){let m=o[d];if("string"==typeof m)2===h?""!==m&&c.push(m,o[++d]):8===h&&u.push(m);else{if(!wo(h))break;h=m}d++}return{attrs:c,classes:u}}(c.selectors[0]);h&&w2(o,u,h),m&&m.length>0&&Uf(o,u,m.join(" "))}}(T,ft,B,d),void 0!==u&&function ng(o,c,u){const d=o.projection=[];for(let h=0;h<c.length;h++){const m=u[h];d.push(null!=m?Array.from(m):null)}}(Xe,this.ngContentSelectors,u),Oe=function m3(o,c,u,d,h,m){const y=Ni(),C=h[1],S=Ar(y,h);q9(C,h,y,u,null,d);for(let k=0;k<u.length;k++)R(y1(h,C,y.directiveStart+k,y),h);Z9(C,h,y),S&&R(S,h);const T=y1(h,C,y.directiveStart+y.componentOffset,y);if(o[8]=h[8]=T,null!==m)for(const k of m)k(T,c);return _d(C,y,o),T}(zn,ft,Lt,Re,Ce,[mw]),u3(ae,Ce,null)}finally{wi()}return new e5(this.componentType,Oe,Fc(Xe,Ce),Ce,Xe)}}class e5 extends SC{constructor(c,u,d,h,m){super(),this.location=d,this._rootLView=h,this._tNode=m,this.instance=u,this.hostView=this.changeDetectorRef=new fw(h),this.componentType=c}setInput(c,u){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[c])){const m=this._rootLView;J8(m[1],m,h,c,u),Mu(m,this._tNode.index)}}get injector(){return new E2(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(c){this.hostView.onDestroy(c)}}function mw(){const o=Ni();si(ke()[1],o)}function Ed(o){let c=function Au(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),u=!0;const d=[o];for(;c;){let h;if(Is(o))h=c.\u0275cmp||c.\u0275dir;else{if(c.\u0275cmp)throw new xe(903,!1);h=c.\u0275dir}if(h){if(u){d.push(h);const y=o;y.inputs=Dd(o.inputs),y.declaredInputs=Dd(o.declaredInputs),y.outputs=Dd(o.outputs);const C=h.hostBindings;C&&n5(o,C);const S=h.viewQuery,T=h.contentQueries;if(S&&_w(o,S),T&&lL(o,T),ce(o.inputs,h.inputs),ce(o.declaredInputs,h.declaredInputs),ce(o.outputs,h.outputs),Is(h)&&h.data.animation){const k=o.data;k.animation=(k.animation||[]).concat(h.data.animation)}}const m=h.features;if(m)for(let y=0;y<m.length;y++){const C=m[y];C&&C.ngInherit&&C(o),C===Ed&&(u=!1)}}c=Object.getPrototypeOf(c)}!function gw(o){let c=0,u=null;for(let d=o.length-1;d>=0;d--){const h=o[d];h.hostVars=c+=h.hostVars,h.hostAttrs=ks(h.hostAttrs,u=ks(u,h.hostAttrs))}}(d)}function Dd(o){return o===dt?{}:o===Ke?[]:o}function _w(o,c){const u=o.viewQuery;o.viewQuery=u?(d,h)=>{c(d,h),u(d,h)}:c}function lL(o,c){const u=o.contentQueries;o.contentQueries=u?(d,h,m)=>{c(d,h,m),u(d,h,m)}:c}function n5(o,c){const u=o.hostBindings;o.hostBindings=u?(d,h)=>{c(d,h),u(d,h)}:c}let Td=null;function P2(){if(!Td){const o=Pt.Symbol;if(o&&o.iterator)Td=o.iterator;else{const c=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<c.length;++u){const d=c[u];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Td=d)}}}return Td}function Vu(o){return!!Lu(o)&&(Array.isArray(o)||!(o instanceof Map)&&P2()in o)}function Lu(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function no(o,c,u){return o[c]=u}function Fr(o,c,u){return!Object.is(o[c],u)&&(o[c]=u,!0)}function Id(o,c,u,d){const h=ke();return Fr(h,x2(),c)&&(rn(),R2(Cn(),h,o,c,u,d)),Id}function v3(o,c,u,d){return Fr(o,x2(),u)?c+Se(u)+d:$t}function fg(o,c,u,d,h,m,y,C){const S=ke(),T=rn(),k=o+22,B=T.firstCreatePass?function Sw(o,c,u,d,h,m,y,C,S){const T=c.consts,k=l3(c,o,4,y||null,uo(T,C));xd(c,u,k,uo(T,S)),si(c,k);const B=k.tViews=G8(2,k,d,h,m,c.directiveRegistry,c.pipeRegistry,null,c.schemas,T);return null!==c.queries&&(c.queries.template(c,k),B.queries=c.queries.embeddedTView(k)),k}(k,T,S,c,u,d,h,m,y):T.data[k];Vr(B,!1);const X=S[11].createComment("");Ff(T,S,X,B),R(X,S),Q8(S,S[k]=K8(X,S,X,B)),Ts(B)&&N2(T,S,B),null!=y&&W9(S,B,C)}function dg(o){return As(function S4(){return lt.lFrame.contextLView}(),22+o)}function hg(o,c,u){const d=ke();return Fr(d,x2(),c)&&_s(rn(),Cn(),d,o,c,d[11],u,!1),hg}function pg(o,c,u,d,h){const y=h?"class":"style";J8(o,u,c.inputs[y],y,d)}function Vd(o,c,u,d){const h=ke(),m=rn(),y=22+o,C=h[11],S=h[y]=e8(C,c,function V4(){return lt.lFrame.currentNamespace}()),T=m.firstCreatePass?function uL(o,c,u,d,h,m,y){const C=c.consts,T=l3(c,o,2,h,uo(C,m));return xd(c,u,T,uo(C,y)),null!==T.attrs&&Tu(T,T.attrs,!1),null!==T.mergedAttrs&&Tu(T,T.mergedAttrs,!0),null!==c.queries&&c.queries.elementStart(c,T),T}(y,m,h,0,c,u,d):m.data[y];return Vr(T,!0),ja(C,S,T),32!=(32&T.flags)&&Ff(m,h,S,T),0===function yl(){return lt.lFrame.elementDepthCount}()&&R(S,h),function Cf(){lt.lFrame.elementDepthCount++}(),Ts(T)&&(N2(m,h,T),_d(m,T,h)),null!==d&&W9(h,T),Vd}function a5(){let o=Ni();bl()?ho():(o=o.parent,Vr(o,!1));const c=o;!function w4(){lt.lFrame.elementDepthCount--}();const u=rn();return u.firstCreatePass&&(si(u,o),d2(o)&&u.queries.elementEnd(o)),null!=c.classesWithoutHost&&function L4(o){return 0!=(8&o.flags)}(c)&&pg(u,c,ke(),c.classesWithoutHost,!0),null!=c.stylesWithoutHost&&function k4(o){return 0!=(16&o.flags)}(c)&&pg(u,c,ke(),c.stylesWithoutHost,!1),a5}function mg(o,c,u,d){return Vd(o,c,u,d),a5(),mg}function Si(o,c,u){const d=ke(),h=rn(),m=o+22,y=h.firstCreatePass?function fL(o,c,u,d,h){const m=c.consts,y=uo(m,d),C=l3(c,o,8,"ng-container",y);return null!==y&&Tu(C,y,!0),xd(c,u,C,uo(m,h)),null!==c.queries&&c.queries.elementStart(c,C),C}(m,h,d,c,u):h.data[m];Vr(y,!0);const C=d[m]=d[11].createComment("");return Ff(h,d,C,y),R(C,d),Ts(y)&&(N2(h,d,y),_d(h,y,d)),null!=u&&W9(d,y),Si}function F(){let o=Ni();const c=rn();return bl()?ho():(o=o.parent,Vr(o,!1)),c.firstCreatePass&&(si(c,o),d2(o)&&c.queries.elementEnd(o)),F}function c5(){return ke()}function Ld(o){return!!o&&"function"==typeof o.then}function gg(o){return!!o&&"function"==typeof o.subscribe}const _g=gg;function l5(o,c,u,d){const h=ke(),m=rn(),y=Ni();return kd(m,h,h[11],y,o,c,d),l5}function Jn(o,c){const u=Ni(),d=ke(),h=rn();return kd(h,d,J9(D4(h.data),u,d),u,o,c),Jn}function kd(o,c,u,d,h,m,y){const C=Ts(d),T=o.firstCreatePass&&h3(o),k=c[8],B=Eu(c);let X=!0;if(3&d.type||y){const Oe=Ar(d,c),Xe=y?y(Oe):Oe,ft=B.length,Lt=y?jt=>y(On(jt[d.index])):d.index;let Re=null;if(!y&&C&&(Re=function u5(o,c,u,d){const h=o.cleanup;if(null!=h)for(let m=0;m<h.length-1;m+=2){const y=h[m];if(y===u&&h[m+1]===d){const C=c[7],S=h[m+2];return C.length>S?C[S]:null}"string"==typeof y&&(m+=2)}return null}(o,c,h,d.index)),null!==Re)(Re.__ngLastListenerFn__||Re).__ngNextListenerFn__=m,Re.__ngLastListenerFn__=m,X=!1;else{m=yg(d,c,k,m,!1);const jt=u.listen(Xe,h,m);B.push(m,jt),T&&T.push(h,Lt,ft,ft+1)}}else m=yg(d,c,k,m,!1);const ae=d.outputs;let Ce;if(X&&null!==ae&&(Ce=ae[h])){const Oe=Ce.length;if(Oe)for(let Xe=0;Xe<Oe;Xe+=2){const zn=c[Ce[Xe]][Ce[Xe+1]].subscribe(m),Un=B.length;B.push(m,zn),T&&T.push(h,d.index,Un,-(Un+1))}}}function vg(o,c,u,d){try{return!1!==u(d)}catch(h){return Du(o,h),!1}}function yg(o,c,u,d,h){return function m(y){if(y===Function)return d;X9(o.componentOffset>-1?Jr(o.index,c):c);let S=vg(c,0,d,y),T=m.__ngNextListenerFn__;for(;T;)S=vg(c,0,T,y)&&S,T=T.__ngNextListenerFn__;return h&&!1===S&&(y.preventDefault(),y.returnValue=!1),S}}function xg(o=1){return function Dl(o){return(lt.lFrame.contextLView=function vc(o,c){for(;o>0;)c=c[15],o--;return c}(o,lt.lFrame.contextLView))[8]}(o)}function Dw(o,c){let u=null;const d=function UV(o){const c=o.attrs;if(null!=c){const u=c.indexOf(5);if(0==(1&u))return c[u+1]}return null}(o);for(let h=0;h<c.length;h++){const m=c[h];if("*"!==m){if(null===d?I8(o,m,!0):A8(d,m))return h}else u=h}return u}function bg(o){const c=ke()[16][6];if(!c.projection){const d=c.projection=Zs(o?o.length:1,null),h=d.slice();let m=c.child;for(;null!==m;){const y=o?Dw(m,o):0;null!==y&&(h[y]?h[y].projectionNext=m:d[y]=m,h[y]=m),m=m.next}}}function f5(o,c=0,u){const d=ke(),h=rn(),m=l3(h,22+o,16,null,u||null);null===m.projection&&(m.projection=c),ho(),32!=(32&m.flags)&&function rC(o,c,u){l8(c[11],0,c,u,$l(o,u,c),X4(u.parent||c[6],u,c))}(h,d,m)}function Hd(o,c,u){return d5(o,"",c,"",u),Hd}function d5(o,c,u,d,h){const m=ke(),y=v3(m,c,u,d);return y!==$t&&_s(rn(),Cn(),m,o,y,m[11],h,!1),d5}function ts(o,c,u,d,h){const m=o[u+1],y=null===c;let C=d?So(m):Ga(m),S=!1;for(;0!==C&&(!1===S||y);){const k=o[C+1];Tw(o[C],c)&&(S=!0,o[C+1]=d?fd(k):ld(k)),C=d?So(k):Ga(k)}S&&(o[u+1]=d?ld(m):fd(m))}function Tw(o,c){return null===o||null==c||(Array.isArray(o)?o[1]:o)===c||!(!Array.isArray(o)||"string"!=typeof c)&&ut(o,c)>=0}function _5(o,c,u){return sa(o,c,u,!1),_5}function v5(o,c){return sa(o,c,null,!0),v5}function sa(o,c,u,d){const h=ke(),m=rn(),y=function $s(o){const c=lt.lFrame,u=c.bindingIndex;return c.bindingIndex=c.bindingIndex+o,u}(2);m.firstUpdatePass&&function Eo(o,c,u,d){const h=o.data;if(null===h[u+1]){const m=h[Kn()],y=function Lg(o,c){return c>=o.expandoStartIndex}(o,u);(function x5(o,c){return 0!=(o.flags&(c?8:16))})(m,d)&&null===c&&!y&&(c=!1),c=function y5(o,c,u,d){const h=D4(o);let m=d?c.residualClasses:c.residualStyles;if(null===h)0===(d?c.classBindings:c.styleBindings)&&(u=x3(u=Pd(null,o,c,u,d),c.attrs,d),m=null);else{const y=c.directiveStylingLast;if(-1===y||o[y]!==h)if(u=Pd(h,o,c,u,d),null===m){let S=function kg(o,c,u){const d=u?c.classBindings:c.styleBindings;if(0!==Ga(d))return o[So(d)]}(o,c,d);void 0!==S&&Array.isArray(S)&&(S=Pd(null,o,c,S[1],d),S=x3(S,c.attrs,d),function Hg(o,c,u,d){o[So(u?c.classBindings:c.styleBindings)]=d}(o,c,d,S))}else m=function kw(o,c,u){let d;const h=c.directiveEnd;for(let m=1+c.directiveStylingLast;m<h;m++)d=x3(d,o[m].hostAttrs,u);return x3(d,c.attrs,u)}(o,c,d)}return void 0!==m&&(d?c.residualClasses=m:c.residualStyles=m),u}(h,m,c,d),function Fu(o,c,u,d,h,m){let y=m?c.classBindings:c.styleBindings,C=So(y),S=Ga(y);o[d]=u;let k,T=!1;if(Array.isArray(u)){const B=u;k=B[1],(null===k||ut(B,k)>0)&&(T=!0)}else k=u;if(h)if(0!==S){const X=So(o[C+1]);o[d+1]=fu(X,C),0!==X&&(o[X+1]=ud(o[X+1],d)),o[C+1]=function L9(o,c){return 131071&o|c<<17}(o[C+1],d)}else o[d+1]=fu(C,0),0!==C&&(o[C+1]=ud(o[C+1],d)),C=d;else o[d+1]=fu(S,0),0===C?C=d:o[S+1]=ud(o[S+1],d),S=d;T&&(o[d+1]=ld(o[d+1])),ts(o,k,d,!0),ts(o,k,d,!1),function Bu(o,c,u,d,h){const m=h?o.residualClasses:o.residualStyles;null!=m&&"string"==typeof c&&ut(m,c)>=0&&(u[d+1]=fd(u[d+1]))}(c,k,o,d,m),y=fu(C,S),m?c.classBindings=y:c.styleBindings=y}(h,m,c,u,y,d)}}(m,o,y,d),c!==$t&&Fr(h,y,c)&&function Za(o,c,u,d,h,m,y,C){if(!(3&c.type))return;const S=o.data,T=S[C+1];Fd(function du(o){return 1==(1&o)}(T)?Od(S,c,u,h,Ga(T),y):void 0)||(Fd(m)||function O8(o){return 2==(2&o)}(T)&&(m=Od(S,null,u,h,C,y)),function Bm(o,c,u,d,h){if(c)h?o.addClass(u,d):o.removeClass(u,d);else{let m=-1===d.indexOf("-")?void 0:Co.DashCase;null==h?o.removeStyle(u,d,m):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),m|=Co.Important),o.setStyle(u,d,h,m))}}(d,y,Aa(Kn(),u),h,m))}(m,m.data[Kn()],h,h[11],o,h[y+1]=function Nw(o,c){return null==o||("string"==typeof c?o+=c:"object"==typeof o&&(o=me($a(o)))),o}(c,u),d,y)}function Pd(o,c,u,d,h){let m=null;const y=u.directiveEnd;let C=u.directiveStylingLast;for(-1===C?C=u.directiveStart:C++;C<y&&(m=c[C],d=x3(d,m.hostAttrs,h),m!==o);)C++;return null!==o&&(u.directiveStylingLast=C),d}function x3(o,c,u){const d=u?1:2;let h=-1;if(null!==c)for(let m=0;m<c.length;m++){const y=c[m];"number"==typeof y?h=y:h===d&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),Hr(o,y,!!u||c[++m]))}return void 0===o?null:o}function Od(o,c,u,d,h,m){const y=null===c;let C;for(;h>0;){const S=o[h],T=Array.isArray(S),k=T?S[1]:S,B=null===k;let X=u[h+1];X===$t&&(X=B?Ke:void 0);let ae=B?Qs(X,d):k===d?X:void 0;if(T&&!Fd(ae)&&(ae=Qs(S,d)),Fd(ae)&&(C=ae,y))return C;const Ce=o[h+1];h=y?So(Ce):Ga(Ce)}if(null!==c){let S=m?c.residualClasses:c.residualStyles;null!=S&&(C=Qs(S,d))}return C}function Fd(o){return void 0!==o}function Ng(o,c=""){const u=ke(),d=rn(),h=o+22,m=d.firstCreatePass?l3(d,h,1,c,null):d.data[h],y=u[h]=function Im(o,c){return o.createText(c)}(u[11],c);Ff(d,u,y,m),Vr(m,!1)}function Br(o){return qc("",o,""),Br}function qc(o,c,u){const d=ke(),h=v3(d,o,c,u);return h!==$t&&function z1(o,c,u){const d=Aa(c,o);!function Am(o,c,u){o.setValue(c,u)}(o[11],d,u)}(d,Kn(),h),qc}function $u(o,c,u){const d=ke();return Fr(d,x2(),c)&&_s(rn(),Cn(),d,o,c,d[11],u,!0),$u}function S5(o,c,u){const d=ke();if(Fr(d,x2(),c)){const m=rn(),y=Cn();_s(m,y,d,o,c,J9(D4(m.data),y,d),u,!0)}return S5}const Do=void 0;var qw=["en",[["a","p"],["AM","PM"],Do],[["AM","PM"],Do,Do],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Do,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Do,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Do,"{1} 'at' {0}",Do],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Yg(o){const u=Math.floor(Math.abs(o)),d=o.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===d?1:5}];let w3={};function E5(o){const c=function Yw(o){return o.toLowerCase().replace(/_/g,"-")}(o);let u=Kg(c);if(u)return u;const d=c.split("-")[0];if(u=Kg(d),u)return u;if("en"===d)return qw;throw new xe(701,!1)}function Zg(o){return E5(o)[It.PluralCase]}function Kg(o){return o in w3||(w3[o]=Pt.ng&&Pt.ng.common&&Pt.ng.common.locales&&Pt.ng.common.locales[o]),w3[o]}var It=(()=>((It=It||{})[It.LocaleId=0]="LocaleId",It[It.DayPeriodsFormat=1]="DayPeriodsFormat",It[It.DayPeriodsStandalone=2]="DayPeriodsStandalone",It[It.DaysFormat=3]="DaysFormat",It[It.DaysStandalone=4]="DaysStandalone",It[It.MonthsFormat=5]="MonthsFormat",It[It.MonthsStandalone=6]="MonthsStandalone",It[It.Eras=7]="Eras",It[It.FirstDayOfWeek=8]="FirstDayOfWeek",It[It.WeekendRange=9]="WeekendRange",It[It.DateFormat=10]="DateFormat",It[It.TimeFormat=11]="TimeFormat",It[It.DateTimeFormat=12]="DateTimeFormat",It[It.NumberSymbols=13]="NumberSymbols",It[It.NumberFormats=14]="NumberFormats",It[It.CurrencyCode=15]="CurrencyCode",It[It.CurrencySymbol=16]="CurrencySymbol",It[It.CurrencyName=17]="CurrencyName",It[It.Currencies=18]="Currencies",It[It.Directionality=19]="Directionality",It[It.PluralCase=20]="PluralCase",It[It.ExtraData=21]="ExtraData",It))();const M3="en-US";let Xg=M3;function v_(o,c,u,d,h){if(o=ne(o),Array.isArray(o))for(let m=0;m<o.length;m++)v_(o[m],c,u,d,h);else{const m=rn(),y=ke();let C=L1(o)?o:ne(o.provide),S=M8(o);const T=Ni(),k=1048575&T.providerIndexes,B=T.directiveStart,X=T.providerIndexes>>20;if(L1(o)||!o.multi){const ae=new Dn(S,h,s3),Ce=x_(C,c,h?k:k+X,B);-1===Ce?(_o(Mc(T,y),m,C),y_(m,o,c.length),c.push(C),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),u.push(ae),y.push(ae)):(u[Ce]=ae,y[Ce]=ae)}else{const ae=x_(C,c,k+X,B),Ce=x_(C,c,k,k+X),Oe=ae>=0&&u[ae],Xe=Ce>=0&&u[Ce];if(h&&!Xe||!h&&!Oe){_o(Mc(T,y),m,C);const ft=function OL(o,c,u,d,h){const m=new Dn(o,u,s3);return m.multi=[],m.index=c,m.componentProviders=0,MM(m,h,d&&!u),m}(h?PL:RL,u.length,h,d,S);!h&&Xe&&(u[Ce].providerFactory=ft),y_(m,o,c.length,0),c.push(C),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),u.push(ft),y.push(ft)}else y_(m,o,ae>-1?ae:Ce,MM(u[h?Ce:ae],S,!h&&d));!h&&d&&Xe&&u[Ce].componentProviders++}}}function y_(o,c,u,d){const h=L1(c),m=function s9(o){return!!o.useClass}(c);if(h||m){const S=(m?ne(c.useClass):c).prototype.ngOnDestroy;if(S){const T=o.destroyHooks||(o.destroyHooks=[]);if(!h&&c.multi){const k=T.indexOf(u);-1===k?T.push(u,[d,S]):T[k+1].push(d,S)}else T.push(u,S)}}}function MM(o,c,u){return u&&o.componentProviders++,o.multi.push(c)-1}function x_(o,c,u,d){for(let h=u;h<d;h++)if(c[h]===o)return h;return-1}function RL(o,c,u,d){return b_(this.multi,[])}function PL(o,c,u,d){const h=this.multi;let m;if(this.providerFactory){const y=this.providerFactory.componentProviders,C=y1(u,u[1],this.providerFactory.index,d);m=C.slice(0,y),b_(h,m);for(let S=y;S<C.length;S++)m.push(C[S])}else m=[],b_(h,m);return m}function b_(o,c){for(let u=0;u<o.length;u++)c.push((0,o[u])());return c}function SM(o,c=[]){return u=>{u.providersResolver=(d,h)=>function NL(o,c,u){const d=rn();if(d.firstCreatePass){const h=Is(o);v_(u,d.data,d.blueprint,h,!0),v_(c,d.data,d.blueprint,h,!1)}}(d,h?h(o):o,c)}}class Zu{}class EM{}function FL(o,c){return new DM(o,c??null)}class DM extends Zu{constructor(c,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Md(this);const d=tr(c);this._bootstrapComponents=H2(d.bootstrap),this._r3Injector=jC(c,u,[{provide:Zu,useValue:this},{provide:Jf,useValue:this.componentFactoryResolver}],me(c),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(c)}get injector(){return this._r3Injector}destroy(){const c=this._r3Injector;!c.destroyed&&c.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(c){this.destroyCbs.push(c)}}class C_ extends EM{constructor(c){super(),this.moduleType=c}create(c){return new DM(this.moduleType,c)}}class BL extends Zu{constructor(c,u,d){super(),this.componentFactoryResolver=new Md(this),this.instance=null;const h=new a9([...c,{provide:Zu,useValue:this},{provide:Jf,useValue:this.componentFactoryResolver}],u||cu(),d,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(c){this.injector.onDestroy(c)}}function w_(o,c,u=null){return new BL(o,c,u).injector}let UL=(()=>{class o{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const d=Xf(0,u.type),h=d.length>0?w_([d],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,h)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=St({token:o,providedIn:"environment",factory:()=>new o(qe(Oc))}),o})();function TM(o){o.getStandaloneInjector=c=>c.get(UL).getOrCreateStandaloneInjector(o)}function zM(o,c,u,d){return vr(ke(),nr(),o,c,u,d)}function NM(o,c,u,d,h){return E_(ke(),nr(),o,c,u,d,h)}function Ku(o,c){const u=o[c];return u===$t?void 0:u}function vr(o,c,u,d,h,m){const y=c+u;return Fr(o,y,h)?no(o,y+1,m?d.call(m,h):d(h)):Ku(o,y+1)}function E_(o,c,u,d,h,m,y){const C=c+u;return function g3(o,c,u,d){const h=Fr(o,c,u);return Fr(o,c+1,d)||h}(o,C,h,m)?no(o,C+2,y?d.call(y,h,m):d(h,m)):Ku(o,C+2)}function T_(o,c){const u=rn();let d;const h=o+22;u.firstCreatePass?(d=function RM(o,c){if(c)for(let u=c.length-1;u>=0;u--){const d=c[u];if(o===d.name)return d}}(c,u.pipeRegistry),u.data[h]=d,d.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(h,d.onDestroy)):d=u.data[h];const m=d.factory||(d.factory=Xr(d.type)),y=li(s3);try{const C=Wo(!1),S=m();return Wo(C),function Ew(o,c,u,d){u>=o.data.length&&(o.data[u]=null,o.blueprint[u]=null),c[u]=d}(u,ke(),h,S),S}finally{li(y)}}function I_(o,c,u){const d=o+22,h=ke(),m=As(h,d);return O1(h,d)?vr(h,nr(),c,m.transform,u,m):m.transform(u)}function A_(o,c,u,d){const h=o+22,m=ke(),y=As(m,h);return O1(m,h)?E_(m,nr(),c,y.transform,u,d,y):y.transform(u,d)}function O1(o,c){return o[1].data[c].pure}function Xu(o){return c=>{setTimeout(o,void 0,c)}}const ro=class V_ extends a.x{constructor(c=!1){super(),this.__isAsync=c}emit(c){super.next(c)}subscribe(c,u,d){let h=c,m=u||(()=>null),y=d;if(c&&"object"==typeof c){const S=c;h=S.next?.bind(S),m=S.error?.bind(S),y=S.complete?.bind(S)}this.__isAsync&&(m=Xu(m),h&&(h=Xu(h)),y&&(y=Xu(y)));const C=super.subscribe({next:h,error:m,complete:y});return c instanceof $.w0&&c.add(C),C}};function H5(){return this._results[P2()]()}class Ju{constructor(c=!1){this._emitDistinctChangesOnly=c,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=P2(),d=Ju.prototype;d[u]||(d[u]=H5)}get changes(){return this._changes||(this._changes=new ro)}get(c){return this._results[c]}map(c){return this._results.map(c)}filter(c){return this._results.filter(c)}find(c){return this._results.find(c)}reduce(c,u){return this._results.reduce(c,u)}forEach(c){this._results.forEach(c)}some(c){return this._results.some(c)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(c,u){const d=this;d.dirty=!1;const h=Qe(c);(this._changesDetected=!function xo(o,c,u){if(o.length!==c.length)return!1;for(let d=0;d<o.length;d++){let h=o[d],m=c[d];if(u&&(h=u(h),m=u(m)),m!==h)return!1}return!0}(d._results,h,u))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let e6=(()=>{class o{}return o.__NG_ELEMENT_ID__=jM,o})();const BM=e6,UM=class extends BM{constructor(c,u,d){super(),this._declarationLView=c,this._declarationTContainer=u,this.elementRef=d}createEmbeddedView(c,u){const d=this._declarationTContainer.tViews,h=c3(this._declarationLView,d,c,16,null,d.declTNode,null,null,null,null,u||null);h[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(h[19]=y.createEmbeddedView(d)),u3(d,h,c),new p3(h)}};function jM(){return Kd(Ni(),ke())}function Kd(o,c){return 4&o.type?new UM(c,o,Fc(o,c)):null}let F1=(()=>{class o{}return o.__NG_ELEMENT_ID__=L_,o})();function L_(){return H_(Ni(),ke())}const Qd=F1,z5=class extends Qd{constructor(c,u,d){super(),this._lContainer=c,this._hostTNode=u,this._hostLView=d}get element(){return Fc(this._hostTNode,this._hostLView)}get injector(){return new E2(this._hostTNode,this._hostLView)}get parentInjector(){const c=Pa(this._hostTNode,this._hostLView);if($o(c)){const u=Ra(c,this._hostLView),d=Go(c);return new E2(u[1].data[d+8],u)}return new E2(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(c){const u=k_(this._lContainer);return null!==u&&u[c]||null}get length(){return this._lContainer.length-10}createEmbeddedView(c,u,d){let h,m;"number"==typeof d?h=d:null!=d&&(h=d.index,m=d.injector);const y=c.createEmbeddedView(u||{},m);return this.insert(y,h),y}createComponent(c,u,d,h,m){const y=c&&!function yo(o){return"function"==typeof o}(c);let C;if(y)C=u;else{const B=u||{};C=B.index,d=B.injector,h=B.projectableNodes,m=B.environmentInjector||B.ngModuleRef}const S=y?c:new Iu(gn(c)),T=d||this.parentInjector;if(!m&&null==S.ngModule){const X=(y?T:this.parentInjector).get(Oc,null);X&&(m=X)}const k=S.create(T,h,void 0,m);return this.insert(k.hostView,C),k}insert(c,u){const d=c._lView,h=d[1];if(function v2(o){return zi(o[3])}(d)){const k=this.indexOf(c);if(-1!==k)this.detach(k);else{const B=d[3],X=new z5(B,B[6],B[3]);X.detach(X.indexOf(c))}}const m=this._adjustIndex(u),y=this._lContainer;!function Lm(o,c,u,d){const h=10+d,m=u.length;d>0&&(u[h-1][4]=c),d<m-10?(c[4]=u[h],Qn(u,10+d,c)):(u.push(c),c[4]=null),c[3]=u;const y=c[17];null!==y&&u!==y&&function km(o,c){const u=o[9];c[16]!==c[3][3][16]&&(o[2]=!0),null===u?o[9]=[c]:u.push(c)}(y,c);const C=c[19];null!==C&&C.insertView(o),c[2]|=64}(h,d,y,m);const C=o8(m,y),S=d[11],T=Gl(S,y[7]);return null!==T&&function Q4(o,c,u,d,h,m){d[0]=h,d[6]=c,J4(o,d,u,1,h,m)}(h,y[6],S,d,T,C),c.attachToViewContainerRef(),Qn(N5(y),m,c),c}move(c,u){return this.insert(c,u)}indexOf(c){const u=k_(this._lContainer);return null!==u?u.indexOf(c):-1}remove(c){const u=this._adjustIndex(c,-1),d=t8(this._lContainer,u);d&&(Ys(N5(this._lContainer),u),Hm(d[1],d))}detach(c){const u=this._adjustIndex(c,-1),d=t8(this._lContainer,u);return d&&null!=Ys(N5(this._lContainer),u)?new p3(d):null}_adjustIndex(c,u=0){return c??this.length+u}};function k_(o){return o[8]}function N5(o){return o[8]||(o[8]=[])}function H_(o,c){let u;const d=c[o.index];if(zi(d))u=d;else{let h;if(8&o.type)h=On(d);else{const m=c[11];h=m.createComment("");const y=Ar(o,c);V2(m,Gl(m,y),h,function zc(o,c){return o.nextSibling(c)}(m,y),!1)}c[o.index]=u=K8(d,c,h,o),Q8(c,u)}return new z5(u,o,c)}class Xd{constructor(c){this.queryList=c,this.matches=null}clone(){return new Xd(this.queryList)}setDirty(){this.queryList.setDirty()}}class t6{constructor(c=[]){this.queries=c}createEmbeddedView(c){const u=c.queries;if(null!==u){const d=null!==c.contentQueries?c.contentQueries[0]:u.length,h=[];for(let m=0;m<d;m++){const y=u.getByIndex(m);h.push(this.queries[y.indexInDeclarationView].clone())}return new t6(h)}return null}insertView(c){this.dirtyQueriesWithMatches(c)}detachView(c){this.dirtyQueriesWithMatches(c)}dirtyQueriesWithMatches(c){for(let u=0;u<this.queries.length;u++)null!==$5(c,u).matches&&this.queries[u].setDirty()}}class R5{constructor(c,u,d=null){this.predicate=c,this.flags=u,this.read=d}}class Yc{constructor(c=[]){this.queries=c}elementStart(c,u){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(c,u)}elementEnd(c){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(c)}embeddedTView(c){let u=null;for(let d=0;d<this.length;d++){const h=null!==u?u.length:0,m=this.getByIndex(d).embeddedTView(c,h);m&&(m.indexInDeclarationView=d,null!==u?u.push(m):u=[m])}return null!==u?new Yc(u):null}template(c,u){for(let d=0;d<this.queries.length;d++)this.queries[d].template(c,u)}getByIndex(c){return this.queries[c]}get length(){return this.queries.length}track(c){this.queries.push(c)}}class P5{constructor(c,u=-1){this.metadata=c,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(c,u){this.isApplyingToNode(u)&&this.matchTNode(c,u)}elementEnd(c){this._declarationNodeIndex===c.index&&(this._appliesToNextNode=!1)}template(c,u){this.elementStart(c,u)}embeddedTView(c,u){return this.isApplyingToNode(c)?(this.crossesNgTemplate=!0,this.addMatch(-c.index,u),new P5(this.metadata)):null}isApplyingToNode(c){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let d=c.parent;for(;null!==d&&8&d.type&&d.index!==u;)d=d.parent;return u===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(c,u){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const m=d[h];this.matchTNodeWithReadOption(c,u,O5(u,m)),this.matchTNodeWithReadOption(c,u,Oa(u,c,m,!1,!1))}else d===e6?4&u.type&&this.matchTNodeWithReadOption(c,u,-1):this.matchTNodeWithReadOption(c,u,Oa(u,c,d,!1,!1))}matchTNodeWithReadOption(c,u,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===lu||h===F1||h===e6&&4&u.type)this.addMatch(u.index,-2);else{const m=Oa(u,c,h,!1,!1);null!==m&&this.addMatch(u.index,m)}else this.addMatch(u.index,d)}}addMatch(c,u){null===this.matches?this.matches=[c,u]:this.matches.push(c,u)}}function O5(o,c){const u=o.localNames;if(null!==u)for(let d=0;d<u.length;d+=2)if(u[d]===c)return u[d+1];return null}function GM(o,c,u,d){return-1===u?function F5(o,c){return 11&o.type?Fc(o,c):4&o.type?Kd(o,c):null}(c,o):-2===u?function B5(o,c,u){return u===lu?Fc(c,o):u===e6?Kd(c,o):u===F1?H_(c,o):void 0}(o,c,d):y1(o,o[1],u,c)}function U5(o,c,u,d){const h=c[19].queries[d];if(null===h.matches){const m=o.data,y=u.matches,C=[];for(let S=0;S<y.length;S+=2){const T=y[S];C.push(T<0?null:GM(c,m[T],y[S+1],u.metadata.read))}h.matches=C}return h.matches}function Jd(o,c,u,d){const h=o.queries.getByIndex(u),m=h.matches;if(null!==m){const y=U5(o,c,h,u);for(let C=0;C<m.length;C+=2){const S=m[C];if(S>0)d.push(y[C/2]);else{const T=m[C+1],k=c[-S];for(let B=10;B<k.length;B++){const X=k[B];X[17]===X[3]&&Jd(X[1],X,T,d)}if(null!==k[9]){const B=k[9];for(let X=0;X<B.length;X++){const ae=B[X];Jd(ae[1],ae,T,d)}}}}}return d}function e0(o){const c=ke(),u=rn(),d=d1();T4(d+1);const h=$5(u,d);if(o.dirty&&function _2(o){return 4==(4&o[2])}(c)===(2==(2&h.metadata.flags))){if(null===h.matches)o.reset([]);else{const m=h.crossesNgTemplate?Jd(u,c,d,[]):U5(u,c,h,d);o.reset(m,DC),o.notifyOnChanges()}return!0}return!1}function R_(o,c,u){const d=rn();d.firstCreatePass&&(r0(d,new R5(o,c,u),-1),2==(2&c)&&(d.staticViewQueries=!0)),n0(d,ke(),c)}function P_(o,c,u,d){const h=rn();if(h.firstCreatePass){const m=Ni();r0(h,new R5(c,u,d),m.index),function j5(o,c){const u=o.contentQueries||(o.contentQueries=[]);c!==(u.length?u[u.length-1]:-1)&&u.push(o.queries.length-1,c)}(h,o),2==(2&u)&&(h.staticContentQueries=!0)}n0(h,ke(),u)}function O_(){return function t0(o,c){return o[19].queries[c].queryList}(ke(),d1())}function n0(o,c,u){const d=new Ju(4==(4&u));Cu(o,c,d,d.destroy),null===c[19]&&(c[19]=new t6),c[19].queries.push(new Xd(d))}function r0(o,c,u){null===o.queries&&(o.queries=new Yc),o.queries.track(new P5(c,u))}function $5(o,c){return o.queries.getByIndex(c)}function F_(o,c){return Kd(o,c)}function E3(...o){}const tv=new Tn("Application Initializer");let a0=(()=>{class o{constructor(u){this.appInits=u,this.resolve=E3,this.reject=E3,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const u=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const m=this.appInits[h]();if(Ld(m))u.push(m);else if(_g(m)){const y=new Promise((C,S)=>{m.subscribe({complete:C,error:S})});u.push(y)}}Promise.all(u).then(()=>{d()}).catch(h=>{this.reject(h)}),0===u.length&&d(),this.initialized=!0}}return o.\u0275fac=function(u){return new(u||o)(qe(tv,8))},o.\u0275prov=St({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const Ur=new Tn("AppId",{providedIn:"root",factory:function a6(){return`${e2()}${e2()}${e2()}`}});function e2(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const nv=new Tn("Platform Initializer"),iv=new Tn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),c0=new Tn("appBootstrapListener"),rs=new Tn("AnimationModuleType");let cS=(()=>{class o{log(u){console.log(u)}warn(u){console.warn(u)}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=St({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const c6=new Tn("LocaleId",{providedIn:"root",factory:()=>st(c6,ct.Optional|ct.SkipSelf)||function l0(){return typeof $localize<"u"&&$localize.locale||M3}()}),J5=new Tn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class lS{constructor(c,u){this.ngModuleFactory=c,this.componentFactories=u}}let uS=(()=>{class o{compileModuleSync(u){return new C_(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const d=this.compileModuleSync(u),m=H2(tr(u).declarations).reduce((y,C)=>{const S=gn(C);return S&&y.push(new Iu(S)),y},[]);return new lS(d,m)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=St({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const ip=(()=>Promise.resolve(0))();function l6(o){typeof Zone>"u"?ip.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class To{constructor({enableLongStackTrace:c=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ro(!1),this.onMicrotaskEmpty=new ro(!1),this.onStable=new ro(!1),this.onError=new ro(!1),typeof Zone>"u")throw new xe(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),c&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&u,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function rp(){let o=Pt.requestAnimationFrame,c=Pt.cancelAnimationFrame;if(typeof Zone<"u"&&o&&c){const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u);const d=c[Zone.__symbol__("OriginalDelegate")];d&&(c=d)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function u6(o){const c=()=>{!function hS(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(Pt,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,op(o),o.isCheckStableRunning=!0,u0(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),op(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,d,h,m,y,C)=>{try{return T3(o),u.invokeTask(h,m,y,C)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||o.shouldCoalesceRunChangeDetection)&&c(),ov(o)}},onInvoke:(u,d,h,m,y,C,S)=>{try{return T3(o),u.invoke(h,m,y,C,S)}finally{o.shouldCoalesceRunChangeDetection&&c(),ov(o)}},onHasTask:(u,d,h,m)=>{u.hasTask(h,m),d===h&&("microTask"==m.change?(o._hasPendingMicrotasks=m.microTask,op(o),u0(o)):"macroTask"==m.change&&(o.hasPendingMacrotasks=m.macroTask))},onHandleError:(u,d,h,m)=>(u.handleError(h,m),o.runOutsideAngular(()=>o.onError.emit(m)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!To.isInAngularZone())throw new xe(909,!1)}static assertNotInAngularZone(){if(To.isInAngularZone())throw new xe(909,!1)}run(c,u,d){return this._inner.run(c,u,d)}runTask(c,u,d,h){const m=this._inner,y=m.scheduleEventTask("NgZoneEvent: "+h,c,sp,E3,E3);try{return m.runTask(y,u,d)}finally{m.cancelTask(y)}}runGuarded(c,u,d){return this._inner.runGuarded(c,u,d)}runOutsideAngular(c){return this._outer.run(c)}}const sp={};function u0(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function op(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function T3(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function ov(o){o._nesting--,u0(o)}class pS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ro,this.onMicrotaskEmpty=new ro,this.onStable=new ro,this.onError=new ro}run(c,u,d){return c.apply(u,d)}runGuarded(c,u,d){return c.apply(u,d)}runOutsideAngular(c){return c()}runTask(c,u,d,h){return c.apply(u,d)}}const f6=new Tn(""),f0=new Tn("");let I3,av=(()=>{class o{constructor(u,d,h){this._ngZone=u,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,I3||(function cv(o){I3=o}(h),h.addToWindow(d)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{To.assertNotInAngularZone(),l6(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())l6(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(u)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,d,h){let m=-1;d&&d>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==m),u(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:u,timeoutId:m,updateCb:h})}whenStable(u,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,d,h){return[]}}return o.\u0275fac=function(u){return new(u||o)(qe(To),qe(ap),qe(f0))},o.\u0275prov=St({token:o,factory:o.\u0275fac}),o})(),ap=(()=>{class o{constructor(){this._applications=new Map}registerApplication(u,d){this._applications.set(u,d)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,d=!0){return I3?.findTestabilityInTree(this,u,d)??null}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=St({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})(),t2=null;const d0=new Tn("AllowMultipleToken"),d6=new Tn("PlatformDestroyListeners");class uv{constructor(c,u){this.name=c,this.token=u}}function h0(o,c,u=[]){const d=`Platform: ${c}`,h=new Tn(d);return(m=[])=>{let y=or();if(!y||y.injector.get(d0,!1)){const C=[...u,...m,{provide:h,useValue:!0}];o?o(C):function fv(o){if(t2&&!t2.get(d0,!1))throw new xe(400,!1);t2=o;const c=o.get(h6);(function lp(o){const c=o.get(nv,null);c&&c.forEach(u=>u())})(o)}(function p0(o=[],c){return ta.create({name:c,providers:[{provide:Jl,useValue:"platform"},{provide:d6,useValue:new Set([()=>t2=null])},...o]})}(C,d))}return function up(o){const c=or();if(!c)throw new xe(401,!1);return c}()}}function or(){return t2?.get(h6)??null}let h6=(()=>{class o{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,d){const h=function dv(o,c){let u;return u="noop"===o?new pS:("zone.js"===o?void 0:o)||new To(c),u}(d?.ngZone,function m0(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!o||!o.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!o||!o.ngZoneRunCoalescing)||!1}}(d)),m=[{provide:To,useValue:h}];return h.run(()=>{const y=ta.create({providers:m,parent:this.injector,name:u.moduleType.name}),C=u.create(y),S=C.injector.get(uu,null);if(!S)throw new xe(402,!1);return h.runOutsideAngular(()=>{const T=h.onError.subscribe({next:k=>{S.handleError(k)}});C.onDestroy(()=>{_0(this._modules,C),T.unsubscribe()})}),function hv(o,c,u){try{const d=u();return Ld(d)?d.catch(h=>{throw c.runOutsideAngular(()=>o.handleError(h)),h}):d}catch(d){throw c.runOutsideAngular(()=>o.handleError(d)),d}}(S,h,()=>{const T=C.injector.get(a0);return T.runInitializers(),T.donePromise.then(()=>(function Jg(o){Kt(o,"Expected localeId to be defined"),"string"==typeof o&&(Xg=o.toLowerCase().replace(/_/g,"-"))}(C.injector.get(c6,M3)||M3),this._moduleDoBootstrap(C),C))})})}bootstrapModule(u,d=[]){const h=fp({},d);return function lv(o,c,u){const d=new C_(u);return Promise.resolve(d)}(0,0,u).then(m=>this.bootstrapModuleFactory(m,h))}_moduleDoBootstrap(u){const d=u.injector.get(g0);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!u.instance.ngDoBootstrap)throw new xe(403,!1);u.instance.ngDoBootstrap(d)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new xe(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const u=this._injector.get(d6,null);u&&(u.forEach(d=>d()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(u){return new(u||o)(qe(ta))},o.\u0275prov=St({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function fp(o,c){return Array.isArray(c)?c.reduce(fp,o):{...o,...c}}let g0=(()=>{class o{constructor(u,d,h){this._zone=u,this._injector=d,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new N.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),y=new N.y(C=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{To.assertNotInAngularZone(),l6(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const T=this._zone.onUnstable.subscribe(()=>{To.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{S.unsubscribe(),T.unsubscribe()}});this.isStable=(0,le.T)(m,y.pipe((0,de.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,d){const h=u instanceof c9;if(!this._injector.get(a0).done)throw!h&&ri(u),new xe(405,false);let y;y=h?u:this._injector.get(Jf).resolveComponentFactory(u),this.componentTypes.push(y.componentType);const C=function gS(o){return o.isBoundToModule}(y)?void 0:this._injector.get(Zu),T=y.create(ta.NULL,[],d||y.selector,C),k=T.location.nativeElement,B=T.injector.get(f6,null);return B?.registerApplication(k),T.onDestroy(()=>{this.detachView(T.hostView),_0(this.components,T),B?.unregisterApplication(k)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new xe(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const d=u;this._views.push(d),d.attachToAppRef(this)}detachView(u){const d=u;_0(this._views,d),d.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(c0,[]).concat(this._bootstrapListeners).forEach(h=>h(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>_0(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new xe(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(u){return new(u||o)(qe(To),qe(Oc),qe(uu))},o.\u0275prov=St({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function _0(o,c){const u=o.indexOf(c);u>-1&&o.splice(u,1)}function _S(){return!1}let pp=(()=>{class o{}return o.__NG_ELEMENT_ID__=mp,o})();function mp(o){return function mv(o,c,u){if(ac(o)&&!u){const d=Jr(o.index,c);return new p3(d,d)}return 47&o.type?new p3(c[16],c):null}(Ni(),ke(),16==(16&o))}class M0{constructor(){}supports(c){return Vu(c)}create(c){return new yv(c)}}const vv=(o,c)=>c;class yv{constructor(c){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=c||vv}forEachItem(c){let u;for(u=this._itHead;null!==u;u=u._next)c(u)}forEachOperation(c){let u=this._itHead,d=this._removalsHead,h=0,m=null;for(;u||d;){const y=!d||u&&u.currentIndex<E0(d,h,m)?u:d,C=E0(y,h,m),S=y.currentIndex;if(y===d)h--,d=d._nextRemoved;else if(u=u._next,null==y.previousIndex)h++;else{m||(m=[]);const T=C-h,k=S-h;if(T!=k){for(let X=0;X<T;X++){const ae=X<m.length?m[X]:m[X]=0,Ce=ae+X;k<=Ce&&Ce<T&&(m[X]=ae+1)}m[y.previousIndex]=k-T}}C!==S&&c(y,C,S)}}forEachPreviousItem(c){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)c(u)}forEachAddedItem(c){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)c(u)}forEachMovedItem(c){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)c(u)}forEachRemovedItem(c){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)c(u)}forEachIdentityChange(c){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)c(u)}diff(c){if(null==c&&(c=[]),!Vu(c))throw new xe(900,!1);return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let h,m,y,u=this._itHead,d=!1;if(Array.isArray(c)){this.length=c.length;for(let C=0;C<this.length;C++)m=c[C],y=this._trackByFn(C,m),null!==u&&Object.is(u.trackById,y)?(d&&(u=this._verifyReinsertion(u,m,y,C)),Object.is(u.item,m)||this._addIdentityChange(u,m)):(u=this._mismatch(u,m,y,C),d=!0),u=u._next}else h=0,function xw(o,c){if(Array.isArray(o))for(let u=0;u<o.length;u++)c(o[u]);else{const u=o[P2()]();let d;for(;!(d=u.next()).done;)c(d.value)}}(c,C=>{y=this._trackByFn(h,C),null!==u&&Object.is(u.trackById,y)?(d&&(u=this._verifyReinsertion(u,C,y,h)),Object.is(u.item,C)||this._addIdentityChange(u,C)):(u=this._mismatch(u,C,y,h),d=!0),u=u._next,h++}),this.length=h;return this._truncate(u),this.collection=c,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let c;for(c=this._previousItHead=this._itHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._additionsHead;null!==c;c=c._nextAdded)c.previousIndex=c.currentIndex;for(this._additionsHead=this._additionsTail=null,c=this._movesHead;null!==c;c=c._nextMoved)c.previousIndex=c.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(c,u,d,h){let m;return null===c?m=this._itTail:(m=c._prev,this._remove(c)),null!==(c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(c.item,u)||this._addIdentityChange(c,u),this._reinsertAfter(c,m,h)):null!==(c=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(c.item,u)||this._addIdentityChange(c,u),this._moveAfter(c,m,h)):c=this._addAfter(new m6(u,d),m,h),c}_verifyReinsertion(c,u,d,h){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==m?c=this._reinsertAfter(m,c._prev,h):c.currentIndex!=h&&(c.currentIndex=h,this._addToMoves(c,h)),c}_truncate(c){for(;null!==c;){const u=c._next;this._addToRemovals(this._unlink(c)),c=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(c,u,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(c);const h=c._prevRemoved,m=c._nextRemoved;return null===h?this._removalsHead=m:h._nextRemoved=m,null===m?this._removalsTail=h:m._prevRemoved=h,this._insertAfter(c,u,d),this._addToMoves(c,d),c}_moveAfter(c,u,d){return this._unlink(c),this._insertAfter(c,u,d),this._addToMoves(c,d),c}_addAfter(c,u,d){return this._insertAfter(c,u,d),this._additionsTail=null===this._additionsTail?this._additionsHead=c:this._additionsTail._nextAdded=c,c}_insertAfter(c,u,d){const h=null===u?this._itHead:u._next;return c._next=h,c._prev=u,null===h?this._itTail=c:h._prev=c,null===u?this._itHead=c:u._next=c,null===this._linkedRecords&&(this._linkedRecords=new S0),this._linkedRecords.put(c),c.currentIndex=d,c}_remove(c){return this._addToRemovals(this._unlink(c))}_unlink(c){null!==this._linkedRecords&&this._linkedRecords.remove(c);const u=c._prev,d=c._next;return null===u?this._itHead=d:u._next=d,null===d?this._itTail=u:d._prev=u,c}_addToMoves(c,u){return c.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=c:this._movesTail._nextMoved=c),c}_addToRemovals(c){return null===this._unlinkedRecords&&(this._unlinkedRecords=new S0),this._unlinkedRecords.put(c),c.currentIndex=null,c._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=c,c._prevRemoved=null):(c._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=c),c}_addIdentityChange(c,u){return c.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=c:this._identityChangesTail._nextIdentityChange=c,c}}class m6{constructor(c,u){this.item=c,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class _p{constructor(){this._head=null,this._tail=null}add(c){null===this._head?(this._head=this._tail=c,c._nextDup=null,c._prevDup=null):(this._tail._nextDup=c,c._prevDup=this._tail,c._nextDup=null,this._tail=c)}get(c,u){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===u||u<=d.currentIndex)&&Object.is(d.trackById,c))return d;return null}remove(c){const u=c._prevDup,d=c._nextDup;return null===u?this._head=d:u._nextDup=d,null===d?this._tail=u:d._prevDup=u,null===this._head}}class S0{constructor(){this.map=new Map}put(c){const u=c.trackById;let d=this.map.get(u);d||(d=new _p,this.map.set(u,d)),d.add(c)}get(c,u){const h=this.map.get(c);return h?h.get(c,u):null}remove(c){const u=c.trackById;return this.map.get(u).remove(c)&&this.map.delete(u),c}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function E0(o,c,u){const d=o.previousIndex;if(null===d)return d;let h=0;return u&&d<u.length&&(h=u[d]),d+c+h}class g6{constructor(){}supports(c){return c instanceof Map||Lu(c)}create(){return new _6}}class _6{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(c){let u;for(u=this._mapHead;null!==u;u=u._next)c(u)}forEachPreviousItem(c){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)c(u)}forEachChangedItem(c){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)c(u)}forEachAddedItem(c){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)c(u)}forEachRemovedItem(c){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)c(u)}diff(c){if(c){if(!(c instanceof Map||Lu(c)))throw new xe(900,!1)}else c=new Map;return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(c,(d,h)=>{if(u&&u.key===h)this._maybeAddToChanges(u,d),this._appendAfter=u,u=u._next;else{const m=this._getOrCreateRecordForKey(h,d);u=this._insertBeforeOrAppend(u,m)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let d=u;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(c,u){if(c){const d=c._prev;return u._next=c,u._prev=d,c._prev=u,d&&(d._next=u),c===this._mapHead&&(this._mapHead=u),this._appendAfter=c,c}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(c,u){if(this._records.has(c)){const h=this._records.get(c);this._maybeAddToChanges(h,u);const m=h._prev,y=h._next;return m&&(m._next=y),y&&(y._prev=m),h._next=null,h._prev=null,h}const d=new xv(c);return this._records.set(c,d),d.currentValue=u,this._addToAdditions(d),d}_reset(){if(this.isDirty){let c;for(this._previousMapHead=this._mapHead,c=this._previousMapHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._changesHead;null!==c;c=c._nextChanged)c.previousValue=c.currentValue;for(c=this._additionsHead;null!=c;c=c._nextAdded)c.previousValue=c.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(c,u){Object.is(u,c.currentValue)||(c.previousValue=c.currentValue,c.currentValue=u,this._addToChanges(c))}_addToAdditions(c){null===this._additionsHead?this._additionsHead=this._additionsTail=c:(this._additionsTail._nextAdded=c,this._additionsTail=c)}_addToChanges(c){null===this._changesHead?this._changesHead=this._changesTail=c:(this._changesTail._nextChanged=c,this._changesTail=c)}_forEach(c,u){c instanceof Map?c.forEach(u):Object.keys(c).forEach(d=>u(c[d],d))}}class xv{constructor(c){this.key=c,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function bv(){return new v6([new M0])}let v6=(()=>{class o{constructor(u){this.factories=u}static create(u,d){if(null!=d){const h=d.factories.slice();u=u.concat(h)}return new o(u)}static extend(u){return{provide:o,useFactory:d=>o.create(u,d||bv()),deps:[[o,new Ht,new gt]]}}find(u){const d=this.factories.find(h=>h.supports(u));if(null!=d)return d;throw new xe(901,!1)}}return o.\u0275prov=St({token:o,providedIn:"root",factory:bv}),o})();function D0(){return new T0([new g6])}let T0=(()=>{class o{constructor(u){this.factories=u}static create(u,d){if(d){const h=d.factories.slice();u=u.concat(h)}return new o(u)}static extend(u){return{provide:o,useFactory:d=>o.create(u,d||D0()),deps:[[o,new Ht,new gt]]}}find(u){const d=this.factories.find(h=>h.supports(u));if(d)return d;throw new xe(901,!1)}}return o.\u0275prov=St({token:o,providedIn:"root",factory:D0}),o})();const Mv=h0(null,"core",[]);let A0=(()=>{class o{constructor(u){}}return o.\u0275fac=function(u){return new(u||o)(qe(g0))},o.\u0275mod=wa({type:o}),o.\u0275inj=Sr({}),o})();function y6(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}},3942:(vt,Ee,O)=>{O.d(Ee,{Z:()=>Je});var a=O(2090),$=O(4859),N=O(9681),le=O(1877);class de{constructor(xe,Te){this._delegate=xe,this.firebase=Te,(0,N._addComponent)(xe,new $.wA("app-compat",()=>this,"PUBLIC")),this.container=xe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(xe){this._delegate.automaticDataCollectionEnabled=xe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(xe=>{this._delegate.checkDestroyed(),xe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(xe,Te=N._DEFAULT_ENTRY_NAME){var Se;this._delegate.checkDestroyed();const Pe=this._delegate.container.getProvider(xe);return!Pe.isInitialized()&&"EXPLICIT"===(null===(Se=Pe.getComponent())||void 0===Se?void 0:Se.instantiationMode)&&Pe.initialize(),Pe.getImmediate({identifier:Te})}_removeServiceInstance(xe,Te=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(xe).clearInstance(Te)}_addComponent(xe){(0,N._addComponent)(this._delegate,xe)}_addOrOverwriteComponent(xe){(0,N._addOrOverwriteComponent)(this._delegate,xe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ce=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Q=function be(){const at=function me(at){const xe={},Te={__esModule:!0,initializeApp:function ze(re,pe={}){const we=N.initializeApp(re,pe);if((0,a.r3)(xe,we.name))return xe[we.name];const te=new at(we,Te);return xe[we.name]=te,te},app:Pe,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function Ve(re){const pe=re.name,we=pe.replace("-compat","");if(N._registerComponent(re)&&"PUBLIC"===re.type){const te=(ee=Pe())=>{if("function"!=typeof ee[we])throw ce.create("invalid-app-argument",{appName:pe});return ee[we]()};void 0!==re.serviceProps&&(0,a.ZB)(te,re.serviceProps),Te[we]=te,at.prototype[we]=function(...ee){return this._getService.bind(this,pe).apply(this,re.multipleInstances?ee:[])}}return"PUBLIC"===re.type?Te[we]:null},removeApp:function Se(re){delete xe[re]},useAsService:function Ye(re,pe){return"serverAuth"===pe?null:pe},modularAPIs:N}};function Pe(re){if(!(0,a.r3)(xe,re=re||N._DEFAULT_ENTRY_NAME))throw ce.create("no-app",{appName:re});return xe[re]}return Te.default=Te,Object.defineProperty(Te,"apps",{get:function Ne(){return Object.keys(xe).map(re=>xe[re])}}),Pe.App=at,Te}(de);return at.INTERNAL=Object.assign(Object.assign({},at.INTERNAL),{createFirebaseNamespace:be,extendNamespace:function xe(Te){(0,a.ZB)(at,Te)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),at}(),Y=new le.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){Y.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const at=self.firebase.SDK_VERSION;at&&at.indexOf("LITE")>=0&&Y.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Je=Q;!function Ae(at){(0,N.registerVersion)("@firebase/app-compat","0.2.0",at)}()},9681:(vt,Ee,O)=>{O.r(Ee),O.d(Ee,{FirebaseError:()=>le.ZR,SDK_VERSION:()=>Os,_DEFAULT_ENTRY_NAME:()=>bn,_addComponent:()=>fn,_addOrOverwriteComponent:()=>Ti,_apps:()=>Kt,_clearComponents:()=>Sr,_components:()=>Mt,_getProvider:()=>St,_registerComponent:()=>nn,_removeServiceInstance:()=>Yr,deleteApp:()=>Zr,getApp:()=>ti,getApps:()=>Er,initializeApp:()=>ds,onLog:()=>ct,registerVersion:()=>Ii,setLogLevel:()=>Ai});var a=O(5861),$=O(4859),N=O(1877),le=O(2090),de=O(8766);class ye{constructor(Me){this.container=Me}getPlatformInfoString(){return this.container.getProviders().map(st=>{if(function ce(qe){return"VERSION"===qe.getComponent()?.type}(st)){const Vt=st.getImmediate();return`${Vt.library}/${Vt.version}`}return null}).filter(st=>st).join(" ")}}const me="@firebase/app",Q=new N.Yd("@firebase/app"),bn="[DEFAULT]",zt={[me]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Kt=new Map,Mt=new Map;function fn(qe,Me){try{qe.container.addComponent(Me)}catch(st){Q.debug(`Component ${Me.name} failed to register with FirebaseApp ${qe.name}`,st)}}function Ti(qe,Me){qe.container.addOrOverwriteComponent(Me)}function nn(qe){const Me=qe.name;if(Mt.has(Me))return Q.debug(`There were multiple attempts to register component ${Me}.`),!1;Mt.set(Me,qe);for(const st of Kt.values())fn(st,qe);return!0}function St(qe,Me){const st=qe.container.getProvider("heartbeat").getImmediate({optional:!0});return st&&st.triggerHeartbeat(),qe.container.getProvider(Me)}function Yr(qe,Me,st=bn){St(qe,Me).clearInstance(st)}function Sr(){Mt.clear()}const $n=new le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class fs{constructor(Me,st,Vt){this._isDeleted=!1,this._options=Object.assign({},Me),this._config=Object.assign({},st),this._name=st.name,this._automaticDataCollectionEnabled=st.automaticDataCollectionEnabled,this._container=Vt,this.container.addComponent(new $.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Me){this.checkDestroyed(),this._automaticDataCollectionEnabled=Me}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Me){this._isDeleted=Me}checkDestroyed(){if(this.isDeleted)throw $n.create("app-deleted",{appName:this._name})}}const Os="9.15.0";function ds(qe,Me={}){let st=qe;"object"!=typeof Me&&(Me={name:Me});const Vt=Object.assign({name:bn,automaticDataCollectionEnabled:!1},Me),Nt=Vt.name;if("string"!=typeof Nt||!Nt)throw $n.create("bad-app-name",{appName:String(Nt)});if(st||(st=(0,le.aH)()),!st)throw $n.create("no-options");const an=Kt.get(Nt);if(an){if((0,le.vZ)(st,an.options)&&(0,le.vZ)(Vt,an.config))return an;throw $n.create("duplicate-app",{appName:Nt})}const K=new $.H0(Nt);for(const J of Mt.values())K.addComponent(J);const W=new fs(st,Vt,K);return Kt.set(Nt,W),W}function ti(qe=bn){const Me=Kt.get(qe);if(!Me&&qe===bn)return ds();if(!Me)throw $n.create("no-app",{appName:qe});return Me}function Er(){return Array.from(Kt.values())}function Zr(qe){return En.apply(this,arguments)}function En(){return(En=(0,a.Z)(function*(qe){const Me=qe.name;Kt.has(Me)&&(Kt.delete(Me),yield Promise.all(qe.container.getProviders().map(st=>st.delete())),qe.isDeleted=!0)})).apply(this,arguments)}function Ii(qe,Me,st){var Vt;let Nt=null!==(Vt=zt[qe])&&void 0!==Vt?Vt:qe;st&&(Nt+=`-${st}`);const an=Nt.match(/\s|\//),K=Me.match(/\s|\//);if(an||K){const W=[`Unable to register library "${Nt}" with version "${Me}":`];return an&&W.push(`library name "${Nt}" contains illegal characters (whitespace or "/")`),an&&K&&W.push("and"),K&&W.push(`version name "${Me}" contains illegal characters (whitespace or "/")`),void Q.warn(W.join(" "))}nn(new $.wA(`${Nt}-version`,()=>({library:Nt,version:Me}),"VERSION"))}function ct(qe,Me){if(null!==qe&&"function"!=typeof qe)throw $n.create("invalid-log-argument");(0,N.Am)(qe,Me)}function Ai(qe){(0,N.Ub)(qe)}const ni="firebase-heartbeat-store";let pr=null;function Pt(){return pr||(pr=(0,de.X3)("firebase-heartbeat-database",1,{upgrade:(qe,Me)=>{0===Me&&qe.createObjectStore(ni)}}).catch(qe=>{throw $n.create("idb-open",{originalErrorMessage:qe.message})})),pr}function Rt(){return(Rt=(0,a.Z)(function*(qe){try{return(yield Pt()).transaction(ni).objectStore(ni).get(Rn(qe))}catch(Me){if(Me instanceof le.ZR)Q.warn(Me.message);else{const st=$n.create("idb-get",{originalErrorMessage:Me?.message});Q.warn(st.message)}}})).apply(this,arguments)}function An(qe,Me){return ui.apply(this,arguments)}function ui(){return(ui=(0,a.Z)(function*(qe,Me){try{const Vt=(yield Pt()).transaction(ni,"readwrite");return yield Vt.objectStore(ni).put(Me,Rn(qe)),Vt.done}catch(st){if(st instanceof le.ZR)Q.warn(st.message);else{const Vt=$n.create("idb-set",{originalErrorMessage:st?.message});Q.warn(Vt.message)}}})).apply(this,arguments)}function Rn(qe){return`${qe.name}!${qe.options.appId}`}class Kr{constructor(Me){this.container=Me,this._heartbeatsCache=null;const st=this.container.getProvider("app").getImmediate();this._storage=new Jt(st),this._heartbeatsCachePromise=this._storage.read().then(Vt=>(this._heartbeatsCache=Vt,Vt))}triggerHeartbeat(){var Me=this;return(0,a.Z)(function*(){const Vt=Me.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Nt=qt();if(null===Me._heartbeatsCache&&(Me._heartbeatsCache=yield Me._heartbeatsCachePromise),Me._heartbeatsCache.lastSentHeartbeatDate!==Nt&&!Me._heartbeatsCache.heartbeats.some(an=>an.date===Nt))return Me._heartbeatsCache.heartbeats.push({date:Nt,agent:Vt}),Me._heartbeatsCache.heartbeats=Me._heartbeatsCache.heartbeats.filter(an=>{const K=new Date(an.date).valueOf();return Date.now()-K<=2592e6}),Me._storage.overwrite(Me._heartbeatsCache)})()}getHeartbeatsHeader(){var Me=this;return(0,a.Z)(function*(){if(null===Me._heartbeatsCache&&(yield Me._heartbeatsCachePromise),null===Me._heartbeatsCache||0===Me._heartbeatsCache.heartbeats.length)return"";const st=qt(),{heartbeatsToSend:Vt,unsentEntries:Nt}=function Qr(qe,Me=1024){const st=[];let Vt=qe.slice();for(const Nt of qe){const an=st.find(K=>K.agent===Nt.agent);if(an){if(an.dates.push(Nt.date),Ji(st)>Me){an.dates.pop();break}}else if(st.push({agent:Nt.agent,dates:[Nt.date]}),Ji(st)>Me){st.pop();break}Vt=Vt.slice(1)}return{heartbeatsToSend:st,unsentEntries:Vt}}(Me._heartbeatsCache.heartbeats),an=(0,le.L)(JSON.stringify({version:2,heartbeats:Vt}));return Me._heartbeatsCache.lastSentHeartbeatDate=st,Nt.length>0?(Me._heartbeatsCache.heartbeats=Nt,yield Me._storage.overwrite(Me._heartbeatsCache)):(Me._heartbeatsCache.heartbeats=[],Me._storage.overwrite(Me._heartbeatsCache)),an})()}}function qt(){return(new Date).toISOString().substring(0,10)}class Jt{constructor(Me){this.app=Me,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.Z)(function*(){return!!(0,le.hl)()&&(0,le.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Me=this;return(0,a.Z)(function*(){return(yield Me._canUseIndexedDBPromise)&&(yield function Ct(qe){return Rt.apply(this,arguments)}(Me.app))||{heartbeats:[]}})()}overwrite(Me){var st=this;return(0,a.Z)(function*(){var Vt;if(yield st._canUseIndexedDBPromise){const an=yield st.read();return An(st.app,{lastSentHeartbeatDate:null!==(Vt=Me.lastSentHeartbeatDate)&&void 0!==Vt?Vt:an.lastSentHeartbeatDate,heartbeats:Me.heartbeats})}})()}add(Me){var st=this;return(0,a.Z)(function*(){var Vt;if(yield st._canUseIndexedDBPromise){const an=yield st.read();return An(st.app,{lastSentHeartbeatDate:null!==(Vt=Me.lastSentHeartbeatDate)&&void 0!==Vt?Vt:an.lastSentHeartbeatDate,heartbeats:[...an.heartbeats,...Me.heartbeats]})}})()}}function Ji(qe){return(0,le.L)(JSON.stringify({version:2,heartbeats:qe})).length}!function ii(qe){nn(new $.wA("platform-logger",Me=>new ye(Me),"PRIVATE")),nn(new $.wA("heartbeat",Me=>new Kr(Me),"PRIVATE")),Ii(me,"0.9.0",qe),Ii(me,"0.9.0","esm2017"),Ii("fire-js","")}("")},4859:(vt,Ee,O)=>{O.d(Ee,{H0:()=>me,wA:()=>N,zt:()=>de});var a=O(5861),$=O(2090);class N{constructor(Q,Y,ne){this.name=Q,this.instanceFactory=Y,this.type=ne,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Q){return this.instantiationMode=Q,this}setMultipleInstances(Q){return this.multipleInstances=Q,this}setServiceProps(Q){return this.serviceProps=Q,this}setInstanceCreatedCallback(Q){return this.onInstanceCreated=Q,this}}const le="[DEFAULT]";class de{constructor(Q,Y){this.name=Q,this.container=Y,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Q){const Y=this.normalizeInstanceIdentifier(Q);if(!this.instancesDeferred.has(Y)){const ne=new $.BH;if(this.instancesDeferred.set(Y,ne),this.isInitialized(Y)||this.shouldAutoInitialize())try{const $e=this.getOrInitializeService({instanceIdentifier:Y});$e&&ne.resolve($e)}catch{}}return this.instancesDeferred.get(Y).promise}getImmediate(Q){var Y;const ne=this.normalizeInstanceIdentifier(Q?.identifier),$e=null!==(Y=Q?.optional)&&void 0!==Y&&Y;if(!this.isInitialized(ne)&&!this.shouldAutoInitialize()){if($e)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ne})}catch(Ae){if($e)return null;throw Ae}}getComponent(){return this.component}setComponent(Q){if(Q.name!==this.name)throw Error(`Mismatching Component ${Q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Q,this.shouldAutoInitialize()){if(function ce(be){return"EAGER"===be.instantiationMode}(Q))try{this.getOrInitializeService({instanceIdentifier:le})}catch{}for(const[Y,ne]of this.instancesDeferred.entries()){const $e=this.normalizeInstanceIdentifier(Y);try{const Ae=this.getOrInitializeService({instanceIdentifier:$e});ne.resolve(Ae)}catch{}}}}clearInstance(Q=le){this.instancesDeferred.delete(Q),this.instancesOptions.delete(Q),this.instances.delete(Q)}delete(){var Q=this;return(0,a.Z)(function*(){const Y=Array.from(Q.instances.values());yield Promise.all([...Y.filter(ne=>"INTERNAL"in ne).map(ne=>ne.INTERNAL.delete()),...Y.filter(ne=>"_delete"in ne).map(ne=>ne._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Q=le){return this.instances.has(Q)}getOptions(Q=le){return this.instancesOptions.get(Q)||{}}initialize(Q={}){const{options:Y={}}=Q,ne=this.normalizeInstanceIdentifier(Q.instanceIdentifier);if(this.isInitialized(ne))throw Error(`${this.name}(${ne}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const $e=this.getOrInitializeService({instanceIdentifier:ne,options:Y});for(const[Ae,Je]of this.instancesDeferred.entries())ne===this.normalizeInstanceIdentifier(Ae)&&Je.resolve($e);return $e}onInit(Q,Y){var ne;const $e=this.normalizeInstanceIdentifier(Y),Ae=null!==(ne=this.onInitCallbacks.get($e))&&void 0!==ne?ne:new Set;Ae.add(Q),this.onInitCallbacks.set($e,Ae);const Je=this.instances.get($e);return Je&&Q(Je,$e),()=>{Ae.delete(Q)}}invokeOnInitCallbacks(Q,Y){const ne=this.onInitCallbacks.get(Y);if(ne)for(const $e of ne)try{$e(Q,Y)}catch{}}getOrInitializeService({instanceIdentifier:Q,options:Y={}}){let ne=this.instances.get(Q);if(!ne&&this.component&&(ne=this.component.instanceFactory(this.container,{instanceIdentifier:(be=Q,be===le?void 0:be),options:Y}),this.instances.set(Q,ne),this.instancesOptions.set(Q,Y),this.invokeOnInitCallbacks(ne,Q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Q,ne)}catch{}var be;return ne||null}normalizeInstanceIdentifier(Q=le){return this.component?this.component.multipleInstances?Q:le:Q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class me{constructor(Q){this.name=Q,this.providers=new Map}addComponent(Q){const Y=this.getProvider(Q.name);if(Y.isComponentSet())throw new Error(`Component ${Q.name} has already been registered with ${this.name}`);Y.setComponent(Q)}addOrOverwriteComponent(Q){this.getProvider(Q.name).isComponentSet()&&this.providers.delete(Q.name),this.addComponent(Q)}getProvider(Q){if(this.providers.has(Q))return this.providers.get(Q);const Y=new de(Q,this);return this.providers.set(Q,Y),Y}getProviders(){return Array.from(this.providers.values())}}},1877:(vt,Ee,O)=>{O.d(Ee,{Am:()=>be,Ub:()=>me,Yd:()=>ce,in:()=>$});const a=[];var $=(()=>{return(Q=$||($={}))[Q.DEBUG=0]="DEBUG",Q[Q.VERBOSE=1]="VERBOSE",Q[Q.INFO=2]="INFO",Q[Q.WARN=3]="WARN",Q[Q.ERROR=4]="ERROR",Q[Q.SILENT=5]="SILENT",$;var Q})();const N={debug:$.DEBUG,verbose:$.VERBOSE,info:$.INFO,warn:$.WARN,error:$.ERROR,silent:$.SILENT},le=$.INFO,de={[$.DEBUG]:"log",[$.VERBOSE]:"log",[$.INFO]:"info",[$.WARN]:"warn",[$.ERROR]:"error"},ye=(Q,Y,...ne)=>{if(Y<Q.logLevel)return;const $e=(new Date).toISOString(),Ae=de[Y];if(!Ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${Y})`);console[Ae](`[${$e}]  ${Q.name}:`,...ne)};class ce{constructor(Y){this.name=Y,this._logLevel=le,this._logHandler=ye,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(Y){if(!(Y in $))throw new TypeError(`Invalid value "${Y}" assigned to \`logLevel\``);this._logLevel=Y}setLogLevel(Y){this._logLevel="string"==typeof Y?N[Y]:Y}get logHandler(){return this._logHandler}set logHandler(Y){if("function"!=typeof Y)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Y}get userLogHandler(){return this._userLogHandler}set userLogHandler(Y){this._userLogHandler=Y}debug(...Y){this._userLogHandler&&this._userLogHandler(this,$.DEBUG,...Y),this._logHandler(this,$.DEBUG,...Y)}log(...Y){this._userLogHandler&&this._userLogHandler(this,$.VERBOSE,...Y),this._logHandler(this,$.VERBOSE,...Y)}info(...Y){this._userLogHandler&&this._userLogHandler(this,$.INFO,...Y),this._logHandler(this,$.INFO,...Y)}warn(...Y){this._userLogHandler&&this._userLogHandler(this,$.WARN,...Y),this._logHandler(this,$.WARN,...Y)}error(...Y){this._userLogHandler&&this._userLogHandler(this,$.ERROR,...Y),this._logHandler(this,$.ERROR,...Y)}}function me(Q){a.forEach(Y=>{Y.setLogLevel(Q)})}function be(Q,Y){for(const ne of a){let $e=null;Y&&Y.level&&($e=N[Y.level]),ne.userLogHandler=null===Q?null:(Ae,Je,...at)=>{const xe=at.map(Te=>{if(null==Te)return null;if("string"==typeof Te)return Te;if("number"==typeof Te||"boolean"==typeof Te)return Te.toString();if(Te instanceof Error)return Te.message;try{return JSON.stringify(Te)}catch{return null}}).filter(Te=>Te).join(" ");Je>=($e??Ae.logLevel)&&Q({level:$[Je].toLowerCase(),message:xe,args:at,type:Ae.name})}}}},259:(vt,Ee,O)=>{O.d(Ee,{C6:()=>a.getApps,KN:()=>a.registerVersion,Mq:()=>a.getApp,ZF:()=>a.initializeApp});var a=O(9681);(0,a.registerVersion)("firebase","9.15.0","app")},9260:(vt,Ee,O)=>{O.d(Ee,{Z:()=>a.Z});var a=O(3942);a.Z.registerVersion("firebase","9.15.0","app-compat")},9568:(vt,Ee,O)=>{O.r(Ee);var a=O(5861),$=O(3942),N=O(552),le=O(2090),ce=(O(9681),O(1877),O(4859));function me(){return window}function Y(){return(Y=(0,a.Z)(function*(j,z,U){var he;const{BuildInfo:Le}=me();(0,N.ap)(z.sessionId,"AuthEvent did not contain a session ID");const dt=yield Te(z.sessionId),Ke={};return(0,N.aq)()?Ke.ibi=Le.packageName:(0,N.ar)()?Ke.apn=Le.packageName:(0,N.as)(j,"operation-not-supported-in-this-environment"),Le.displayName&&(Ke.appDisplayName=Le.displayName),Ke.sessionId=dt,(0,N.at)(j,U,z.type,void 0,null!==(he=z.eventId)&&void 0!==he?he:void 0,Ke)})).apply(this,arguments)}function $e(){return($e=(0,a.Z)(function*(j){const{BuildInfo:z}=me(),U={};(0,N.aq)()?U.iosBundleId=z.packageName:(0,N.ar)()?U.androidPackageName=z.packageName:(0,N.as)(j,"operation-not-supported-in-this-environment"),yield(0,N.au)(j,U)})).apply(this,arguments)}function at(){return(at=(0,a.Z)(function*(j,z,U){const{cordova:he}=me();let Le=()=>{};try{yield new Promise((dt,Ke)=>{let Gt=null;function yt(){var Ft;dt();const er=null===(Ft=he.plugins.browsertab)||void 0===Ft?void 0:Ft.close;"function"==typeof er&&er(),"function"==typeof U?.close&&U.close()}function kn(){Gt||(Gt=window.setTimeout(()=>{Ke((0,N.aw)(j,"redirect-cancelled-by-user"))},2e3))}function Vi(){"visible"===document?.visibilityState&&kn()}z.addPassiveListener(yt),document.addEventListener("resume",kn,!1),(0,N.ar)()&&document.addEventListener("visibilitychange",Vi,!1),Le=()=>{z.removePassiveListener(yt),document.removeEventListener("resume",kn,!1),document.removeEventListener("visibilitychange",Vi,!1),Gt&&window.clearTimeout(Gt)}})}finally{Le()}})).apply(this,arguments)}function Te(j){return Se.apply(this,arguments)}function Se(){return(Se=(0,a.Z)(function*(j){const z=Pe(j),U=yield crypto.subtle.digest("SHA-256",z);return Array.from(new Uint8Array(U)).map(Le=>Le.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Pe(j){if((0,N.ap)(/[0-9a-zA-Z]+/.test(j),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(j);const z=new ArrayBuffer(j.length),U=new Uint8Array(z);for(let he=0;he<j.length;he++)U[he]=j.charCodeAt(he);return U}class Ne extends N.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(z=>{this.resolveInialized=z})}addPassiveListener(z){this.passiveListeners.add(z)}removePassiveListener(z){this.passiveListeners.delete(z)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(z){return this.resolveInialized(),this.passiveListeners.forEach(U=>U(z)),super.onEvent(z)}initialized(){var z=this;return(0,a.Z)(function*(){yield z.initPromise})()}}function re(j){return pe.apply(this,arguments)}function pe(){return(pe=(0,a.Z)(function*(j){const z=yield ee()._get(_e(j));return z&&(yield ee()._remove(_e(j))),z})).apply(this,arguments)}function te(){const j=[],z="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let U=0;U<20;U++){const he=Math.floor(Math.random()*z.length);j.push(z.charAt(he))}return j.join("")}function ee(){return(0,N.az)(N.b)}function _e(j){return(0,N.aA)("authEvent",j.config.apiKey,j.name)}function Ue(j){if(!j?.includes("?"))return{};const[z,...U]=j.split("?");return(0,le.zd)(U.join("?"))}const bn=class mn{constructor(){this._redirectPersistence=N.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=N.aB,this._overrideRedirectResult=N.aC}_initialize(z){var U=this;return(0,a.Z)(function*(){const he=z._key();let Le=U.eventManagers.get(he);return Le||(Le=new Ne(z),U.eventManagers.set(he,Le),U.attachCallbackListeners(z,Le)),Le})()}_openPopup(z){(0,N.as)(z,"operation-not-supported-in-this-environment")}_openRedirect(z,U,he,Le){var dt=this;return(0,a.Z)(function*(){!function xe(j){var z,U,he,Le,dt,Ke,Gt,yt,kn,Vi;const Ft=me();(0,N.ax)("function"==typeof(null===(z=Ft?.universalLinks)||void 0===z?void 0:z.subscribe),j,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,N.ax)(typeof(null===(U=Ft?.BuildInfo)||void 0===U?void 0:U.packageName)<"u",j,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,N.ax)("function"==typeof(null===(dt=null===(Le=null===(he=Ft?.cordova)||void 0===he?void 0:he.plugins)||void 0===Le?void 0:Le.browsertab)||void 0===dt?void 0:dt.openUrl),j,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.ax)("function"==typeof(null===(yt=null===(Gt=null===(Ke=Ft?.cordova)||void 0===Ke?void 0:Ke.plugins)||void 0===Gt?void 0:Gt.browsertab)||void 0===yt?void 0:yt.isAvailable),j,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.ax)("function"==typeof(null===(Vi=null===(kn=Ft?.cordova)||void 0===kn?void 0:kn.InAppBrowser)||void 0===Vi?void 0:Vi.open),j,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(z);const Ke=yield dt._initialize(z);yield Ke.initialized(),Ke.resetRedirect(),(0,N.aD)(),yield dt._originValidation(z);const Gt=function Ve(j,z,U=null){return{type:z,eventId:U,urlResponse:null,sessionId:te(),postBody:null,tenantId:j.tenantId,error:(0,N.aw)(j,"no-auth-event")}}(z,he,Le);yield function Ye(j,z){return ee()._set(_e(j),z)}(z,Gt);const yt=yield function Q(j,z,U){return Y.apply(this,arguments)}(z,Gt,U),kn=yield function Ae(j){const{cordova:z}=me();return new Promise(U=>{z.plugins.browsertab.isAvailable(he=>{let Le=null;he?z.plugins.browsertab.openUrl(j):Le=z.InAppBrowser.open(j,(0,N.av)()?"_blank":"_system","location=yes"),U(Le)})})}(yt);return function Je(j,z,U){return at.apply(this,arguments)}(z,Ke,kn)})()}_isIframeWebStorageSupported(z,U){throw new Error("Method not implemented.")}_originValidation(z){const U=z._key();return this.originValidationPromises[U]||(this.originValidationPromises[U]=function ne(j){return $e.apply(this,arguments)}(z)),this.originValidationPromises[U]}attachCallbackListeners(z,U){const{universalLinks:he,handleOpenURL:Le,BuildInfo:dt}=me(),Ke=setTimeout((0,a.Z)(function*(){yield re(z),U.onEvent(zt())}),500),Gt=function(){var Vi=(0,a.Z)(function*(Ft){clearTimeout(Ke);const er=yield re(z);let nc=null;er&&Ft?.url&&(nc=function we(j,z){var U,he;const Le=function Be(j){const z=Ue(j),U=z.link?decodeURIComponent(z.link):void 0,he=Ue(U).link,Le=z.deep_link_id?decodeURIComponent(z.deep_link_id):void 0;return Ue(Le).link||Le||he||U||j}(z);if(Le.includes("/__/auth/callback")){const dt=Ue(Le),Ke=dt.firebaseError?function ue(j){try{return JSON.parse(j)}catch{return null}}(decodeURIComponent(dt.firebaseError)):null,Gt=null===(he=null===(U=Ke?.code)||void 0===U?void 0:U.split("auth/"))||void 0===he?void 0:he[1],yt=Gt?(0,N.aw)(Gt):null;return yt?{type:j.type,eventId:j.eventId,tenantId:j.tenantId,error:yt,urlResponse:null,sessionId:null,postBody:null}:{type:j.type,eventId:j.eventId,tenantId:j.tenantId,sessionId:j.sessionId,urlResponse:Le,postBody:null}}return null}(er,Ft.url)),U.onEvent(nc||zt())});return function(er){return Vi.apply(this,arguments)}}();typeof he<"u"&&"function"==typeof he.subscribe&&he.subscribe(null,Gt);const yt=Le,kn=`${dt.packageName.toLowerCase()}://`;me().handleOpenURL=function(){var Vi=(0,a.Z)(function*(Ft){if(Ft.toLowerCase().startsWith(kn)&&Gt({url:Ft}),"function"==typeof yt)try{yt(Ft)}catch(er){console.error(er)}});return function(Ft){return Vi.apply(this,arguments)}}()}};function zt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,N.aw)("no-auth-event")}}function nn(){var j;return(null===(j=self?.location)||void 0===j?void 0:j.protocol)||null}function Yr(j=(0,le.z$)()){return!("file:"!==nn()&&"ionic:"!==nn()&&"capacitor:"!==nn()||!j.toLowerCase().match(/iphone|ipad|ipod|android/))}function Os(){try{const j=self.localStorage,z=N.aI();if(j)return j.setItem(z,"1"),j.removeItem(z),!function fs(j=(0,le.z$)()){return function Ui(){return(0,le.w1)()&&11===document?.documentMode}()||function $n(j=(0,le.z$)()){return/Edge\/\d+/.test(j)}(j)}()||(0,le.hl)()}catch{return ds()&&(0,le.hl)()}return!1}function ds(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function ti(){return(function St(){return"http:"===nn()||"https:"===nn()}()||(0,le.ru)()||Yr())&&!function Sr(){return(0,le.b$)()||(0,le.UG)()}()&&Os()&&!ds()}function Er(){return Yr()&&typeof document<"u"}function En(){return(En=(0,a.Z)(function*(){return!!Er()&&new Promise(j=>{const z=setTimeout(()=>{j(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(z),j(!0)})})})).apply(this,arguments)}const ct={LOCAL:"local",NONE:"none",SESSION:"session"},Ai=N.ax,ji="persistence";function ni(j){return pr.apply(this,arguments)}function pr(){return(pr=(0,a.Z)(function*(j){yield j._initializationPromise;const z=Ct(),U=N.aA(ji,j.config.apiKey,j.name);z&&z.setItem(U,j._getPersistence())})).apply(this,arguments)}function Ct(){var j;try{return(null===(j=function Ii(){return typeof window<"u"?window:null}())||void 0===j?void 0:j.sessionStorage)||null}catch{return null}}const Rt=N.ax;class An{constructor(){this.browserResolver=N.az(N.k),this.cordovaResolver=N.az(bn),this.underlyingResolver=null,this._redirectPersistence=N.a,this._completeRedirectFn=N.aB,this._overrideRedirectResult=N.aC}_initialize(z){var U=this;return(0,a.Z)(function*(){return yield U.selectUnderlyingResolver(),U.assertedUnderlyingResolver._initialize(z)})()}_openPopup(z,U,he,Le){var dt=this;return(0,a.Z)(function*(){return yield dt.selectUnderlyingResolver(),dt.assertedUnderlyingResolver._openPopup(z,U,he,Le)})()}_openRedirect(z,U,he,Le){var dt=this;return(0,a.Z)(function*(){return yield dt.selectUnderlyingResolver(),dt.assertedUnderlyingResolver._openRedirect(z,U,he,Le)})()}_isIframeWebStorageSupported(z,U){this.assertedUnderlyingResolver._isIframeWebStorageSupported(z,U)}_originValidation(z){return this.assertedUnderlyingResolver._originValidation(z)}get _shouldInitProactively(){return Er()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Rt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var z=this;return(0,a.Z)(function*(){if(z.underlyingResolver)return;const U=yield function Zr(){return En.apply(this,arguments)}();z.underlyingResolver=U?z.cordovaResolver:z.browserResolver})()}}function ui(j){return j.unwrap()}function Dr(j){return Kr(j)}function Kr(j){const{_tokenResponse:z}=j instanceof le.ZR?j.customData:j;if(!z)return null;if(!(j instanceof le.ZR)&&"temporaryProof"in z&&"phoneNumber"in z)return N.P.credentialFromResult(j);const U=z.providerId;if(!U||U===N.o.PASSWORD)return null;let he;switch(U){case N.o.GOOGLE:he=N.Q;break;case N.o.FACEBOOK:he=N.N;break;case N.o.GITHUB:he=N.T;break;case N.o.TWITTER:he=N.W;break;default:const{oauthIdToken:Le,oauthAccessToken:dt,oauthTokenSecret:Ke,pendingToken:Gt,nonce:yt}=z;return dt||Ke||Le||Gt?Gt?U.startsWith("saml.")?N.aL._create(U,Gt):N.J._fromParams({providerId:U,signInMethod:U,pendingToken:Gt,idToken:Le,accessToken:dt}):new N.U(U).credential({idToken:Le,accessToken:dt,rawNonce:yt}):null}return j instanceof le.ZR?he.credentialFromError(j):he.credentialFromResult(j)}function qt(j,z){return z.catch(U=>{throw U instanceof le.ZR&&function fi(j,z){var U;const he=null===(U=z.customData)||void 0===U?void 0:U._tokenResponse;if("auth/multi-factor-auth-required"===z?.code)z.resolver=new Ji(j,N.an(j,z));else if(he){const Le=Kr(z),dt=z;Le&&(dt.credential=Le,dt.tenantId=he.tenantId||void 0,dt.email=he.email||void 0,dt.phoneNumber=he.phoneNumber||void 0)}}(j,U),U}).then(U=>{const Le=U.user;return{operationType:U.operationType,credential:Dr(U),additionalUserInfo:N.al(U),user:ii.getOrCreate(Le)}})}function Qr(j,z){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,a.Z)(function*(j,z){const U=yield z;return{verificationId:U.verificationId,confirm:he=>qt(j,U.confirm(he))}})).apply(this,arguments)}class Ji{constructor(z,U){this.resolver=U,this.auth=function Rn(j){return j.wrapped()}(z)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(z){return qt(ui(this.auth),this.resolver.resolveSignIn(z))}}class ii{constructor(z){this._delegate=z,this.multiFactor=N.ao(z)}static getOrCreate(z){return ii.USER_MAP.has(z)||ii.USER_MAP.set(z,new ii(z)),ii.USER_MAP.get(z)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(z){return this._delegate.getIdTokenResult(z)}getIdToken(z){return this._delegate.getIdToken(z)}linkAndRetrieveDataWithCredential(z){return this.linkWithCredential(z)}linkWithCredential(z){var U=this;return(0,a.Z)(function*(){return qt(U.auth,N.Z(U._delegate,z))})()}linkWithPhoneNumber(z,U){var he=this;return(0,a.Z)(function*(){return Qr(he.auth,N.l(he._delegate,z,U))})()}linkWithPopup(z){var U=this;return(0,a.Z)(function*(){return qt(U.auth,N.d(U._delegate,z,An))})()}linkWithRedirect(z){var U=this;return(0,a.Z)(function*(){return yield ni(N.aE(U.auth)),N.g(U._delegate,z,An)})()}reauthenticateAndRetrieveDataWithCredential(z){return this.reauthenticateWithCredential(z)}reauthenticateWithCredential(z){var U=this;return(0,a.Z)(function*(){return qt(U.auth,N._(U._delegate,z))})()}reauthenticateWithPhoneNumber(z,U){return Qr(this.auth,N.r(this._delegate,z,U))}reauthenticateWithPopup(z){return qt(this.auth,N.e(this._delegate,z,An))}reauthenticateWithRedirect(z){var U=this;return(0,a.Z)(function*(){return yield ni(N.aE(U.auth)),N.h(U._delegate,z,An)})()}sendEmailVerification(z){return N.ab(this._delegate,z)}unlink(z){var U=this;return(0,a.Z)(function*(){return yield N.ak(U._delegate,z),U})()}updateEmail(z){return N.ag(this._delegate,z)}updatePassword(z){return N.ah(this._delegate,z)}updatePhoneNumber(z){return N.u(this._delegate,z)}updateProfile(z){return N.af(this._delegate,z)}verifyBeforeUpdateEmail(z,U){return N.ac(this._delegate,z,U)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ii.USER_MAP=new WeakMap;const qe=N.ax;let Me=(()=>{class j{constructor(U,he){if(this.app=U,he.isInitialized())return this._delegate=he.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Le}=U.options;qe(Le,"invalid-api-key",{appName:U.name}),qe(Le,"invalid-api-key",{appName:U.name});const dt=typeof window<"u"?An:void 0;this._delegate=he.initialize({options:{persistence:Vt(Le,U.name),popupRedirectResolver:dt}}),this._delegate._updateErrorMap(N.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ii.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(U){this._delegate.languageCode=U}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(U){this._delegate.tenantId=U}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(U,he){N.G(this._delegate,U,he)}applyActionCode(U){return N.a2(this._delegate,U)}checkActionCode(U){return N.a3(this._delegate,U)}confirmPasswordReset(U,he){return N.a1(this._delegate,U,he)}createUserWithEmailAndPassword(U,he){var Le=this;return(0,a.Z)(function*(){return qt(Le._delegate,N.a5(Le._delegate,U,he))})()}fetchProvidersForEmail(U){return this.fetchSignInMethodsForEmail(U)}fetchSignInMethodsForEmail(U){return N.aa(this._delegate,U)}isSignInWithEmailLink(U){return N.a8(this._delegate,U)}getRedirectResult(){var U=this;return(0,a.Z)(function*(){qe(ti(),U._delegate,"operation-not-supported-in-this-environment");const he=yield N.j(U._delegate,An);return he?qt(U._delegate,Promise.resolve(he)):{credential:null,user:null}})()}addFrameworkForLogging(U){!function Kt(j,z){(0,N.aE)(j)._logFramework(z)}(this._delegate,U)}onAuthStateChanged(U,he,Le){const{next:dt,error:Ke,complete:Gt}=st(U,he,Le);return this._delegate.onAuthStateChanged(dt,Ke,Gt)}onIdTokenChanged(U,he,Le){const{next:dt,error:Ke,complete:Gt}=st(U,he,Le);return this._delegate.onIdTokenChanged(dt,Ke,Gt)}sendSignInLinkToEmail(U,he){return N.a7(this._delegate,U,he)}sendPasswordResetEmail(U,he){return N.a0(this._delegate,U,he||void 0)}setPersistence(U){var he=this;return(0,a.Z)(function*(){let Le;switch(function li(j,z){Ai(Object.values(ct).includes(z),j,"invalid-persistence-type"),(0,le.b$)()?Ai(z!==ct.SESSION,j,"unsupported-persistence-type"):(0,le.UG)()?Ai(z===ct.NONE,j,"unsupported-persistence-type"):ds()?Ai(z===ct.NONE||z===ct.LOCAL&&(0,le.hl)(),j,"unsupported-persistence-type"):Ai(z===ct.NONE||Os(),j,"unsupported-persistence-type")}(he._delegate,U),U){case ct.SESSION:Le=N.a;break;case ct.LOCAL:Le=(yield N.az(N.i)._isAvailable())?N.i:N.b;break;case ct.NONE:Le=N.L;break;default:return N.as("argument-error",{appName:he._delegate.name})}return he._delegate.setPersistence(Le)})()}signInAndRetrieveDataWithCredential(U){return this.signInWithCredential(U)}signInAnonymously(){return qt(this._delegate,N.X(this._delegate))}signInWithCredential(U){return qt(this._delegate,N.Y(this._delegate,U))}signInWithCustomToken(U){return qt(this._delegate,N.$(this._delegate,U))}signInWithEmailAndPassword(U,he){return qt(this._delegate,N.a6(this._delegate,U,he))}signInWithEmailLink(U,he){return qt(this._delegate,N.a9(this._delegate,U,he))}signInWithPhoneNumber(U,he){return Qr(this._delegate,N.s(this._delegate,U,he))}signInWithPopup(U){var he=this;return(0,a.Z)(function*(){return qe(ti(),he._delegate,"operation-not-supported-in-this-environment"),qt(he._delegate,N.c(he._delegate,U,An))})()}signInWithRedirect(U){var he=this;return(0,a.Z)(function*(){return qe(ti(),he._delegate,"operation-not-supported-in-this-environment"),yield ni(he._delegate),N.f(he._delegate,U,An)})()}updateCurrentUser(U){return this._delegate.updateCurrentUser(U)}verifyPasswordResetCode(U){return N.a4(this._delegate,U)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return j.Persistence=ct,j})();function st(j,z,U){let he=j;"function"!=typeof j&&({next:he,error:z,complete:U}=j);const Le=he;return{next:Ke=>Le(Ke&&ii.getOrCreate(Ke)),error:z,complete:U}}function Vt(j,z){const U=function Pt(j,z){const U=Ct();if(!U)return[];const he=N.aA(ji,j,z);switch(U.getItem(he)){case ct.NONE:return[N.L];case ct.LOCAL:return[N.i,N.a];case ct.SESSION:return[N.a];default:return[]}}(j,z);if(typeof self<"u"&&!U.includes(N.i)&&U.push(N.i),typeof window<"u")for(const he of[N.b,N.a])U.includes(he)||U.push(he);return U.includes(N.L)||U.push(N.L),U}class Nt{constructor(){this.providerId="phone",this._delegate=new N.P(ui($.Z.auth()))}static credential(z,U){return N.P.credential(z,U)}verifyPhoneNumber(z,U){return this._delegate.verifyPhoneNumber(z,U)}unwrap(){return this._delegate}}Nt.PHONE_SIGN_IN_METHOD=N.P.PHONE_SIGN_IN_METHOD,Nt.PROVIDER_ID=N.P.PROVIDER_ID;const an=N.ax;class K{constructor(z,U,he=$.Z.app()){var Le;an(null===(Le=he.options)||void 0===Le?void 0:Le.apiKey,"invalid-api-key",{appName:he.name}),this._delegate=new N.R(z,U,he.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function J(j){j.INTERNAL.registerComponent(new ce.wA("auth-compat",z=>{const U=z.getProvider("app-compat").getImmediate(),he=z.getProvider("auth");return new Me(U,he)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:N.A.EMAIL_SIGNIN,PASSWORD_RESET:N.A.PASSWORD_RESET,RECOVER_EMAIL:N.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:N.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:N.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:N.A.VERIFY_EMAIL}},EmailAuthProvider:N.M,FacebookAuthProvider:N.N,GithubAuthProvider:N.T,GoogleAuthProvider:N.Q,OAuthProvider:N.U,SAMLAuthProvider:N.V,PhoneAuthProvider:Nt,PhoneMultiFactorGenerator:N.m,RecaptchaVerifier:K,TwitterAuthProvider:N.W,Auth:Me,AuthCredential:N.H,Error:le.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),j.registerVersion("@firebase/auth-compat","0.3.0")}($.Z)},8766:(vt,Ee,O)=>{O.d(Ee,{Lj:()=>ze,X3:()=>Pe});var a=O(5861);let N,le;const ce=new WeakMap,me=new WeakMap,be=new WeakMap,Q=new WeakMap,Y=new WeakMap;let Ae={get(pe,we,te){if(pe instanceof IDBTransaction){if("done"===we)return me.get(pe);if("objectStoreNames"===we)return pe.objectStoreNames||be.get(pe);if("store"===we)return te.objectStoreNames[1]?void 0:te.objectStore(te.objectStoreNames[0])}return Te(pe[we])},set:(pe,we,te)=>(pe[we]=te,!0),has:(pe,we)=>pe instanceof IDBTransaction&&("done"===we||"store"===we)||we in pe};function xe(pe){return"function"==typeof pe?function at(pe){return pe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ye(){return le||(le=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(pe)?function(...we){return pe.apply(Se(this),we),Te(ce.get(this))}:function(...we){return Te(pe.apply(Se(this),we))}:function(we,...te){const ee=pe.call(Se(this),we,...te);return be.set(ee,we.sort?we.sort():[we]),Te(ee)}}(pe):(pe instanceof IDBTransaction&&function $e(pe){if(me.has(pe))return;const we=new Promise((te,ee)=>{const _e=()=>{pe.removeEventListener("complete",ue),pe.removeEventListener("error",Be),pe.removeEventListener("abort",Be)},ue=()=>{te(),_e()},Be=()=>{ee(pe.error||new DOMException("AbortError","AbortError")),_e()};pe.addEventListener("complete",ue),pe.addEventListener("error",Be),pe.addEventListener("abort",Be)});me.set(pe,we)}(pe),((pe,we)=>we.some(te=>pe instanceof te))(pe,function de(){return N||(N=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(pe,Ae):pe)}function Te(pe){if(pe instanceof IDBRequest)return function ne(pe){const we=new Promise((te,ee)=>{const _e=()=>{pe.removeEventListener("success",ue),pe.removeEventListener("error",Be)},ue=()=>{te(Te(pe.result)),_e()},Be=()=>{ee(pe.error),_e()};pe.addEventListener("success",ue),pe.addEventListener("error",Be)});return we.then(te=>{te instanceof IDBCursor&&ce.set(te,pe)}).catch(()=>{}),Y.set(we,pe),we}(pe);if(Q.has(pe))return Q.get(pe);const we=xe(pe);return we!==pe&&(Q.set(pe,we),Y.set(we,pe)),we}const Se=pe=>Y.get(pe);function Pe(pe,we,{blocked:te,upgrade:ee,blocking:_e,terminated:ue}={}){const Be=indexedDB.open(pe,we),Ue=Te(Be);return ee&&Be.addEventListener("upgradeneeded",bt=>{ee(Te(Be.result),bt.oldVersion,bt.newVersion,Te(Be.transaction))}),te&&Be.addEventListener("blocked",()=>te()),Ue.then(bt=>{ue&&bt.addEventListener("close",()=>ue()),_e&&bt.addEventListener("versionchange",()=>_e())}).catch(()=>{}),Ue}function ze(pe,{blocked:we}={}){const te=indexedDB.deleteDatabase(pe);return we&&te.addEventListener("blocked",()=>we()),Te(te).then(()=>{})}const Ne=["get","getKey","getAll","getAllKeys","count"],Ve=["put","add","delete","clear"],Ye=new Map;function re(pe,we){if(!(pe instanceof IDBDatabase)||we in pe||"string"!=typeof we)return;if(Ye.get(we))return Ye.get(we);const te=we.replace(/FromIndex$/,""),ee=we!==te,_e=Ve.includes(te);if(!(te in(ee?IDBIndex:IDBObjectStore).prototype)||!_e&&!Ne.includes(te))return;const ue=function(){var Be=(0,a.Z)(function*(Ue,...bt){const mn=this.transaction(Ue,_e?"readwrite":"readonly");let bn=mn.store;return ee&&(bn=bn.index(bt.shift())),(yield Promise.all([bn[te](...bt),_e&&mn.done]))[0]});return function(bt){return Be.apply(this,arguments)}}();return Ye.set(we,ue),ue}!function Je(pe){Ae=pe(Ae)}(pe=>({...pe,get:(we,te,ee)=>re(we,te)||pe.get(we,te,ee),has:(we,te)=>!!re(we,te)||pe.has(we,te)}))},5861:(vt,Ee,O)=>{function a(N,le,de,ye,ce,me,be){try{var Q=N[me](be),Y=Q.value}catch(ne){return void de(ne)}Q.done?le(Y):Promise.resolve(Y).then(ye,ce)}function $(N){return function(){var le=this,de=arguments;return new Promise(function(ye,ce){var me=N.apply(le,de);function be(Y){a(me,ye,ce,be,Q,"next",Y)}function Q(Y){a(me,ye,ce,be,Q,"throw",Y)}be(void 0)})}}O.d(Ee,{Z:()=>$})}},vt=>{vt(vt.s=8718)}]);